Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
balanced_auto_exception.py:357: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("de..., inputs=Tensor("in...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-07-18 14:30:42.290897: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-07-18 14:30:42.296903: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2099830000 Hz
2019-07-18 14:30:42.298990: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x8daf020 executing computations on platform Host. Devices:
2019-07-18 14:30:42.299006: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
zero : 
25926

one : 
13545
glassfish-AST
all data

Sentence length Average : 30

Under 10 : 21109
Over 10, Under 200 : 17583
Over 200, Under 400 : 621
Over 400 : 158

glassfish-AST
updated_train_data

Sentence length Average : 58

Under 10 : 0
Over 10, Under 200 : 15871
Over 200, Under 400 : 698
Over 400 : 0


Test_zero:  964
Train_zero:  8648
zero:  9612
Test_one:  828
Train_one:  7921
one:  8749

Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 256)          0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 256)          0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            1026        dropout_3[0][0]                  
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 362s - loss: 0.6591 - acc: 0.6073

Test accuracy: 62.462281231140615

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  327

choose_one :  1330

F1score :  0.7117701575532902

AUC : 0.7503860655116751

Confusion Matrix
[[267 562]
 [ 60 768]]
True label 0
0.3220747889022919  
0.6779252110977081  
True label 1
0.07246376811594203  
0.927536231884058  

Train_result {'acc': [0.607271350126845], 'loss': [0.6591354314594537]}
Saved model to disk



2

Epoch 1/1
 - 374s - loss: 0.5726 - acc: 0.6960

Test accuracy: 69.82498491249245

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  513

choose_one :  1144

F1score :  0.7464503042596348

AUC : 0.8132564698752353

Confusion Matrix
[[421 408]
 [ 92 736]]
True label 0
0.5078407720144753  
0.49215922798552475  
True label 1
0.1111111111111111  
0.8888888888888888  

Train_result {'acc': [0.6959540491068611], 'loss': [0.5726242966939123]}
Saved model to disk



3

Epoch 1/1
 - 383s - loss: 0.5040 - acc: 0.7526

Test accuracy: 75.25648762824382

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  1025

choose_one :  632

F1score :  0.7191780821917807

AUC : 0.847065610741071

Confusion Matrix
[[722 107]
 [303 525]]
True label 0
0.8709288299155609  
0.12907117008443908  
True label 1
0.36594202898550726  
0.6340579710144928  

Train_result {'acc': [0.7526352332297926], 'loss': [0.5039856461859228]}
Saved model to disk



4

Epoch 1/1
 - 384s - loss: 0.4540 - acc: 0.7884

Test accuracy: 77.00663850331925

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  1066

choose_one :  591

F1score :  0.7315010570824524

AUC : 0.8680996252979261

Confusion Matrix
[[757  72]
 [309 519]]
True label 0
0.9131483715319663  
0.08685162846803378  
True label 1
0.37318840579710144  
0.6268115942028986  

Train_result {'acc': [0.7884239096130783], 'loss': [0.45402279730578426]}
Saved model to disk



5

Epoch 1/1
 - 385s - loss: 0.4155 - acc: 0.8094

Test accuracy: 77.73083886541944

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  684

choose_one :  973

F1score :  0.7951138256524153

AUC : 0.8723346911184537

Confusion Matrix
[[572 257]
 [112 716]]
True label 0
0.6899879372738239  
0.3100120627261761  
True label 1
0.13526570048309178  
0.8647342995169082  

Train_result {'acc': [0.8093795367076693], 'loss': [0.41546156434543896]}
Saved model to disk



6

Epoch 1/1
 - 384s - loss: 0.3792 - acc: 0.8286

Test accuracy: 80.92939046469523

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  869

choose_one :  788

F1score :  0.8044554455445545

AUC : 0.8864472066339166

Confusion Matrix
[[691 138]
 [178 650]]
True label 0
0.8335343787696019  
0.16646562123039807  
True label 1
0.21497584541062803  
0.785024154589372  

Train_result {'acc': [0.8286309411096383], 'loss': [0.3791796294365057]}
Saved model to disk



7

Epoch 1/1
 - 385s - loss: 0.3506 - acc: 0.8445

Test accuracy: 80.62764031382017

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  814

choose_one :  843

F1score :  0.807899461400359

AUC : 0.8940403139805249

Confusion Matrix
[[661 168]
 [153 675]]
True label 0
0.7973462002412546  
0.20265379975874548  
True label 1
0.18478260869565216  
0.8152173913043478  

Train_result {'acc': [0.8444739001451745], 'loss': [0.3506207383930672]}
Saved model to disk



8

Epoch 1/1
 - 383s - loss: 0.3280 - acc: 0.8552

Test accuracy: 80.86904043452022

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  946

choose_one :  711

F1score :  0.7940220922677061

AUC : 0.8949625006555828

Confusion Matrix
[[729 100]
 [217 611]]
True label 0
0.879372738238842  
0.12062726176115803  
True label 1
0.26207729468599034  
0.7379227053140096  

Train_result {'acc': [0.8552041911254181], 'loss': [0.32795475109520944]}
Saved model to disk



9

Epoch 1/1
 - 380s - loss: 0.2965 - acc: 0.8684

Test accuracy: 81.11044055522028

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  724

choose_one :  933

F1score :  0.8222600795002839

AUC : 0.8965548387848696

Confusion Matrix
[[620 209]
 [104 724]]
True label 0
0.7478890229191797  
0.25211097708082025  
True label 1
0.12560386473429952  
0.8743961352657005  

Train_result {'acc': [0.8683961370952471], 'loss': [0.2965466213481772]}
Saved model to disk



10

Epoch 1/1
 - 382s - loss: 0.2751 - acc: 0.8842

Test accuracy: 79.78273989136994

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  980

choose_one :  677

F1score :  0.7774086378737542

AUC : 0.8920910473593119

Confusion Matrix
[[737  92]
 [243 585]]
True label 0
0.8890229191797346  
0.11097708082026538  
True label 1
0.29347826086956524  
0.7065217391304348  

Train_result {'acc': [0.8842390961345455], 'loss': [0.27512830660430904]}
Saved model to disk



11

Epoch 1/1
 - 383s - loss: 0.2506 - acc: 0.8942

Test accuracy: 82.07604103802052

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  888

choose_one :  769

F1score :  0.8140262993112086

AUC : 0.9028309528388199

Confusion Matrix
[[710 119]
 [178 650]]
True label 0
0.856453558504222  
0.14354644149577805  
True label 1
0.21497584541062803  
0.785024154589372  

Train_result {'acc': [0.8942119548065391], 'loss': [0.2505624473398136]}
Saved model to disk



12

Epoch 1/1
 - 383s - loss: 0.2274 - acc: 0.9040

Test accuracy: 82.67954133977067

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  830

choose_one :  827

F1score :  0.8265861027190333

AUC : 0.9013478785335921

Confusion Matrix
[[686 143]
 [144 684]]
True label 0
0.827503015681544  
0.17249698431845598  
True label 1
0.17391304347826086  
0.8260869565217391  

Train_result {'acc': [0.9039954554061731], 'loss': [0.22735530346018765]}
Saved model to disk



13

Epoch 1/1
 - 380s - loss: 0.2116 - acc: 0.9141

Test accuracy: 83.10199155099578

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  883

choose_one :  774

F1score :  0.8252184769038701

AUC : 0.9056404899681241

Confusion Matrix
[[716 113]
 [167 661]]
True label 0
0.8636911942098915  
0.13630880579010857  
True label 1
0.20169082125603865  
0.7983091787439613  

Train_result {'acc': [0.9140945527993436], 'loss': [0.21156659721223037]}
Saved model to disk



14

Epoch 1/1
 - 384s - loss: 0.1898 - acc: 0.9241

Test accuracy: 82.73989136994568

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  763

choose_one :  894

F1score :  0.8339140534262486

AUC : 0.9020267710937454

Confusion Matrix
[[653 176]
 [110 718]]
True label 0
0.7876960193003619  
0.21230398069963813  
True label 1
0.13285024154589373  
0.8671497584541062  

Train_result {'acc': [0.9240674114788616], 'loss': [0.1898221768251176]}
Saved model to disk



15

Epoch 1/1
 - 382s - loss: 0.1789 - acc: 0.9281

Test accuracy: 83.40374170187084

data size :  17500

zero :  8751

one :  8749

train_zero :  7922

train_one :  7921

test_zero :  829

test_one :  828

choose_zero :  806

choose_one :  851

F1score :  0.836212030970816

AUC : 0.9028469781996817

Confusion Matrix
[[680 149]
 [126 702]]
True label 0
0.8202653799758746  
0.17973462002412546  
True label 1
0.15217391304347827  
0.8478260869565217  

Train_result {'acc': [0.9281070504323676], 'loss': [0.17888228915608728]}
Saved model to disk



