Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
First data
zero :  10792
one :  10820

Second data
zero :  10792
one :  10820

Third data
zero :  10792
one :  10820

4th data
zero :  10792
one :  10820

glassfish-code
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
glassfish-code

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

180
glassfish-AST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-AST

Sentence length Average : 27

Under 10 : 9172
Over 10, Under 30 : 5625
Over 30, Under 100 : 5826
Over 100, Under 150 : 821
Over 150, Under 200 : 164
Over 200, Under 400 : 4
Over 400 : 0

253
glassfish-CAST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-CAST

Sentence length Average : 50

Under 10 : 4320
Over 10, Under 30 : 6874
Over 30, Under 100 : 7059
Over 100, Under 150 : 1787
Over 150, Under 200 : 894
Over 200, Under 400 : 678
Over 400 : 0

344
glassfish-depth_num
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-depth_num

Sentence length Average : 27

Under 10 : 9172
Over 10, Under 30 : 5625
Over 30, Under 100 : 5826
Over 100, Under 150 : 822
Over 150, Under 200 : 163
Over 200, Under 400 : 4
Over 400 : 0

253
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 180, 200)     0                                            
__________________________________________________________________________________________________
input_2 (InputLayer)            (None, 253, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 180, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
masking_2 (Masking)             (None, 253, 200)     0           input_2[0][0]                    
__________________________________________________________________________________________________
input_3 (InputLayer)            (None, 344, 200)     0                                            
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
forwards_2 (LSTM)               (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
backwards_2 (LSTM)              (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
masking_3 (Masking)             (None, 344, 200)     0           input_3[0][0]                    
__________________________________________________________________________________________________
input_4 (InputLayer)            (None, 253, 200)     0                                            
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 64)           0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 64)           0           backwords_1[0][0]                
__________________________________________________________________________________________________
after_dp_forward_2 (Dropout)    (None, 64)           0           forwards_2[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_2 (Dropout)   (None, 64)           0           backwards_2[0][0]                
__________________________________________________________________________________________________
forwards_3 (LSTM)               (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
backwards_3 (LSTM)              (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
masking_4 (Masking)             (None, 253, 200)     0           input_4[0][0]                    
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
concatenate_2 (Concatenate)     (None, 128)          0           after_dp_forward_2[0][0]         
                                                                 after_dp_backward_2[0][0]        
__________________________________________________________________________________________________
after_dp_forward_3 (Dropout)    (None, 64)           0           forwards_3[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_3 (Dropout)   (None, 64)           0           backwards_3[0][0]                
__________________________________________________________________________________________________
forwards_4 (LSTM)               (None, 64)           67840       masking_4[0][0]                  
__________________________________________________________________________________________________
backwards_4 (LSTM)              (None, 64)           67840       masking_4[0][0]                  
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
after_dp_2 (Dropout)            (None, 128)          0           concatenate_2[0][0]              
__________________________________________________________________________________________________
concatenate_3 (Concatenate)     (None, 128)          0           after_dp_forward_3[0][0]         
                                                                 after_dp_backward_3[0][0]        
__________________________________________________________________________________________________
after_dp_forward_4 (Dropout)    (None, 64)           0           forwards_4[0][0]                 
__________________________________________________________________________________________________/home/2014313303/taeha/JavaAutoException/model.py:139: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=[<tf.Tenso..., outputs=Tensor("ou...)`
  model = Model(input=[input1, input2, input3, input4], output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-10-14 20:00:47.095432: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-14 20:00:47.108526: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-14 20:00:47.116616: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xe1035e0 executing computations on platform Host. Devices:
2019-10-14 20:00:47.116635: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>

after_dp_backward_4 (Dropout)   (None, 64)           0           backwards_4[0][0]                
__________________________________________________________________________________________________
concatenate_5 (Concatenate)     (None, 256)          0           after_dp_1[0][0]                 
                                                                 after_dp_2[0][0]                 
__________________________________________________________________________________________________
after_dp_3 (Dropout)            (None, 128)          0           concatenate_3[0][0]              
__________________________________________________________________________________________________
concatenate_4 (Concatenate)     (None, 128)          0           after_dp_forward_4[0][0]         
                                                                 after_dp_backward_4[0][0]        
__________________________________________________________________________________________________
concatenate_6 (Concatenate)     (None, 384)          0           concatenate_5[0][0]              
                                                                 after_dp_3[0][0]                 
__________________________________________________________________________________________________
after_dp_4 (Dropout)            (None, 128)          0           concatenate_4[0][0]              
__________________________________________________________________________________________________
concatenate_7 (Concatenate)     (None, 512)          0           concatenate_6[0][0]              
                                                                 after_dp_4[0][0]                 
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 384)          196992      concatenate_7[0][0]              
__________________________________________________________________________________________________
dense_2 (Dense)                 (None, 512)          197120      dense_1[0][0]                    
__________________________________________________________________________________________________
dense_3 (Dense)                 (None, 256)          131328      dense_2[0][0]                    
__________________________________________________________________________________________________
output (Dense)                  (None, 2)            514         dense_3[0][0]                    
==================================================================================================
Total params: 1,068,674
Trainable params: 1,068,674
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 3s - loss: 0.6875 - acc: 0.5312
100/100 [==============================] - 7s 74ms/step - loss: 0.6871 - acc: 0.5400

Test accuracy: 49.92097433990331

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  21512

choose_one :  0

F1score :  0.0

AUC :  0.5345655622503577

Confusion Matrix
[[10739     0]
 [10773     0]]
True label 0
1.0  
0.0  
True label 1
1.0  
0.0  

Train_result {'loss': [0.6871496677398682], 'acc': [0.5400000095367432]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.7707 - acc: 0.5625
100/100 [==============================] - 1s 13ms/step - loss: 0.7522 - acc: 0.5300

Test accuracy: 50.13480847898847

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  42

choose_one :  21470

F1score :  0.6673076326644543

AUC :  0.5901077719388745

Confusion Matrix
[[   27 10712]
 [   15 10758]]
True label 0
0.0025142005773349475  
0.997485799422665  
True label 1
0.001392369813422445  
0.9986076301865775  

Train_result {'loss': [0.752207944393158], 'acc': [0.5299999952316284]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6823 - acc: 0.5312
100/100 [==============================] - 2s 19ms/step - loss: 0.7156 - acc: 0.5000

Test accuracy: 58.4417999256229

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9943

choose_one :  11569

F1score :  0.5998567719989258

AUC :  0.6112256746614547

Confusion Matrix
[[5871 4868]
 [4072 6701]]
True label 0
0.5466989477604991  
0.4533010522395009  
True label 1
0.3779819920170797  
0.6220180079829203  

Train_result {'loss': [0.715558226108551], 'acc': [0.5000000011920929]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6736 - acc: 0.5000
100/100 [==============================] - 2s 18ms/step - loss: 0.6527 - acc: 0.5400

Test accuracy: 50.72982521383413

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20136

choose_one :  1376

F1score :  0.127582517079595

AUC :  0.6028863186166539

Confusion Matrix
[[10138   601]
 [ 9998   775]]
True label 0
0.9440357575193221  
0.055964242480677905  
True label 1
0.9280608929731736  
0.07193910702682632  

Train_result {'loss': [0.6526954960823059], 'acc': [0.5399999976158142]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.7215 - acc: 0.5156
100/100 [==============================] - 2s 16ms/step - loss: 0.6976 - acc: 0.5700

Test accuracy: 51.338787653402754

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  18621

choose_one :  2891

F1score :  0.2338992974238876

AUC :  0.6252331950402437

Confusion Matrix
[[9446 1293]
 [9175 1598]]
True label 0
0.8795977279076264  
0.12040227209237359  
True label 1
0.8516662025433955  
0.14833379745660447  

Train_result {'loss': [0.6976231360435485], 'acc': [0.5700000071525574]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6332 - acc: 0.6094
100/100 [==============================] - 2s 19ms/step - loss: 0.6309 - acc: 0.6700

Test accuracy: 58.94384529564894

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  6523

choose_one :  14989

F1score :  0.6571694744196879

AUC :  0.6433806094250155

Confusion Matrix
[[4215 6524]
 [2308 8465]]
True label 0
0.3924946456839557  
0.6075053543160444  
True label 1
0.2142393019586002  
0.7857606980413998  

Train_result {'loss': [0.6308542799949646], 'acc': [0.6700000047683716]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6140 - acc: 0.7188
100/100 [==============================] - 2s 17ms/step - loss: 0.5879 - acc: 0.7300

Test accuracy: 61.98400892525102

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  8971

choose_one :  12541

F1score :  0.6492236424465986

AUC :  0.6486534932067938

Confusion Matrix
[[5766 4973]
 [3205 7568]]
True label 0
0.5369215010708632  
0.4630784989291368  
True label 1
0.2975030168012624  
0.7024969831987375  

Train_result {'loss': [0.5879277682304382], 'acc': [0.73]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5708 - acc: 0.7344
100/100 [==============================] - 2s 18ms/step - loss: 0.5532 - acc: 0.7400

Test accuracy: 58.53941985868353

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  15374

choose_one :  6138

F1score :  0.47259180415114416

AUC :  0.6472534391473885

Confusion Matrix
[[8597 2142]
 [6777 3996]]
True label 0
0.8005400875314275  
0.1994599124685725  
True label 1
0.6290726817042607  
0.37092731829573933  

Train_result {'loss': [0.5531990027427673], 'acc': [0.74]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5729 - acc: 0.6875
100/100 [==============================] - 2s 16ms/step - loss: 0.5418 - acc: 0.7400

Test accuracy: 62.10952026775753

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  11750

choose_one :  9762

F1score :  0.6030679327976625

AUC :  0.6568073728170637

Confusion Matrix
[[7169 3570]
 [4581 6192]]
True label 0
0.6675668125523792  
0.33243318744762085  
True label 1
0.4252297410192147  
0.5747702589807853  

Train_result {'loss': [0.5417612481117249], 'acc': [0.7399999928474427]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5107 - acc: 0.7656
100/100 [==============================] - 2s 16ms/step - loss: 0.4658 - acc: 0.7900

Test accuracy: 62.76961695797695

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9208

choose_one :  12304

F1score :  0.6529444901850326

AUC :  0.6629141788055928

Confusion Matrix
[[5969 4770]
 [3239 7534]]
True label 0
0.555824564670826  
0.44417543532917403  
True label 1
0.30065905504501994  
0.69934094495498  

Train_result {'loss': [0.4658171546459198], 'acc': [0.7899999928474426]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4581 - acc: 0.7969
100/100 [==============================] - 2s 18ms/step - loss: 0.4840 - acc: 0.7900

Test accuracy: 62.38843436221644

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  10168

choose_one :  11344

F1score :  0.6341728082470498

AUC :  0.6696564650219389

Confusion Matrix
[[6408 4331]
 [3760 7013]]
True label 0
0.5967036036874942  
0.4032963963125058  
True label 1
0.34902069989789286  
0.6509793001021071  

Train_result {'loss': [0.48404409885406496], 'acc': [0.7900000047683716]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4077 - acc: 0.8438
100/100 [==============================] - 2s 17ms/step - loss: 0.4262 - acc: 0.8300

Test accuracy: 62.40702863518036

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  10034

choose_one :  11478

F1score :  0.6365556604197564

AUC :  0.6761651596684752

Confusion Matrix
[[6343 4396]
 [3691 7082]]
True label 0
0.5906508985939101  
0.40934910140608993  
True label 1
0.3426157987561496  
0.6573842012438503  

Train_result {'loss': [0.42621477007865904], 'acc': [0.8300000095367431]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5261 - acc: 0.7812
100/100 [==============================] - 2s 19ms/step - loss: 0.4197 - acc: 0.8200

Test accuracy: 62.68129416139829

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9479

choose_one :  12033

F1score :  0.6479873717442779

AUC :  0.683629263672817

Confusion Matrix
[[6095 4644]
 [3384 7389]]
True label 0
0.5675575006983891  
0.43244249930161094  
True label 1
0.3141186299081036  
0.6858813700918964  

Train_result {'loss': [0.4197151350975037], 'acc': [0.8200000023841858]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3906 - acc: 0.8438
100/100 [==============================] - 2s 17ms/step - loss: 0.3355 - acc: 0.8700

Test accuracy: 62.40702863518036

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12450

choose_one :  9062

F1score :  0.592286362490547

AUC :  0.6879197265459502

Confusion Matrix
[[7551 3188]
 [4899 5874]]
True label 0
0.7031380947946736  
0.2968619052053264  
True label 1
0.4547479810637705  
0.5452520189362294  

Train_result {'loss': [0.3354981970787048], 'acc': [0.8700000071525573]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4022 - acc: 0.8281
100/100 [==============================] - 2s 17ms/step - loss: 0.3983 - acc: 0.8300
/home/2014313303/.local/lib/python3.5/site-packages/sklearn/metrics/classification.py:1143: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
  'precision', 'predicted', average, warn_for)

Test accuracy: 62.788211230940874

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12590

choose_one :  8922

F1score :  0.5935516628585935

AUC :  0.6929808268036042

Confusion Matrix
[[7662 3077]
 [4928 5845]]
True label 0
0.7134742527237173  
0.2865257472762827  
True label 1
0.45743989603638724  
0.5425601039636128  

Train_result {'loss': [0.398329815864563], 'acc': [0.8299999928474426]}
Saved model to disk


[[49.92097433990331, 1], [50.13480847898847, 2], [58.4417999256229, 3], [50.72982521383413, 4], [51.338787653402754, 5], [58.94384529564894, 6], [61.98400892525102, 7], [58.53941985868353, 8], [62.10952026775753, 9], [62.76961695797695, 10], [62.38843436221644, 11], [62.40702863518036, 12], [62.68129416139829, 13], [62.40702863518036, 14], [62.788211230940874, 15]]
max accuracy :  [62.788211230940874, 15]
