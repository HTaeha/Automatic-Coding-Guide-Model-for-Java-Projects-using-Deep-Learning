Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
First data
zero :  9884
one :  9718

Second data
zero :  9884
one :  9718

Third data
zero :  9884
one :  9718

guava-code
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673

Sentence length Average : 36

Under 10 : 2153
Over 10, Under 30 : 9115
Over 30, Under 100 : 7127
Over 100, Under 150 : 1007
Over 150, Under 200 : 200
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
guava-code

Sentence length Average : 36

Under 10 : 2153
Over 10, Under 30 : 9115
Over 30, Under 100 : 7127
Over 100, Under 150 : 1007
Over 150, Under 200 : 200
Over 200, Under 400 : 0
Over 400 : 0

198
guava-AST
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673
After balance out data.
guava-AST

Sentence length Average : 27

Under 10 : 6120
Over 10, Under 30 : 7121
Over 30, Under 100 : 5710
Over 100, Under 150 : 587
Over 150, Under 200 : 64
Over 200, Under 400 : 0
Over 400 : 0

193
guava-CAST
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673
After balance out data.
guava-CAST

Sentence length Average : 57

Under 10 : 1490
Over 10, Under 30 : 6826
Over 30, Under 100 : 8029
Over 100, Under 150 : 1685
Over 150, Under 200 : 889
Over 200, Under 400 : 680
Over 400 : 3

401
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 198, 200)     0                                            
__________________________________________________________________________________________________
input_2 (InputLayer)            (None, 193, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 198, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
masking_2 (Masking)             (None, 193, 200)     0           input_2[0][0]                    
__________________________________________________________________________________________________
input_3 (InputLayer)            (None, 401, 200)     0                                            
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
forwards_2 (LSTM)               (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
backwards_2 (LSTM)              (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
masking_3 (Masking)             (None, 401, 200)     0           input_3[0][0]                    
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 64)           0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 64)           0           backwords_1[0][0]                
__________________________________________________________________________________________________
after_dp_forward_2 (Dropout)    (None, 64)           0           forwards_2[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_2 (Dropout)   (None, 64)           0           backwards_2[0][0]                
__________________________________________________________________________________________________
forwards_3 (LSTM)               (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
backwards_3 (LSTM)              (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
concatenate_2 (Concatenate)     (None, 128)          0           after_dp_forward_2[0][0]         
                                                                 after_dp_backward_2[0][0]        
__________________________________________________________________________________________________
after_dp_forward_3 (Dropout)    (None, 64)           0           forwards_3[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_3 (Dropout)   (None, 64)           0           backwards_3[0][0]                
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
after_dp_2 (Dropout)            (None, 128)          0           concatenate_2[0][0]              
__________________________________________________________________________________________________
concatenate_3 (Concatenate)     (None, 128)          0           after_dp_forward_3[0][0]         
                                                                 after_dp_backward_3[0][0]        
__________________________________________________________________________________________________
concatenate_4 (Concatenate)     (None, 256)          0           after_dp_1[0][0]                 
                                                                 after_dp_2[0][0]                 
__________________________________________________________________________________________________
after_dp_3 (Dropout)            (None, 128)          0           concatenate_3[0][0]              
__________________________________________________________________________________________________
concatenate_5 (Concatenate)     (None, 384)          0           concatenate_4[0][0]              
                                                                 after_dp_3[0][0]                 
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 256)          98560       concatenate_5[0][0]              
__________________________________________________________________________________________________
dense_2 (Dense)                 (None, 128)          32896       dense_1[0][0]                    
__________________________________________________________________________________________________
output (Dense)                  (None, 2)            258         dense_2[0][0]                    
==================================================================================================
Total params: 538,754
Trainable params: 538,754/home/2014313303/taeha/JavaAutoException/model.py:86: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=[<tf.Tenso..., outputs=Tensor("ou...)`
  model = Model(input=[input1, input2, input3], output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-10-15 01:00:21.893784: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-15 01:00:21.909128: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-15 01:00:21.927565: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xae3dc60 executing computations on platform Host. Devices:
2019-10-15 01:00:21.927646: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>

Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 3s - loss: 0.7035 - acc: 0.5625
100/100 [==============================] - 7s 73ms/step - loss: 0.7055 - acc: 0.5300

Test accuracy: 53.394523638601164

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  984

choose_one :  18518

F1score :  0.6775921393352489

AUC :  0.7147633453800923

Confusion Matrix
[[ 862 8967]
 [ 122 9551]]
True label 0
0.08769966425882593  
0.9123003357411741  
True label 1
0.012612426341362556  
0.9873875736586375  

Train_result {'loss': [0.7054738450050354], 'acc': [0.5299999952316284]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6996 - acc: 0.4844
100/100 [==============================] - 2s 16ms/step - loss: 0.6913 - acc: 0.5200

Test accuracy: 64.17290534304175

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  4206

choose_one :  15296

F1score :  0.7201730145380272

AUC :  0.7498544294871223

Confusion Matrix
[[3524 6305]
 [ 682 8991]]
True label 0
0.3585308780140401  
0.64146912198596  
True label 1
0.07050553085909232  
0.9294944691409077  

Train_result {'loss': [0.6913349437713623], 'acc': [0.5199999928474426]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6101 - acc: 0.6562
100/100 [==============================] - 1s 14ms/step - loss: 0.5923 - acc: 0.7000

Test accuracy: 69.98769356989027

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10058

choose_one :  9444

F1score :  0.6938327143380237

AUC :  0.7835398369073843

Confusion Matrix
[[7017 2812]
 [3041 6632]]
True label 0
0.7139078237867534  
0.2860921762132465  
True label 1
0.3143802336400289  
0.685619766359971  

Train_result {'loss': [0.5923411202430725], 'acc': [0.7000000047683715]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5934 - acc: 0.6875
100/100 [==============================] - 2s 18ms/step - loss: 0.5614 - acc: 0.7300

Test accuracy: 69.58773459132397

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8070

choose_one :  11432

F1score :  0.7189765458422174

AUC :  0.7849180565883997

Confusion Matrix
[[5984 3845]
 [2086 7587]]
True label 0
0.6088106623257706  
0.3911893376742293  
True label 1
0.21565181432854336  
0.7843481856714566  

Train_result {'loss': [0.5613653206825256], 'acc': [0.7300000095367432]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5118 - acc: 0.7344
100/100 [==============================] - 2s 15ms/step - loss: 0.5266 - acc: 0.7000

Test accuracy: 69.00317916111169

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  6696

choose_one :  12806

F1score :  0.7310823435206193

AUC :  0.7833804484893898

Confusion Matrix
[[5240 4589]
 [1456 8217]]
True label 0
0.5331162885339302  
0.4668837114660698  
True label 1
0.15052207174609739  
0.8494779282539027  

Train_result {'loss': [0.5266169619560241], 'acc': [0.7000000023841858]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4371 - acc: 0.7969
100/100 [==============================] - 1s 14ms/step - loss: 0.5018 - acc: 0.7400

Test accuracy: 69.126243462209

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  6838

choose_one :  12664

F1score :  0.7304472400053723

AUC :  0.7878384964722455

Confusion Matrix
[[5323 4506]
 [1515 8158]]
True label 0
0.5415606877607081  
0.4584393122392919  
True label 1
0.15662152382921535  
0.8433784761707847  

Train_result {'loss': [0.5018371510505676], 'acc': [0.7400000023841858]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4427 - acc: 0.7812
100/100 [==============================] - 2s 20ms/step - loss: 0.4553 - acc: 0.7900

Test accuracy: 70.75684545174855

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9324

choose_one :  10178

F1score :  0.7127096871694121

AUC :  0.7953585291215229

Confusion Matrix
[[6725 3104]
 [2599 7074]]
True label 0
0.6841998168684505  
0.3158001831315495  
True label 1
0.2686860332885351  
0.7313139667114649  

Train_result {'loss': [0.45531265139579774], 'acc': [0.7900000095367432]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4627 - acc: 0.8125
100/100 [==============================] - 2s 19ms/step - loss: 0.4071 - acc: 0.8400

Test accuracy: 70.7722284893857

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7693

choose_one :  11809

F1score :  0.7346615771343451

AUC :  0.7989911209586336

Confusion Matrix
[[5911 3918]
 [1782 7891]]
True label 0
0.601383660596195  
0.3986163394038051  
True label 1
0.18422412901891863  
0.8157758709810814  

Train_result {'loss': [0.40708056807518006], 'acc': [0.8400000023841858]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3550 - acc: 0.8125
100/100 [==============================] - 2s 19ms/step - loss: 0.3412 - acc: 0.8200

Test accuracy: 72.1515741975182

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8054

choose_one :  11448

F1score :  0.7428625538563515

AUC :  0.8025246551132397

Confusion Matrix
[[6226 3603]
 [1828 7845]]
True label 0
0.6334316817580629  
0.36656831824193714  
True label 1
0.18897963403287502  
0.811020365967125  

Train_result {'loss': [0.34124722957611087], 'acc': [0.8199999928474426]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3436 - acc: 0.8125
100/100 [==============================] - 2s 16ms/step - loss: 0.3524 - acc: 0.8500

Test accuracy: 72.71561891088093

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8500

choose_one :  11002

F1score :  0.7426360338573157

AUC :  0.8038282134055041

Confusion Matrix
[[6504 3325]
 [1996 7677]]
True label 0
0.6617153321802829  
0.33828466781971717  
True label 1
0.20634756538819393  
0.793652434611806  

Train_result {'loss': [0.3524094390869141], 'acc': [0.8500000071525574]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3832 - acc: 0.8281
100/100 [==============================] - 1s 15ms/step - loss: 0.3203 - acc: 0.8600

Test accuracy: 72.62332068505795

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7938

choose_one :  11564

F1score :  0.7485991430051324

AUC :  0.8058549674572164

Confusion Matrix
[[6214 3615]
 [1724 7949]]
True label 0
0.6322108047614203  
0.3677891952385797  
True label 1
0.17822805747958234  
0.8217719425204176  

Train_result {'loss': [0.3202778422832489], 'acc': [0.8600000071525574]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.2788 - acc: 0.8594
100/100 [==============================] - 2s 23ms/step - loss: 0.2796 - acc: 0.8800

Test accuracy: 72.61819300584555

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7635

choose_one :  11867

F1score :  0.7520891364902508

AUC :  0.8092031076597452

Confusion Matrix
[[6062 3767]
 [1573 8100]]
True label 0
0.6167463628039475  
0.3832536371960525  
True label 1
0.16261759536855164  
0.8373824046314483  

Train_result {'loss': [0.2796357798576355], 'acc': [0.8800000071525573]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3000 - acc: 0.8594
100/100 [==============================] - 2s 15ms/step - loss: 0.2741 - acc: 0.8800

Test accuracy: 72.93098143780125

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7786

choose_one :  11716

F1score :  0.7531908925148441

AUC :  0.8136971479328461

Confusion Matrix
[[6168 3661]
 [1618 8055]]
True label 0
0.6275307762742903  
0.3724692237257096  
True label 1
0.16726971983872635  
0.8327302801612736  

Train_result {'loss': [0.27405228435993195], 'acc': [0.8800000071525573]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1643 - acc: 0.9688
100/100 [==============================] - 2s 15ms/step - loss: 0.1977 - acc: 0.9400

Test accuracy: 72.40795815813763

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7138

choose_one :  12364

F1score :  0.755819757680265

AUC :  0.8176653084502987

Confusion Matrix
[[5793 4036]
 [1345 8328]]
True label 0
0.5893783701292095  
0.41062162987079054  
True label 1
0.1390468313863331  
0.8609531686136669  

Train_result {'loss': [0.1977345597743988], 'acc': [0.9400000023841858]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3160 - acc: 0.8750
100/100 [==============================] - 1s 13ms/step - loss: 0.2863 - acc: 0.8800

Test accuracy: 73.05917341811097

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7819

choose_one :  11683

F1score :  0.7539801460947744

AUC :  0.8183960928822805

Confusion Matrix
[[6197 3632]
 [1622 8051]]
True label 0
0.6304812290161766  
0.36951877098382335  
True label 1
0.16768324201385298  
0.832316757986147  

Train_result {'loss': [0.28634098172187805], 'acc': [0.8800000023841857]}
Saved model to disk


[[53.394523638601164, 1], [64.17290534304175, 2], [69.98769356989027, 3], [69.58773459132397, 4], [69.00317916111169, 5], [69.126243462209, 6], [70.75684545174855, 7], [70.7722284893857, 8], [72.1515741975182, 9], [72.71561891088093, 10], [72.62332068505795, 11], [72.61819300584555, 12], [72.93098143780125, 13], [72.40795815813763, 14], [73.05917341811097, 15]]
max accuracy :  [73.05917341811097, 15]
