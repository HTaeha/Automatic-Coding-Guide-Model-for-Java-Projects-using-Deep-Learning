Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
/home/2014313303/taeha/JavaAutoException/model.py:159: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("de..., inputs=Tensor("in...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-10-14 23:19:48.180269: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-14 23:19:48.203894: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-14 23:19:48.205354: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x84520e0 executing computations on platform Host. Devices:
2019-10-14 23:19:48.205404: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero :  9884
one :  9718

guava-code
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673

Sentence length Average : 36

Under 10 : 2153
Over 10, Under 30 : 9115
Over 30, Under 100 : 7127
Over 100, Under 150 : 1007
Over 150, Under 200 : 200
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
guava-code

Sentence length Average : 36

Under 10 : 2153
Over 10, Under 30 : 9115
Over 30, Under 100 : 7127
Over 100, Under 150 : 1007
Over 150, Under 200 : 200
Over 200, Under 400 : 0
Over 400 : 0

193
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 193, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 193, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 64)           0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 64)           0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            258         dropout_3[0][0]                  
==================================================================================================
Total params: 135,938
Trainable params: 135,938
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 1s - loss: 0.7344 - acc: 0.5312
100/100 [==============================] - 3s 27ms/step - loss: 0.6928 - acc: 0.5500

Test accuracy: 51.6459850271767

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  18863

choose_one :  639

F1score :  0.08553141970519783

AUC :  0.7353802172636421

Confusion Matrix
[[9631  198]
 [9232  441]]
True label 0
0.9798555295553973  
0.020144470444602706  
True label 1
0.9544091801922878  
0.045590819807712187  

Train_result {'acc': [0.5499999928474426], 'loss': [0.6927677154541015]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.7283 - acc: 0.5469
100/100 [==============================] - 1s 8ms/step - loss: 0.7067 - acc: 0.5800

Test accuracy: 65.15741975182033

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  14438

choose_one :  5064

F1score :  0.5389156544751307

AUC :  0.7515548548429987

Confusion Matrix
[[8736 1093]
 [5702 3971]]
True label 0
0.8887984535558042  
0.11120154644419575  
True label 1
0.5894758606430269  
0.410524139356973  

Train_result {'acc': [0.5800000023841858], 'loss': [0.7067325067520142]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5314 - acc: 0.7344
100/100 [==============================] - 1s 6ms/step - loss: 0.5318 - acc: 0.7500

Test accuracy: 68.9929238026869

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9848

choose_one :  9654

F1score :  0.6871216432969421

AUC :  0.7625211282474404

Confusion Matrix
[[6815 3014]
 [3033 6640]]
True label 0
0.6933563943432699  
0.3066436056567301  
True label 1
0.31355318928977566  
0.6864468107102243  

Train_result {'acc': [0.7500000047683716], 'loss': [0.5318464827537537]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5092 - acc: 0.7500
100/100 [==============================] - 1s 7ms/step - loss: 0.4988 - acc: 0.7800

Test accuracy: 67.38283252999693

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  12240

choose_one :  7262

F1score :  0.6243873634484794

AUC :  0.7570849040561975

Confusion Matrix
[[7854 1975]
 [4386 5287]]
True label 0
0.799063994302574  
0.20093600569742598  
True label 1
0.45342706502636204  
0.546572934973638  

Train_result {'acc': [0.7799999928474426], 'loss': [0.4987570917606354]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5458 - acc: 0.7969
100/100 [==============================] - 1s 7ms/step - loss: 0.4953 - acc: 0.8100

Test accuracy: 69.23905240488155

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9516

choose_one :  9986

F1score :  0.694847143801821

AUC :  0.7692189915980511

Confusion Matrix
[[6673 3156]
 [2843 6830]]
True label 0
0.6789093498829993  
0.3210906501170007  
True label 1
0.2939108859712602  
0.7060891140287398  

Train_result {'acc': [0.8099999928474426], 'loss': [0.49530364871025084]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4372 - acc: 0.7969
100/100 [==============================] - 1s 7ms/step - loss: 0.4384 - acc: 0.8100

Test accuracy: 68.83909342631524

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10686

choose_one :  8816

F1score :  0.6713180810211478

AUC :  0.7687679467766795

Confusion Matrix
[[7219 2610]
 [3467 6206]]
True label 0
0.7344592532302371  
0.26554074676976297  
True label 1
0.35842034529101624  
0.6415796547089838  

Train_result {'acc': [0.8099999928474426], 'loss': [0.4384297275543213]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4124 - acc: 0.8281
100/100 [==============================] - 1s 8ms/step - loss: 0.4190 - acc: 0.8200

Test accuracy: 69.4339042149523

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9580

choose_one :  9922

F1score :  0.6957897422811943

AUC :  0.774992435781608

Confusion Matrix
[[6724 3105]
 [2856 6817]]
True label 0
0.6840980771187303  
0.3159019228812697  
True label 1
0.29525483304042177  
0.7047451669595782  

Train_result {'acc': [0.8200000095367431], 'loss': [0.41900031089782713]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3837 - acc: 0.7969
100/100 [==============================] - 1s 7ms/step - loss: 0.3768 - acc: 0.8300

Test accuracy: 69.838990872731

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9165

choose_one :  10337

F1score :  0.7060469765117441

AUC :  0.7779369564218875

Confusion Matrix
[[6556 3273]
 [2609 7064]]
True label 0
0.6670057991657341  
0.33299420083426595  
True label 1
0.2697198387263517  
0.7302801612736483  

Train_result {'acc': [0.8300000023841858], 'loss': [0.3768000280857086]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3544 - acc: 0.8750
100/100 [==============================] - 1s 6ms/step - loss: 0.3588 - acc: 0.8700

Test accuracy: 70.4645677366424

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7933

choose_one :  11569

F1score :  0.7288390923641843

AUC :  0.7779445082817344

Confusion Matrix
[[6001 3828]
 [1932 7741]]
True label 0
0.6105402380710143  
0.3894597619289857  
True label 1
0.1997312105861677  
0.8002687894138323  

Train_result {'acc': [0.8699999976158143], 'loss': [0.3588308310508728]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3500 - acc: 0.8438
100/100 [==============================] - 1s 9ms/step - loss: 0.3568 - acc: 0.8600

Test accuracy: 70.25433288893447

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10656

choose_one :  8846

F1score :  0.6867541443922458

AUC :  0.7767476541930172

Confusion Matrix
[[7342 2487]
 [3314 6359]]
True label 0
0.7469732424458236  
0.2530267575541764  
True label 1
0.3426031220924222  
0.6573968779075778  

Train_result {'acc': [0.8600000023841858], 'loss': [0.3567845582962036]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3732 - acc: 0.8594
100/100 [==============================] - 1s 6ms/step - loss: 0.3539 - acc: 0.8700

Test accuracy: 67.98789867705877

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  13550

choose_one :  5952

F1score :  0.600448

AUC :  0.7685133081598361

Confusion Matrix
[[8568 1261]
 [4982 4691]]
True label 0
0.871706175602808  
0.12829382439719197  
True label 1
0.5150418691202315  
0.4849581308797684  

Train_result {'acc': [0.8700000023841858], 'loss': [0.3539437711238861]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3290 - acc: 0.8281
100/100 [==============================] - 1s 6ms/step - loss: 0.3354 - acc: 0.8300

Test accuracy: 70.31586503948313

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  11736

choose_one :  7766

F1score :  0.6680428923676818

AUC :  0.7754078932522944

Confusion Matrix
[[7888 1941]
 [3848 5825]]
True label 0
0.8025231457930614  
0.19747685420693864  
True label 1
0.3978083324718288  
0.6021916675281712  

Train_result {'acc': [0.8299999928474426], 'loss': [0.3354033422470093]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3189 - acc: 0.8594
100/100 [==============================] - 1s 7ms/step - loss: 0.3110 - acc: 0.8800

Test accuracy: 68.5468157112091

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  13231

choose_one :  6271

F1score :  0.6152784746613146

AUC :  0.7689527149130732

Confusion Matrix
[[8463 1366]
 [4768 4905]]
True label 0
0.8610235018821853  
0.13897649811781462  
True label 1
0.49291843275095626  
0.5070815672490437  

Train_result {'acc': [0.8800000071525573], 'loss': [0.31104579210281375]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.2812 - acc: 0.9219
100/100 [==============================] - 1s 7ms/step - loss: 0.2731 - acc: 0.9200

Test accuracy: 70.34663111475746

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  11342

choose_one :  8160

F1score :  0.6757135647395278

AUC :  0.7725451493673208

Confusion Matrix
[[7694 2135]
 [3648 6025]]
True label 0
0.7827856343473395  
0.2172143656526605  
True label 1
0.37713222371549676  
0.6228677762845033  

Train_result {'acc': [0.9200000071525574], 'loss': [0.27305037021636963]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.2095 - acc: 0.9375
100/100 [==============================] - 1s 7ms/step - loss: 0.2097 - acc: 0.9400

Test accuracy: 70.2440775305097

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  12474

choose_one :  7028

F1score :  0.6525357763008204

AUC :  0.7787658729602367

Confusion Matrix
[[8250 1579]
 [4224 5449]]
True label 0
0.8393529351917794  
0.16064706480822058  
True label 1
0.4366794169337331  
0.563320583066267  

Train_result {'acc': [0.9399999904632569], 'loss': [0.2097415244579315]}
Saved model to disk


[[51.6459850271767, 1], [65.15741975182033, 2], [68.9929238026869, 3], [67.38283252999693, 4], [69.23905240488155, 5], [68.83909342631524, 6], [69.4339042149523, 7], [69.838990872731, 8], [70.4645677366424, 9], [70.25433288893447, 10], [67.98789867705877, 11], [70.31586503948313, 12], [68.5468157112091, 13], [70.34663111475746, 14], [70.2440775305097, 15]]
max accuracy :  [70.4645677366424, 9]
