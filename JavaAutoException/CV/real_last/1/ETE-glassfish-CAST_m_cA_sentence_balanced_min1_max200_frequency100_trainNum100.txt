Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
/home/2014313303/taeha/JavaAutoException/model.py:44: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=[<tf.Tenso..., outputs=Tensor("ou...)`
  model = Model(input=[input1, input2], output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-10-14 21:07:42.416145: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-14 21:07:42.426766: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-14 21:07:42.428083: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x99f3d90 executing computations on platform Host. Devices:
2019-10-14 21:07:42.428104: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero :  10792
one :  10820

Second data
zero :  10792
one :  10820

glassfish-code
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
glassfish-code

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

175
glassfish-AST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-AST

Sentence length Average : 27

Under 10 : 9172
Over 10, Under 30 : 5625
Over 30, Under 100 : 5826
Over 100, Under 150 : 821
Over 150, Under 200 : 164
Over 200, Under 400 : 4
Over 400 : 0

253
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 175, 200)     0                                            
__________________________________________________________________________________________________
input_2 (InputLayer)            (None, 253, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 175, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
masking_2 (Masking)             (None, 253, 200)     0           input_2[0][0]                    
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
forwards_2 (LSTM)               (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
backwards_2 (LSTM)              (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 64)           0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 64)           0           backwords_1[0][0]                
__________________________________________________________________________________________________
after_dp_forward_2 (Dropout)    (None, 64)           0           forwards_2[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_2 (Dropout)   (None, 64)           0           backwards_2[0][0]                
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
concatenate_2 (Concatenate)     (None, 128)          0           after_dp_forward_2[0][0]         
                                                                 after_dp_backward_2[0][0]        
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
after_dp_2 (Dropout)            (None, 128)          0           concatenate_2[0][0]              
__________________________________________________________________________________________________
concatenate_3 (Concatenate)     (None, 256)          0           after_dp_1[0][0]                 
                                                                 after_dp_2[0][0]                 
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 128)          32896       concatenate_3[0][0]              
__________________________________________________________________________________________________
output (Dense)                  (None, 2)            258         dense_1[0][0]                    
==================================================================================================
Total params: 304,514
Trainable params: 304,514
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 3s - loss: 0.6833 - acc: 0.6094
100/100 [==============================] - 6s 59ms/step - loss: 0.6801 - acc: 0.5900

Test accuracy: 53.19356638155448

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  4290

choose_one :  17222

F1score :  0.6403286301125201

AUC :  0.557570530811203

Confusion Matrix
[[2480 8259]
 [1810 8963]]
True label 0
0.23093397895520998  
0.76906602104479  
True label 1
0.16801262415297502  
0.831987375847025  

Train_result {'acc': [0.5900000095367431], 'loss': [0.6801083946228027]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6333 - acc: 0.6875
100/100 [==============================] - 1s 9ms/step - loss: 0.6640 - acc: 0.6400

Test accuracy: 55.26682781703235

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  4976

choose_one :  16536

F1score :  0.6476253249844374

AUC :  0.5830609294063535

Confusion Matrix
[[3046 7693]
 [1930 8843]]
True label 0
0.28363907253934256  
0.7163609274606574  
True label 1
0.17915158266035458  
0.8208484173396454  

Train_result {'acc': [0.6400000095367432], 'loss': [0.6640103578567504]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6609 - acc: 0.5781
100/100 [==============================] - 1s 11ms/step - loss: 0.6750 - acc: 0.5800

Test accuracy: 55.32725920416512

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  14651

choose_one :  6861

F1score :  0.4550300555744584

AUC :  0.5937341655587824

Confusion Matrix
[[7890 2849]
 [6761 4012]]
True label 0
0.7347052798212124  
0.2652947201787876  
True label 1
0.6275874872366101  
0.37241251276338994  

Train_result {'acc': [0.5799999928474426], 'loss': [0.6749990725517273]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6305 - acc: 0.6875
100/100 [==============================] - 1s 10ms/step - loss: 0.6156 - acc: 0.6900

Test accuracy: 56.150055782818896

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  15372

choose_one :  6140

F1score :  0.44226334772068826

AUC :  0.6057922687962729

Confusion Matrix
[[8339 2400]
 [7033 3740]]
True label 0
0.7765155042368935  
0.22348449576310644  
True label 1
0.6528357931866704  
0.3471642068133296  

Train_result {'acc': [0.6899999904632569], 'loss': [0.6156224346160889]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6921 - acc: 0.5781
100/100 [==============================] - 1s 10ms/step - loss: 0.6513 - acc: 0.6100

Test accuracy: 57.08441799925623

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  15495

choose_one :  6017

F1score :  0.4501488981536629

AUC :  0.6161854924080816

Confusion Matrix
[[8501 2238]
 [6994 3779]]
True label 0
0.7916007077009033  
0.20839929229909676  
True label 1
0.649215631671772  
0.35078436832822796  

Train_result {'acc': [0.6100000071525574], 'loss': [0.6513385558128357]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6541 - acc: 0.6094
100/100 [==============================] - 1s 10ms/step - loss: 0.6270 - acc: 0.6300

Test accuracy: 57.721271848270725

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  14832

choose_one :  6680

F1score :  0.47888615137798657

AUC :  0.6239328546609926

Confusion Matrix
[[8238 2501]
 [6594 4179]]
True label 0
0.7671105317068628  
0.23288946829313717  
True label 1
0.6120857699805068  
0.38791423001949316  

Train_result {'acc': [0.6300000071525573], 'loss': [0.6269586133956909]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6323 - acc: 0.6250
100/100 [==============================] - 1s 8ms/step - loss: 0.6093 - acc: 0.6500

Test accuracy: 58.85087393082931

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12213

choose_one :  9299

F1score :  0.5589876444798724

AUC :  0.6313868498625483

Confusion Matrix
[[7050 3689]
 [5163 5610]]
True label 0
0.6564857063041252  
0.34351429369587483  
True label 1
0.47925368978000554  
0.5207463102199944  

Train_result {'acc': [0.6499999904632568], 'loss': [0.6093164300918579]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5348 - acc: 0.7344
100/100 [==============================] - 1s 9ms/step - loss: 0.5634 - acc: 0.7100

Test accuracy: 59.0833023428784

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  11333

choose_one :  10179

F1score :  0.5798969072164948

AUC :  0.6354310581508383

Confusion Matrix
[[6635 4104]
 [4698 6075]]
True label 0
0.617841512245088  
0.382158487754912  
True label 1
0.43609022556390975  
0.5639097744360902  

Train_result {'acc': [0.7100000071525574], 'loss': [0.5634444427490234]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5122 - acc: 0.7500
100/100 [==============================] - 1s 8ms/step - loss: 0.5296 - acc: 0.7400

Test accuracy: 59.134436593529195

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12970

choose_one :  8542

F1score :  0.5448615066010872

AUC :  0.6389296331121749

Confusion Matrix
[[7459 3280]
 [5511 5262]]
True label 0
0.6945711891237545  
0.30542881087624546  
True label 1
0.5115566694514063  
0.4884433305485937  

Train_result {'acc': [0.7399999952316284], 'loss': [0.5295737051963806]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4258 - acc: 0.8750
100/100 [==============================] - 1s 9ms/step - loss: 0.4659 - acc: 0.8100

Test accuracy: 59.90609892153217

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12480

choose_one :  9032

F1score :  0.5645039131532441

AUC :  0.6437442972673637

Confusion Matrix
[[7297 3442]
 [5183 5590]]
True label 0
0.6794859856597448  
0.32051401434025517  
True label 1
0.4811101828645688  
0.5188898171354311  

Train_result {'acc': [0.8099999904632569], 'loss': [0.46590911626815795]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4313 - acc: 0.8281
100/100 [==============================] - 1s 8ms/step - loss: 0.4712 - acc: 0.7700

Test accuracy: 61.235589438452955

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9806

choose_one :  11706

F1score :  0.6290315405489568

AUC :  0.6492284502733383

Confusion Matrix
[[6103 4636]
 [3703 7070]]
True label 0
0.5683024490175994  
0.4316975509824006  
True label 1
0.34372969460688757  
0.6562703053931124  

Train_result {'acc': [0.7700000071525573], 'loss': [0.471192467212677]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5022 - acc: 0.7500
100/100 [==============================] - 1s 10ms/step - loss: 0.5017 - acc: 0.7500

Test accuracy: 60.64057270360729

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  8982

choose_one :  12530

F1score :  0.6366562245204479

AUC :  0.6533535246620689

Confusion Matrix
[[5627 5112]
 [3355 7418]]
True label 0
0.5239780240245833  
0.4760219759754167  
True label 1
0.31142671493548685  
0.6885732850645131  

Train_result {'acc': [0.75], 'loss': [0.5016597652435303]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5017 - acc: 0.7344
100/100 [==============================] - 1s 10ms/step - loss: 0.4956 - acc: 0.7500

Test accuracy: 61.10542952770547

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9906

choose_one :  11606

F1score :  0.6261227043210151

AUC :  0.6563521828060164

Confusion Matrix
[[6139 4600]
 [3767 7006]]
True label 0
0.571654716454046  
0.428345283545954  
True label 1
0.34967047247749  
0.6503295275225099  

Train_result {'acc': [0.7500000047683716], 'loss': [0.4955797910690308]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3883 - acc: 0.8438
100/100 [==============================] - 1s 9ms/step - loss: 0.4023 - acc: 0.8300

Test accuracy: 59.715507623651916

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  13173

choose_one :  8339

F1score :  0.5465676015069066

AUC :  0.6580472721501567

Confusion Matrix
[[7623 3116]
 [5550 5223]]
True label 0
0.7098426296675668  
0.29015737033243316  
True label 1
0.5151768309663046  
0.4848231690336953  

Train_result {'acc': [0.8300000095367431], 'loss': [0.4023036348819733]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4171 - acc: 0.7812
100/100 [==============================] - 1s 8ms/step - loss: 0.3771 - acc: 0.8000

Test accuracy: 60.12458162885831

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12629

choose_one :  8883

F1score :  0.5635938135938137

AUC :  0.6613203071447575

Confusion Matrix
[[7395 3344]
 [5234 5539]]
True label 0
0.6886116025700717  
0.3113883974299283  
True label 1
0.4858442402302051  
0.5141557597697949  

Train_result {'acc': [0.7999999928474426], 'loss': [0.37707701563835144]}
Saved model to disk


[[53.19356638155448, 1], [55.26682781703235, 2], [55.32725920416512, 3], [56.150055782818896, 4], [57.08441799925623, 5], [57.721271848270725, 6], [58.85087393082931, 7], [59.0833023428784, 8], [59.134436593529195, 9], [59.90609892153217, 10], [61.235589438452955, 11], [60.64057270360729, 12], [61.10542952770547, 13], [59.715507623651916, 14], [60.12458162885831, 15]]
max accuracy :  [61.235589438452955, 11]
