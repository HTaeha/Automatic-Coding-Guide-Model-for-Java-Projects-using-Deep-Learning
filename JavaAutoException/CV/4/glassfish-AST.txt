Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
balanced_auto_exception.py:350: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("de..., inputs=Tensor("in...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-07-01 21:17:48.868019: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-07-01 21:17:48.878926: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2099830000 Hz
2019-07-01 21:17:48.881279: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x82d3070 executing computations on platform Host. Devices:
2019-07-01 21:17:48.881316: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
zero : 
25742

one : 
13729
glassfish-AST
all data

Sentence length Average : 33

Under 10 : 19609
Over 10, Under 200 : 18956
Over 200, Under 400 : 722
Over 400 : 184

glassfish-AST
updated_train_data

Sentence length Average : 61

Under 10 : 0
Over 10, Under 200 : 16941
Over 200, Under 400 : 830
Over 400 : 0


Test_zero:  1091
Train_zero:  9527
zero:  10618
Test_one:  999
Train_one:  8244
one:  9243

Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 256)          0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 256)          0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            1026        dropout_3[0][0]                  
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 374s - loss: 0.5142 - acc: 0.7235

Test accuracy: 72.68634317158579

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  932

choose_one :  1067

F1score :  0.7357212003872217

AUC : 0.8211606606606606

Confusion Matrix
[[693 307]
 [239 760]]
True label 0
0.693  
0.307  
True label 1
0.23923923923923923  
0.7607607607607607  

Train_result {'loss': [0.5142050204264603], 'acc': [0.7234519983037057]}
Saved model to disk



2

Epoch 1/1
 - 373s - loss: 0.4296 - acc: 0.7847

Test accuracy: 77.48874437218609

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  1142

choose_one :  857

F1score :  0.757543103448276

AUC : 0.8643518518518519

Confusion Matrix
[[846 154]
 [296 703]]
True label 0
0.846  
0.154  
True label 1
0.2962962962962963  
0.7037037037037037  

Train_result {'loss': [0.42963083022472837], 'acc': [0.7847049548183638]}
Saved model to disk



3

Epoch 1/1
 - 371s - loss: 0.3888 - acc: 0.8113

Test accuracy: 75.28764382191096

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  768

choose_one :  1231

F1score :  0.7784753363228699

AUC : 0.880458958958959

Confusion Matrix
[[637 363]
 [131 868]]
True label 0
0.637  
0.363  
True label 1
0.13113113113113112  
0.8688688688688688  

Train_result {'loss': [0.3888335618257624], 'acc': [0.8113287646418106]}
Saved model to disk



4

Epoch 1/1
 - 379s - loss: 0.3585 - acc: 0.8333

Test accuracy: 81.89094547273636

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  1024

choose_one :  975

F1score :  0.8166160081053698

AUC : 0.9070285285285284

Confusion Matrix
[[831 169]
 [193 806]]
True label 0
0.831  
0.169  
True label 1
0.1931931931931932  
0.8068068068068068  

Train_result {'loss': [0.3585094328165647], 'acc': [0.8332827945903329]}
Saved model to disk



5

Epoch 1/1
 - 393s - loss: 0.3286 - acc: 0.8500

Test accuracy: 83.69184592296148

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  1094

choose_one :  905

F1score :  0.8287815126050418

AUC : 0.9138663663663663

Confusion Matrix
[[884 116]
 [210 789]]
True label 0
0.884  
0.116  
True label 1
0.21021021021021022  
0.7897897897897898  

Train_result {'loss': [0.3286393257397389], 'acc': [0.8499605797913041]}
Saved model to disk



6

Epoch 1/1
 - 393s - loss: 0.3037 - acc: 0.8638

Test accuracy: 83.94197098549274

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  1211

choose_one :  788

F1score :  0.8203693340794629

AUC : 0.922525025025025

Confusion Matrix
[[945  55]
 [266 733]]
True label 0
0.945  
0.055  
True label 1
0.26626626626626626  
0.7337337337337337  

Train_result {'loss': [0.30374938648844063], 'acc': [0.8638486263641949]}
Saved model to disk



7

Epoch 1/1
 - 393s - loss: 0.2858 - acc: 0.8728

Test accuracy: 84.79239619809906

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  998

choose_one :  1001

F1score :  0.848

AUC : 0.9267252252252253

Confusion Matrix
[[847 153]
 [151 848]]
True label 0
0.847  
0.153  
True label 1
0.15115115115115116  
0.8488488488488488  

Train_result {'loss': [0.28580271685865927], 'acc': [0.8728243071174483]}
Saved model to disk



8

Epoch 1/1
 - 394s - loss: 0.2585 - acc: 0.8873

Test accuracy: 84.94247123561782

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  1025

choose_one :  974

F1score :  0.8474404460212873

AUC : 0.9248343343343344

Confusion Matrix
[[862 138]
 [163 836]]
True label 0
0.862  
0.138  
True label 1
0.16316316316316315  
0.8368368368368369  

Train_result {'loss': [0.2584668595983876], 'acc': [0.8872581721147431]}
Saved model to disk



9

Epoch 1/1
 - 394s - loss: 0.2434 - acc: 0.8934

Test accuracy: 85.84292146073037

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  1087

choose_one :  912

F1score :  0.8519099947671376

AUC : 0.9367972972972973

Confusion Matrix
[[902  98]
 [185 814]]
True label 0
0.902  
0.098  
True label 1
0.18518518518518517  
0.8148148148148148  

Train_result {'loss': [0.24338872750613433], 'acc': [0.8934441142579902]}
Saved model to disk



10

Epoch 1/1
 - 394s - loss: 0.2249 - acc: 0.9062

Test accuracy: 85.99299649824911

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  1098

choose_one :  901

F1score :  0.8526315789473684

AUC : 0.9317447447447447

Confusion Matrix
[[909  91]
 [189 810]]
True label 0
0.909  
0.091  
True label 1
0.1891891891891892  
0.8108108108108109  

Train_result {'loss': [0.22491773194826872], 'acc': [0.9061798774977018]}
Saved model to disk



11

Epoch 1/1
 - 394s - loss: 0.2032 - acc: 0.9153

Test accuracy: 85.44272136068034

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  971

choose_one :  1028

F1score :  0.8564380858411444

AUC : 0.9333103103103104

Confusion Matrix
[[840 160]
 [131 868]]
True label 0
0.84  
0.16  
True label 1
0.13113113113113112  
0.8688688688688688  

Train_result {'loss': [0.203249558847086], 'acc': [0.9153374977293713]}
Saved model to disk



12

Epoch 1/1
 - 392s - loss: 0.1893 - acc: 0.9208

Test accuracy: 86.5432716358179

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  1091

choose_one :  908

F1score :  0.8589407446250656

AUC : 0.9356891891891892

Confusion Matrix
[[911  89]
 [180 819]]
True label 0
0.911  
0.089  
True label 1
0.18018018018018017  
0.8198198198198198  

Train_result {'loss': [0.1892650294586934], 'acc': [0.920795681969798]}
Saved model to disk



13

Epoch 1/1
 - 391s - loss: 0.1704 - acc: 0.9302

Test accuracy: 85.74287143571786

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  1109

choose_one :  890

F1score :  0.8491265219692958

AUC : 0.9284159159159158

Confusion Matrix
[[912  88]
 [197 802]]
True label 0
0.912  
0.088  
True label 1
0.1971971971971972  
0.8028028028028028  

Train_result {'loss': [0.17038563985631264], 'acc': [0.9301958881678695]}
Saved model to disk



14

Epoch 1/1
 - 392s - loss: 0.1558 - acc: 0.9365

Test accuracy: 86.49324662331166

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  1082

choose_one :  917

F1score :  0.859081419624217

AUC : 0.9367602602602603

Confusion Matrix
[[906  94]
 [176 823]]
True label 0
0.906  
0.094  
True label 1
0.17617617617617617  
0.8238238238238238  

Train_result {'loss': [0.15578270402705727], 'acc': [0.9365031232943174]}
Saved model to disk



15

Epoch 1/1
 - 392s - loss: 0.1487 - acc: 0.9449

Test accuracy: 85.64282141070535

data size :  18488

zero :  9245

one :  9243

train_zero :  8245

train_one :  8244

test_zero :  1000

test_one :  999

choose_zero :  989

choose_one :  1010

F1score :  0.8571428571428571

AUC : 0.9293478478478477

Confusion Matrix
[[851 149]
 [138 861]]
True label 0
0.851  
0.149  
True label 1
0.13813813813813813  
0.8618618618618619  

Train_result {'loss': [0.14865397390587493], 'acc': [0.944872339135181]}
Saved model to disk



