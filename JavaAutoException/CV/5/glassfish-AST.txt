Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
balanced_auto_exception.py:350: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("de..., inputs=Tensor("in...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-07-04 09:35:54.541897: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-07-04 09:35:54.550646: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2099830000 Hz
2019-07-04 09:35:54.553085: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x82fa960 executing computations on platform Host. Devices:
2019-07-04 09:35:54.553121: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
zero : 
25742

one : 
13729
glassfish-AST
all data

Sentence length Average : 33

Under 10 : 19609
Over 10, Under 200 : 18956
Over 200, Under 400 : 722
Over 400 : 184

glassfish-AST
updated_train_data

Sentence length Average : 61

Under 10 : 0
Over 10, Under 200 : 17020
Over 200, Under 400 : 819
Over 400 : 0


Test_zero:  1068
Train_zero:  9550
zero:  10618
Test_one:  954
Train_one:  8289
one:  9243

Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 256)          0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 256)          0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            1026        dropout_3[0][0]                  
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 401s - loss: 0.5247 - acc: 0.7148

Test accuracy: 73.91304347826086

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  983

choose_one :  926

F1score :  0.7351063829787234

AUC : 0.8431415807786449

Confusion Matrix
[[720 235]
 [263 691]]
True label 0
0.7539267015706806  
0.24607329842931938  
True label 1
0.27568134171907754  
0.7243186582809225  

Train_result {'loss': [0.5246864338103491], 'acc': [0.7148199529543279]}
Saved model to disk



2

Epoch 1/1
 - 395s - loss: 0.4428 - acc: 0.7706

Test accuracy: 80.40859088528025

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  949

choose_one :  960

F1score :  0.8045977011494254

AUC : 0.8977641674075538

Confusion Matrix
[[765 190]
 [184 770]]
True label 0
0.8010471204188482  
0.19895287958115182  
True label 1
0.1928721174004193  
0.8071278825995807  

Train_result {'loss': [0.4428427662462009], 'acc': [0.7706134266276377]}
Saved model to disk



3

Epoch 1/1
 - 395s - loss: 0.3965 - acc: 0.8051

Test accuracy: 78.889470927187

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  1328

choose_one :  581

F1score :  0.7374592833876221

AUC : 0.8964854511727969

Confusion Matrix
[[940  15]
 [388 566]]
True label 0
0.9842931937172775  
0.015706806282722512  
True label 1
0.40670859538784065  
0.5932914046121593  

Train_result {'loss': [0.39646240859600007], 'acc': [0.8050545871282948]}
Saved model to disk



4

Epoch 1/1
 - 395s - loss: 0.3640 - acc: 0.8263

Test accuracy: 81.45625982189628

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  1249

choose_one :  660

F1score :  0.7806691449814125

AUC : 0.9158604717529937

Confusion Matrix
[[925  30]
 [324 630]]
True label 0
0.9685863874345549  
0.031413612565445025  
True label 1
0.33962264150943394  
0.660377358490566  

Train_result {'loss': [0.36397687020783], 'acc': [0.8263465830267206]}
Saved model to disk



5

Epoch 1/1
 - 393s - loss: 0.3401 - acc: 0.8403

Test accuracy: 83.65636458878994

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  1181

choose_one :  728

F1score :  0.8145065398335315

AUC : 0.9203475034849133

Confusion Matrix
[[912  43]
 [269 685]]
True label 0
0.9549738219895288  
0.04502617801047121  
True label 1
0.28197064989517817  
0.7180293501048218  

Train_result {'loss': [0.3400646338850607], 'acc': [0.8403401893962241]}
Saved model to disk



6

Epoch 1/1
 - 396s - loss: 0.3086 - acc: 0.8581

Test accuracy: 83.28968046097434

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  822

choose_one :  1087

F1score :  0.843704066634003

AUC : 0.9353518390463961

Confusion Matrix
[[729 226]
 [ 93 861]]
True label 0
0.7633507853403141  
0.23664921465968586  
True label 1
0.09748427672955975  
0.9025157232704403  

Train_result {'loss': [0.30863233379535665], 'acc': [0.8581337837040716]}
Saved model to disk



7

Epoch 1/1
 - 393s - loss: 0.2882 - acc: 0.8700

Test accuracy: 84.33734939759037

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  896

choose_one :  1013

F1score :  0.8479918657854602

AUC : 0.9343530134896331

Confusion Matrix
[[776 179]
 [120 834]]
True label 0
0.812565445026178  
0.187434554973822  
True label 1
0.12578616352201258  
0.8742138364779874  

Train_result {'loss': [0.28822497030788313], 'acc': [0.8699559683955487]}
Saved model to disk



8

Epoch 1/1
 - 393s - loss: 0.2677 - acc: 0.8811

Test accuracy: 86.27553693033002

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  1087

choose_one :  822

F1score :  0.8524774774774775

AUC : 0.9390233461753761

Confusion Matrix
[[890  65]
 [197 757]]
True label 0
0.9319371727748691  
0.06806282722513089  
True label 1
0.20649895178197064  
0.7935010482180294  

Train_result {'loss': [0.2676597125531663], 'acc': [0.8811146631280535]}
Saved model to disk



9

Epoch 1/1
 - 393s - loss: 0.2489 - acc: 0.8930

Test accuracy: 86.95652173913044

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  1004

choose_one :  905

F1score :  0.8660570199031737

AUC : 0.94542790345418

Confusion Matrix
[[855 100]
 [149 805]]
True label 0
0.8952879581151832  
0.10471204188481675  
True label 1
0.15618448637316562  
0.8438155136268344  

Train_result {'loss': [0.24890098112168332], 'acc': [0.8929971650883648]}
Saved model to disk



10

Epoch 1/1
 - 396s - loss: 0.2277 - acc: 0.9029

Test accuracy: 87.42797276060766

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  985

choose_one :  924

F1score :  0.8722044728434506

AUC : 0.9450250803999694

Confusion Matrix
[[850 105]
 [135 819]]
True label 0
0.8900523560209425  
0.1099476439790576  
True label 1
0.14150943396226415  
0.8584905660377359  

Train_result {'loss': [0.22771079016909956], 'acc': [0.9029495144459859]}
Saved model to disk



11

Epoch 1/1
 - 394s - loss: 0.2071 - acc: 0.9143

Test accuracy: 87.00890518596124

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  1079

choose_one :  830

F1score :  0.860986547085202

AUC : 0.9465803944812144

Confusion Matrix
[[893  62]
 [186 768]]
True label 0
0.9350785340314136  
0.06492146596858639  
True label 1
0.1949685534591195  
0.8050314465408805  

Train_result {'loss': [0.20707892988155083], 'acc': [0.9142891609903857]}
Saved model to disk



12

Epoch 1/1
 - 395s - loss: 0.1877 - acc: 0.9219

Test accuracy: 87.11367207962284

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  1019

choose_one :  890

F1score :  0.8665943600867678

AUC : 0.9417596891567059

Confusion Matrix
[[864  91]
 [155 799]]
True label 0
0.9047120418848168  
0.09528795811518324  
True label 1
0.16247379454926625  
0.8375262054507338  

Train_result {'loss': [0.1876646362301707], 'acc': [0.9218891368598829]}
Saved model to disk



13

Epoch 1/1
 - 393s - loss: 0.1766 - acc: 0.9279

Test accuracy: 87.74227344159246

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  1031

choose_one :  878

F1score :  0.8722707423580786

AUC : 0.9421015948280593

Confusion Matrix
[[876  79]
 [155 799]]
True label 0
0.9172774869109948  
0.08272251308900523  
True label 1
0.16247379454926625  
0.8375262054507338  

Train_result {'loss': [0.17659983783376124], 'acc': [0.9278605464744556]}
Saved model to disk



14

Epoch 1/1
 - 392s - loss: 0.1617 - acc: 0.9344

Test accuracy: 86.69460450497643

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  953

choose_one :  956

F1score :  0.8670157068062828

AUC : 0.941217469568749

Confusion Matrix
[[827 128]
 [126 828]]
True label 0
0.8659685863874346  
0.13403141361256546  
True label 1
0.1320754716981132  
0.8679245283018868  

Train_result {'loss': [0.1616897794081381], 'acc': [0.9344351287809641]}
Saved model to disk



15

Epoch 1/1
 - 396s - loss: 0.1467 - acc: 0.9415

Test accuracy: 87.00890518596124

data size :  18488

zero :  9245

one :  9243

train_zero :  8290

train_one :  8289

test_zero :  955

test_one :  954

choose_zero :  951

choose_one :  958

F1score :  0.8702928870292888

AUC : 0.9420099443511476

Confusion Matrix
[[829 126]
 [122 832]]
True label 0
0.8680628272251308  
0.1319371727748691  
True label 1
0.1278825995807128  
0.8721174004192872  

Train_result {'loss': [0.14665501615834955], 'acc': [0.9414922492309549]}
Saved model to disk



