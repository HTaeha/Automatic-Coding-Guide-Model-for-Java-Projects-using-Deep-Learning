Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
2019-10-17 04:32:47.202438: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-17 04:32:47.208295: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100085000 Hz
2019-10-17 04:32:47.209864: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x80c01a0 executing computations on platform Host. Devices:
2019-10-17 04:32:47.209882: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
/home/2014313303/taeha/JavaAutoLogging/model.py:48: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("ou..., inputs=[<tf.Tenso...)`
  model = Model(input=[input1, input2], output=output)
/usr/local/lib/python3.5/dist-packages/keras/engine/training.py:479: UserWarning: Discrepancy between trainable weights and collected trainable weights, did you set `model.trainable` without calling `model.compile` after ?
  'Discrepancy between trainable weights and collected trainable'
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
First data
zero :  9884
one :  9718

Second data
zero :  9884
one :  9718

guava-code
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673

Sentence length Average : 36

Under 10 : 2153
Over 10, Under 30 : 9115
Over 30, Under 100 : 7127
Over 100, Under 150 : 1007
Over 150, Under 200 : 200
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
guava-code

Sentence length Average : 36

Under 10 : 2153
Over 10, Under 30 : 9115
Over 30, Under 100 : 7127
Over 100, Under 150 : 1007
Over 150, Under 200 : 200
Over 200, Under 400 : 0
Over 400 : 0

193
guava-AST
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673
After balance out data.
guava-AST

Sentence length Average : 27

Under 10 : 6120
Over 10, Under 30 : 7121
Over 30, Under 100 : 5710
Over 100, Under 150 : 587
Over 150, Under 200 : 64
Over 200, Under 400 : 0
Over 400 : 0

193
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 193, 200)     0                                            
__________________________________________________________________________________________________
input_2 (InputLayer)            (None, 193, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 193, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
masking_2 (Masking)             (None, 193, 200)     0           input_2[0][0]                    
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
forwards_2 (LSTM)               (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
backwards_2 (LSTM)              (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 64)           0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 64)           0           backwords_1[0][0]                
__________________________________________________________________________________________________
after_dp_forward_2 (Dropout)    (None, 64)           0           forwards_2[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_2 (Dropout)   (None, 64)           0           backwards_2[0][0]                
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
concatenate_2 (Concatenate)     (None, 128)          0           after_dp_forward_2[0][0]         
                                                                 after_dp_backward_2[0][0]        
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
after_dp_2 (Dropout)            (None, 128)          0           concatenate_2[0][0]              
__________________________________________________________________________________________________
concatenate_3 (Concatenate)     (None, 256)          0           after_dp_1[0][0]                 
                                                                 after_dp_2[0][0]                 
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 256)          65792       concatenate_3[0][0]              
__________________________________________________________________________________________________
dense_2 (Dense)                 (None, 128)          32896       dense_1[0][0]                    
__________________________________________________________________________________________________
dense_3 (Dense)                 (None, 64)           8256        dense_2[0][0]                    
__________________________________________________________________________________________________
dense_4_task_layer (Dense)      (None, 128)          8320        dense_3[0][0]                    
__________________________________________________________________________________________________
dense_5_task_layer (Dense)      (None, 64)           8256        dense_4_task_layer[0][0]         
__________________________________________________________________________________________________
output_task_layer (Dense)       (None, 2)            130         dense_5_task_layer[0][0]         
==================================================================================================
Total params: 773,314
Trainable params: 395,010
Non-trainable params: 378,304
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 1s - loss: 0.6292 - acc: 0.6250
100/100 [==============================] - 3s 33ms/step - loss: 0.5972 - acc: 0.6600

Test accuracy: 62.62434622090042

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  11942

choose_one :  7560

F1score :  0.5770324377647537

AUC :  0.722588812895699

Confusion Matrix
[[7241 2588]
 [4701 4972]]
True label 0
0.7366975277240818  
0.2633024722759182  
True label 1
0.485991936317585  
0.5140080636824149  

Train_result {'loss': [0.5972046327590942], 'acc': [0.6599999952316284]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5526 - acc: 0.7344
100/100 [==============================] - 1s 5ms/step - loss: 0.5211 - acc: 0.7400

Test accuracy: 64.12675623013024

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10917

choose_one :  8585

F1score :  0.6168255011501806

AUC :  0.7303560795527221

Confusion Matrix
[[6875 2954]
 [4042 5631]]
True label 0
0.6994607793264829  
0.3005392206735171  
True label 1
0.4178641579654709  
0.5821358420345291  

Train_result {'loss': [0.5210980415344239], 'acc': [0.74]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4832 - acc: 0.7969
100/100 [==============================] - 1s 6ms/step - loss: 0.4741 - acc: 0.7600

Test accuracy: 64.65490718900627

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10520

choose_one :  8982

F1score :  0.6305012061109622

AUC :  0.7347866968246017

Confusion Matrix
[[6728 3101]
 [3792 5881]]
True label 0
0.6845050361176112  
0.31549496388238885  
True label 1
0.39201902202005584  
0.6079809779799442  

Train_result {'loss': [0.4740866267681122], 'acc': [0.7599999904632568]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3606 - acc: 0.8438
100/100 [==============================] - 1s 5ms/step - loss: 0.4034 - acc: 0.7900

Test accuracy: 66.87006460875807

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10100

choose_one :  9402

F1score :  0.6612844036697249

AUC :  0.7397828937058792

Confusion Matrix
[[6734 3095]
 [3366 6307]]
True label 0
0.6851154746159325  
0.3148845253840676  
True label 1
0.34797891036906853  
0.6520210896309314  

Train_result {'loss': [0.40335078954696657], 'acc': [0.7899999904632569]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4878 - acc: 0.7812
100/100 [==============================] - 1s 5ms/step - loss: 0.4036 - acc: 0.8300

Test accuracy: 68.78268895497898

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9633

choose_one :  9869

F1score :  0.6884658683860403

AUC :  0.7549293581885728

Confusion Matrix
[[6687 3142]
 [2946 6727]]
True label 0
0.6803337063790823  
0.3196662936209177  
True label 1
0.3045590819807712  
0.6954409180192288  

Train_result {'loss': [0.4035996448993683], 'acc': [0.8300000071525574]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3122 - acc: 0.8750
100/100 [==============================] - 1s 6ms/step - loss: 0.3087 - acc: 0.8600

Test accuracy: 69.9723105322531

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9543

choose_one :  9959

F1score :  0.7017114914425429

AUC :  0.7708860068107468

Confusion Matrix
[[6758 3071]
 [2785 6888]]
True label 0
0.6875572286092176  
0.31244277139078236  
True label 1
0.2879148144319239  
0.7120851855680761  

Train_result {'loss': [0.30868577599525454], 'acc': [0.8599999928474427]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.2988 - acc: 0.8594
100/100 [==============================] - 1s 6ms/step - loss: 0.2426 - acc: 0.9000

Test accuracy: 71.3516562403856

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9512

choose_one :  9990

F1score :  0.7158622794080252

AUC :  0.7826396352296029

Confusion Matrix
[[6877 2952]
 [2635 7038]]
True label 0
0.6996642588259233  
0.3003357411740767  
True label 1
0.27240773286467485  
0.7275922671353251  

Train_result {'loss': [0.24259260058403015], 'acc': [0.8999999952316284]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.2655 - acc: 0.9219
100/100 [==============================] - 1s 5ms/step - loss: 0.2229 - acc: 0.9400

Test accuracy: 71.67982770997845

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9834

choose_one :  9668

F1score :  0.7144408251900108

AUC :  0.7886336768121835

Confusion Matrix
[[7070 2759]
 [2764 6909]]
True label 0
0.7193000305219249  
0.2806999694780751  
True label 1
0.28574382301250906  
0.714256176987491  

Train_result {'loss': [0.22291000664234162], 'acc': [0.9399999952316285]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1418 - acc: 0.9531
100/100 [==============================] - 1s 6ms/step - loss: 0.1811 - acc: 0.9300

Test accuracy: 72.65921443954466

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10221

choose_one :  9281

F1score :  0.7186873483169778

AUC :  0.7954227462249982

Confusion Matrix
[[7359 2470]
 [2862 6811]]
True label 0
0.7487028181910672  
0.25129718180893273  
True label 1
0.29587511630311175  
0.7041248836968882  

Train_result {'loss': [0.18111059427261353], 'acc': [0.9300000023841858]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1339 - acc: 0.9375
100/100 [==============================] - 1s 5ms/step - loss: 0.1287 - acc: 0.9400

Test accuracy: 72.81304481591631

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10869

choose_one :  8633

F1score :  0.710368185294439

AUC :  0.8003133012117043

Confusion Matrix
[[7698 2131]
 [3171 6502]]
True label 0
0.7831925933462204  
0.21680740665377962  
True label 1
0.32781970433164476  
0.6721802956683552  

Train_result {'loss': [0.12868961781263352], 'acc': [0.9399999904632569]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.0665 - acc: 0.9844
100/100 [==============================] - 1s 5ms/step - loss: 0.0903 - acc: 0.9800

Test accuracy: 72.52589478002255

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  11357

choose_one :  8145

F1score :  0.69929284992704

AUC :  0.803444477953339

Confusion Matrix
[[7914 1915]
 [3443 6230]]
True label 0
0.805168379285787  
0.19483162071421303  
True label 1
0.3559392122402564  
0.6440607877597436  

Train_result {'loss': [0.09033101081848144], 'acc': [0.9799999952316284]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1193 - acc: 0.9844
100/100 [==============================] - 1s 5ms/step - loss: 0.0886 - acc: 0.9900

Test accuracy: 72.22336170649164

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  11518

choose_one :  7984

F1score :  0.6932094919861811

AUC :  0.8032459208360829

Confusion Matrix
[[7965 1864]
 [3553 6120]]
True label 0
0.8103571065215179  
0.18964289347848204  
True label 1
0.36731107205623903  
0.632688927943761  

Train_result {'loss': [0.08859083160758019], 'acc': [0.99]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.0329 - acc: 1.0000
100/100 [==============================] - 1s 5ms/step - loss: 0.0461 - acc: 0.9900

Test accuracy: 72.76176802379243

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  11195

choose_one :  8307

F1score :  0.7045606229143493

AUC :  0.8024636301956467

Confusion Matrix
[[7856 1973]
 [3339 6334]]
True label 0
0.7992674738020145  
0.20073252619798554  
True label 1
0.3451876356869637  
0.6548123643130362  

Train_result {'loss': [0.04606020212173462], 'acc': [0.9899999952316284]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.0378 - acc: 1.0000
100/100 [==============================] - 1s 5ms/step - loss: 0.0426 - acc: 0.9900

Test accuracy: 73.15659932314634

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10684

choose_one :  8818

F1score :  0.7168892974960792

AUC :  0.7990770522886463

Confusion Matrix
[[7639 2190]
 [3045 6628]]
True label 0
0.7771899481127277  
0.22281005188727235  
True label 1
0.31479375581515556  
0.6852062441848444  

Train_result {'loss': [0.042643942534923554], 'acc': [0.9899999952316284]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.0588 - acc: 0.9844
100/100 [==============================] - 1s 5ms/step - loss: 0.0500 - acc: 0.9900

Test accuracy: 73.22325915290739

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10397

choose_one :  9105

F1score :  0.7219086164660773

AUC :  0.7965649808037086

Confusion Matrix
[[7502 2327]
 [2895 6778]]
True label 0
0.763251602401058  
0.2367483975989419  
True label 1
0.29928667424790656  
0.7007133257520934  

Train_result {'loss': [0.05004653617739677], 'acc': [0.99]}
Saved model to disk


[[62.62434622090042, 1], [64.12675623013024, 2], [64.65490718900627, 3], [66.87006460875807, 4], [68.78268895497898, 5], [69.9723105322531, 6], [71.3516562403856, 7], [71.67982770997845, 8], [72.65921443954466, 9], [72.81304481591631, 10], [72.52589478002255, 11], [72.22336170649164, 12], [72.76176802379243, 13], [73.15659932314634, 14], [73.22325915290739, 15]]
max accuracy :  [73.22325915290739, 15]
