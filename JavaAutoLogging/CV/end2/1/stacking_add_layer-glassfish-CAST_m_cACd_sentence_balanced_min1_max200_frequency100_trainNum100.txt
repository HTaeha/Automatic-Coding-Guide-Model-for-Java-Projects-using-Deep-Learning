Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
2019-10-17 05:16:00.332407: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-17 05:16:00.361354: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-17 05:16:00.373329: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xb27fab0 executing computations on platform Host. Devices:
2019-10-17 05:16:00.373373: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero :  10792
one :  10820

Second data
zero :  10792
one :  10820

Third data
zero :  10792
one :  10820

4th data
zero :  10792
one :  10820

glassfish-code
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
glassfish-code

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

179
glassfish-AST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-AST

Sentence length Average : 27

Under 10 : 9172
Over 10, Under 30 : 5625
Over 30, Under 100 : 5826
Over 100, Under 150 : 821
Over 150, Under 200 : 164
Over 200, Under 400 : 4
Over 400 : 0

253
glassfish-CAST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-CAST

Sentence length Average : 50

Under 10 : 4320
Over 10, Under 30 : 6874
Over 30, Under 100 : 7059
Over 100, Under 150 : 1787
Over 150, Under 200 : 894
Over 200, Under 400 : 678
Over 400 : 0

342
glassfish-depth_num
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-depth_num

Sentence length Average : 27

Under 10 : 9172
Over 10, Under 30 : 5625
Over 30, Under 100 : 5826
Over 100, Under 150 : 822
Over 150, Under 200 : 163
Over 200, Under 400 : 4
Over 400 : 0

253
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 179, 200)     0                                            
__________________________________________________________________________________________________
input_2 (InputLayer)            (None, 253, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 179, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
masking_2 (Masking)             (None, 253, 200)     0           input_2[0][0]                    
__________________________________________________________________________________________________
input_3 (InputLayer)            (None, 342, 200)     0                                            
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
forwards_2 (LSTM)               (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
backwards_2 (LSTM)              (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
masking_3 (Masking)             (None, 342, 200)     0           input_3[0][0]                    
__________________________________________________________________________________________________
input_4 (InputLayer)            (None, 253, 200)     0                                            
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 64)           0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 64)           0           backwords_1[0][0]                
__________________________________________________________________________________________________
after_dp_forward_2 (Dropout)    (None, 64)           0           forwards_2[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_2 (Dropout)   (None, 64)           0           backwards_2[0][0]                
__________________________________________________________________________________________________
forwards_3 (LSTM)               (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
backwards_3 (LSTM)              (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
masking_4 (Masking)             (None, 253, 200)     0           input_4[0][0]                    
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
concatenate_2 (Concatenate)     (None, 128)          0           after_dp_forward_2[0][0]         
                                                                 after_dp_backward_2[0][0]        
__________________________________________________________________________________________________
after_dp_forward_3 (Dropout)    (None, 64)           0           forwards_3[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_3 (Dropout)   (None, 64)           0           backwards_3[0][0]                
__________________________________________________________________________________________________
forwards_4 (LSTM)               (None, 64)           67840       masking_4[0][0]                  
__________________________________________________________________________________________________
backwards_4 (LSTM)              (None, 64)           67840       masking_4[0][0]                  
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
after_dp_2 (Dropout)            (None, 128)          0           concatenate_2[0][0]              
__________________________________________________________________________________________________
concatenate_3 (Concatenate)     (None, 128)          0           after_dp_forward_3[0][0]         
                                                                 after_dp_backward_3[0][0]        
__________________________________________________________________________________________________
after_dp_forward_4 (Dropout)    (None, 64)           0           forwards_4[0][0]                 
__________________________________________________________________________________________________/home/2014313303/taeha/JavaAutoLogging/model.py:152: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("ou..., inputs=[<tf.Tenso...)`
  model = Model(input=[input1, input2, input3, input4], output=output)
/usr/local/lib/python3.5/dist-packages/keras/engine/training.py:490: UserWarning: Discrepancy between trainable weights and collected trainable weights, did you set `model.trainable` without calling `model.compile` after ?
  'Discrepancy between trainable weights and collected trainable'
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.

after_dp_backward_4 (Dropout)   (None, 64)           0           backwards_4[0][0]                
__________________________________________________________________________________________________
concatenate_5 (Concatenate)     (None, 256)          0           after_dp_1[0][0]                 
                                                                 after_dp_2[0][0]                 
__________________________________________________________________________________________________
after_dp_3 (Dropout)            (None, 128)          0           concatenate_3[0][0]              
__________________________________________________________________________________________________
concatenate_4 (Concatenate)     (None, 128)          0           after_dp_forward_4[0][0]         
                                                                 after_dp_backward_4[0][0]        
__________________________________________________________________________________________________
concatenate_6 (Concatenate)     (None, 384)          0           concatenate_5[0][0]              
                                                                 after_dp_3[0][0]                 
__________________________________________________________________________________________________
after_dp_4 (Dropout)            (None, 128)          0           concatenate_4[0][0]              
__________________________________________________________________________________________________
concatenate_7 (Concatenate)     (None, 512)          0           concatenate_6[0][0]              
                                                                 after_dp_4[0][0]                 
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 512)          262656      concatenate_7[0][0]              
__________________________________________________________________________________________________
dense_2 (Dense)                 (None, 768)          393984      dense_1[0][0]                    
__________________________________________________________________________________________________
dense_3 (Dense)                 (None, 512)          393728      dense_2[0][0]                    
__________________________________________________________________________________________________
dense_4 (Dense)                 (None, 256)          131328      dense_3[0][0]                    
__________________________________________________________________________________________________
dense_5 (Dense)                 (None, 128)          32896       dense_4[0][0]                    
__________________________________________________________________________________________________
dense_6_task_layer (Dense)      (None, 256)          33024       dense_5[0][0]                    
__________________________________________________________________________________________________
dense_7_task_layer (Dense)      (None, 128)          32896       dense_6_task_layer[0][0]         
__________________________________________________________________________________________________
output_task_layer (Dense)       (None, 2)            258         dense_7_task_layer[0][0]         
==================================================================================================
Total params: 3,580,802
Trainable params: 1,823,490
Non-trainable params: 1,757,312
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 5s - loss: 0.9602 - acc: 0.4531
100/100 [==============================] - 10s 100ms/step - loss: 0.8622 - acc: 0.5300

Test accuracy: 50.08367422833767

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  3

choose_one :  21509

F1score :  0.6673688123412428

AUC :  0.48918152814101823

Confusion Matrix
[[    2 10737]
 [    1 10772]]
True label 0
0.0001862370798025887  
0.9998137629201974  
True label 1
9.2824654228163e-05  
0.9999071753457718  

Train_result {'loss': [0.86217449426651], 'acc': [0.5300000071525574]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.7169 - acc: 0.4062
100/100 [==============================] - 1s 14ms/step - loss: 0.7080 - acc: 0.4700

Test accuracy: 50.07902566009669

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  0

choose_one :  21512

F1score :  0.6673687470961747

AUC :  0.5101063350108068

Confusion Matrix
[[    0 10739]
 [    0 10773]]
True label 0
0.0  
1.0  
True label 1
0.0  
1.0  

Train_result {'loss': [0.7080487012863159], 'acc': [0.46999999284744265]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.7045 - acc: 0.5156
100/100 [==============================] - 1s 13ms/step - loss: 0.7119 - acc: 0.4700

Test accuracy: 49.98605429527706

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  50

choose_one :  21462

F1score :  0.6662323561346363

AUC :  0.5888429657949835

Confusion Matrix
[[   15 10724]
 [   35 10738]]
True label 0
0.0013967780985194153  
0.9986032219014805  
True label 1
0.003248862897985705  
0.9967511371020142  

Train_result {'loss': [0.7119043374061584], 'acc': [0.47000000238418577]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6912 - acc: 0.5000
100/100 [==============================] - 1s 13ms/step - loss: 0.6880 - acc: 0.5500

Test accuracy: 56.526589810338415

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  11607

choose_one :  9905

F1score :  0.5477318889641164

AUC :  0.5746796341472575

Confusion Matrix
[[6497 4242]
 [5110 5663]]
True label 0
0.6049911537387094  
0.3950088462612906  
True label 1
0.4743339831059129  
0.5256660168940871  

Train_result {'loss': [0.6879753756523133], 'acc': [0.5500000023841858]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6871 - acc: 0.6562
100/100 [==============================] - 1s 15ms/step - loss: 0.6812 - acc: 0.6600

Test accuracy: 52.008181480104135

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  16585

choose_one :  4927

F1score :  0.3424203821656051

AUC :  0.5544407132200762

Confusion Matrix
[[8500 2239]
 [8085 2688]]
True label 0
0.791507589161002  
0.20849241083899805  
True label 1
0.7504873294346979  
0.24951267056530213  

Train_result {'loss': [0.681206042766571], 'acc': [0.6600000071525574]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6723 - acc: 0.6719
100/100 [==============================] - 1s 14ms/step - loss: 0.6778 - acc: 0.6600

Test accuracy: 53.61193752324284

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  15836

choose_one :  5676

F1score :  0.3933369809714876

AUC :  0.5692362448128854

Confusion Matrix
[[8298 2441]
 [7538 3235]]
True label 0
0.7726976441009406  
0.2273023558990595  
True label 1
0.6997122435718927  
0.3002877564281073  

Train_result {'loss': [0.6778018832206726], 'acc': [0.6600000023841858]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6732 - acc: 0.6719
100/100 [==============================] - 1s 14ms/step - loss: 0.6706 - acc: 0.6800

Test accuracy: 56.5033469691335

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  14848

choose_one :  6664

F1score :  0.46338246257957216

AUC :  0.5915232679616635

Confusion Matrix
[[8115 2624]
 [6733 4040]]
True label 0
0.7556569512990037  
0.24434304870099638  
True label 1
0.6249883969182215  
0.3750116030817785  

Train_result {'loss': [0.6705901837348938], 'acc': [0.6799999904632569]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6779 - acc: 0.5938
100/100 [==============================] - 1s 13ms/step - loss: 0.6454 - acc: 0.6400

Test accuracy: 59.120490888806245

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  14089

choose_one :  7423

F1score :  0.5167069685645197

AUC :  0.6127577525376661

Confusion Matrix
[[8017 2722]
 [6072 4701]]
True label 0
0.7465313343886768  
0.2534686656113232  
True label 1
0.5636313004734057  
0.43636869952659424  

Train_result {'loss': [0.6453903889656067], 'acc': [0.6399999952316284]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6272 - acc: 0.7188
100/100 [==============================] - 1s 13ms/step - loss: 0.5963 - acc: 0.7400

Test accuracy: 60.422089996281144

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  13701

choose_one :  7811

F1score :  0.5418639690055963

AUC :  0.6288601548222572

Confusion Matrix
[[7963 2776]
 [5738 5035]]
True label 0
0.7415029332340068  
0.2584970667659931  
True label 1
0.5326278659611993  
0.4673721340388007  

Train_result {'loss': [0.5963406038284301], 'acc': [0.7400000047683716]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5715 - acc: 0.7031
100/100 [==============================] - 1s 14ms/step - loss: 0.5797 - acc: 0.7400

Test accuracy: 61.333209371513576

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  13361

choose_one :  8151

F1score :  0.5604523356584231

AUC :  0.6456962340461245

Confusion Matrix
[[7891 2848]
 [5470 5303]]
True label 0
0.7347983983611137  
0.2652016016388863  
True label 1
0.5077508586280516  
0.49224914137194836  

Train_result {'loss': [0.5796899914741516], 'acc': [0.7400000095367432]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4916 - acc: 0.8750
100/100 [==============================] - 1s 14ms/step - loss: 0.5288 - acc: 0.8100

Test accuracy: 62.42097433990331

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  13027

choose_one :  8485

F1score :  0.5802263994184235

AUC :  0.6628350241570133

Confusion Matrix
[[7841 2898]
 [5186 5587]]
True label 0
0.7301424713660489  
0.269857528633951  
True label 1
0.4813886568272533  
0.5186113431727467  

Train_result {'loss': [0.528839557170868], 'acc': [0.8099999904632569]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4218 - acc: 0.8438
100/100 [==============================] - 1s 14ms/step - loss: 0.4422 - acc: 0.8300

Test accuracy: 62.653402751952406

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12449

choose_one :  9063

F1score :  0.5949788263762855

AUC :  0.6753895046182707

Confusion Matrix
[[7577 3162]
 [4872 5901]]
True label 0
0.7055591768321072  
0.2944408231678927  
True label 1
0.4522417153996101  
0.5477582846003899  

Train_result {'loss': [0.44219991445541385], 'acc': [0.8300000095367431]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4425 - acc: 0.8125
100/100 [==============================] - 1s 14ms/step - loss: 0.3699 - acc: 0.8600

Test accuracy: 63.65284492376348

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  11386

choose_one :  10126

F1score :  0.6258672663763816

AUC :  0.6852630519230205

Confusion Matrix
[[7153 3586]
 [4233 6540]]
True label 0
0.6660769159139585  
0.33392308408604154  
True label 1
0.39292676134781396  
0.607073238652186  

Train_result {'loss': [0.3698815941810608], 'acc': [0.8599999904632568]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3588 - acc: 0.8750
100/100 [==============================] - 1s 13ms/step - loss: 0.3625 - acc: 0.8600

Test accuracy: 64.1595388620305

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  11795

choose_one :  9717

F1score :  0.6237188872620791

AUC :  0.6935570372061077

Confusion Matrix
[[7412 3327]
 [4383 6390]]
True label 0
0.6901946177483937  
0.3098053822516063  
True label 1
0.4068504594820384  
0.5931495405179615  

Train_result {'loss': [0.362529581785202], 'acc': [0.8599999928474427]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3038 - acc: 0.8906
100/100 [==============================] - 1s 14ms/step - loss: 0.3283 - acc: 0.8900

Test accuracy: 64.46634436593529

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  13227

choose_one :  8285

F1score :  0.5989085948158255

AUC :  0.7006778265602064

Confusion Matrix
[[8161 2578]
 [5066 5707]]
True label 0
0.7599404041344632  
0.24005959586553682  
True label 1
0.47024969831987373  
0.5297503016801263  

Train_result {'loss': [0.3283429563045502], 'acc': [0.8900000023841858]}
Saved model to disk


[[50.08367422833767, 1], [50.07902566009669, 2], [49.98605429527706, 3], [56.526589810338415, 4], [52.008181480104135, 5], [53.61193752324284, 6], [56.5033469691335, 7], [59.120490888806245, 8], [60.422089996281144, 9], [61.333209371513576, 10], [62.42097433990331, 11], [62.653402751952406, 12], [63.65284492376348, 13], [64.1595388620305, 14], [64.46634436593529, 15]]
max accuracy :  [64.46634436593529, 15]
