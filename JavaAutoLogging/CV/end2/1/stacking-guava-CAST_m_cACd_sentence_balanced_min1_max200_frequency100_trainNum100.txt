Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
2019-10-15 03:21:13.391322: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-15 03:21:13.415830: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-15 03:21:13.423762: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xb7c3110 executing computations on platform Host. Devices:
2019-10-15 03:21:13.423840: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero :  9884
one :  9718

Second data
zero :  9884
one :  9718

Third data
zero :  9884
one :  9718

4th data
zero :  9884
one :  9718

guava-code
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673

Sentence length Average : 36

Under 10 : 2153
Over 10, Under 30 : 9115
Over 30, Under 100 : 7127
Over 100, Under 150 : 1007
Over 150, Under 200 : 200
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
guava-code

Sentence length Average : 36

Under 10 : 2153
Over 10, Under 30 : 9115
Over 30, Under 100 : 7127
Over 100, Under 150 : 1007
Over 150, Under 200 : 200
Over 200, Under 400 : 0
Over 400 : 0

196
guava-AST
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673
After balance out data.
guava-AST

Sentence length Average : 27

Under 10 : 6120
Over 10, Under 30 : 7121
Over 30, Under 100 : 5710
Over 100, Under 150 : 587
Over 150, Under 200 : 64
Over 200, Under 400 : 0
Over 400 : 0

193
guava-CAST
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673
After balance out data.
guava-CAST

Sentence length Average : 57

Under 10 : 1490
Over 10, Under 30 : 6826
Over 30, Under 100 : 8029
Over 100, Under 150 : 1685
Over 150, Under 200 : 889
Over 200, Under 400 : 680
Over 400 : 3

401
guava-depth_num
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673
After balance out data.
guava-depth_num

Sentence length Average : 27

Under 10 : 6119
Over 10, Under 30 : 7122
Over 30, Under 100 : 5710
Over 100, Under 150 : 587
Over 150, Under 200 : 64
Over 200, Under 400 : 0
Over 400 : 0

193
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 196, 200)     0                                            
__________________________________________________________________________________________________
input_2 (InputLayer)            (None, 193, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 196, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
masking_2 (Masking)             (None, 193, 200)     0           input_2[0][0]                    
__________________________________________________________________________________________________
input_3 (InputLayer)            (None, 401, 200)     0                                            
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
forwards_2 (LSTM)               (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
backwards_2 (LSTM)              (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
masking_3 (Masking)             (None, 401, 200)     0           input_3[0][0]                    
__________________________________________________________________________________________________
input_4 (InputLayer)            (None, 193, 200)     0                                            
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 64)           0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 64)           0           backwords_1[0][0]                
__________________________________________________________________________________________________
after_dp_forward_2 (Dropout)    (None, 64)           0           forwards_2[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_2 (Dropout)   (None, 64)           0           backwards_2[0][0]                
__________________________________________________________________________________________________
forwards_3 (LSTM)               (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
backwards_3 (LSTM)              (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
masking_4 (Masking)             (None, 193, 200)     0           input_4[0][0]                    
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
concatenate_2 (Concatenate)     (None, 128)          0           after_dp_forward_2[0][0]         
                                                                 after_dp_backward_2[0][0]        
__________________________________________________________________________________________________
after_dp_forward_3 (Dropout)    (None, 64)           0           forwards_3[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_3 (Dropout)   (None, 64)           0           backwards_3[0][0]                
__________________________________________________________________________________________________
forwards_4 (LSTM)               (None, 64)           67840       masking_4[0][0]                  
__________________________________________________________________________________________________
backwards_4 (LSTM)              (None, 64)           67840       masking_4[0][0]                  
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
after_dp_2 (Dropout)            (None, 128)          0           concatenate_2[0][0]              
__________________________________________________________________________________________________
concatenate_3 (Concatenate)     (None, 128)          0           after_dp_forward_3[0][0]         
                                                                 after_dp_backward_3[0][0]        
__________________________________________________________________________________________________
after_dp_forward_4 (Dropout)    (None, 64)           0           forwards_4[0][0]                 
__________________________________________________________________________________________________/home/2014313303/taeha/JavaAutoLogging/model.py:139: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=[<tf.Tenso..., outputs=Tensor("ou...)`
  model = Model(input=[input1, input2, input3, input4], output=output)
/usr/local/lib/python3.5/dist-packages/keras/engine/training.py:490: UserWarning: Discrepancy between trainable weights and collected trainable weights, did you set `model.trainable` without calling `model.compile` after ?
  'Discrepancy between trainable weights and collected trainable'
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.

after_dp_backward_4 (Dropout)   (None, 64)           0           backwards_4[0][0]                
__________________________________________________________________________________________________
concatenate_5 (Concatenate)     (None, 256)          0           after_dp_1[0][0]                 
                                                                 after_dp_2[0][0]                 
__________________________________________________________________________________________________
after_dp_3 (Dropout)            (None, 128)          0           concatenate_3[0][0]              
__________________________________________________________________________________________________
concatenate_4 (Concatenate)     (None, 128)          0           after_dp_forward_4[0][0]         
                                                                 after_dp_backward_4[0][0]        
__________________________________________________________________________________________________
concatenate_6 (Concatenate)     (None, 384)          0           concatenate_5[0][0]              
                                                                 after_dp_3[0][0]                 
__________________________________________________________________________________________________
after_dp_4 (Dropout)            (None, 128)          0           concatenate_4[0][0]              
__________________________________________________________________________________________________
concatenate_7 (Concatenate)     (None, 512)          0           concatenate_6[0][0]              
                                                                 after_dp_4[0][0]                 
__________________________________________________________________________________________________
dense_1_task_layer (Dense)      (None, 384)          196992      concatenate_7[0][0]              
__________________________________________________________________________________________________
dense_2_task_layer (Dense)      (None, 512)          197120      dense_1_task_layer[0][0]         
__________________________________________________________________________________________________
dense_3_task_layer (Dense)      (None, 256)          131328      dense_2_task_layer[0][0]         
__________________________________________________________________________________________________
output_task_layer (Dense)       (None, 2)            514         dense_3_task_layer[0][0]         
==================================================================================================
Total params: 1,611,394
Trainable params: 1,068,674
Non-trainable params: 542,720
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 5s - loss: 0.6989 - acc: 0.5000
100/100 [==============================] - 11s 109ms/step - loss: 0.6788 - acc: 0.5500

Test accuracy: 64.1421392677674

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8498

choose_one :  11004

F1score :  0.6617981331914689

AUC :  0.6809963189731844

Confusion Matrix
[[5667 4162]
 [2831 6842]]
True label 0
0.5765591616644623  
0.4234408383355377  
True label 1
0.2926703194458803  
0.7073296805541197  

Train_result {'acc': [0.5500000023841858], 'loss': [0.6788072299957275]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5675 - acc: 0.7344
100/100 [==============================] - 2s 20ms/step - loss: 0.5516 - acc: 0.7300

Test accuracy: 63.73192493077633

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9234

choose_one :  10268

F1score :  0.6453036457549772

AUC :  0.7095743604555504

Confusion Matrix
[[5995 3834]
 [3239 6434]]
True label 0
0.609929799572693  
0.39007020042730695  
True label 1
0.33484958130879766  
0.6651504186912023  

Train_result {'acc': [0.7299999952316284], 'loss': [0.5515613603591919]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5131 - acc: 0.7344
100/100 [==============================] - 2s 20ms/step - loss: 0.4686 - acc: 0.7800

Test accuracy: 68.53656035278432

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8161

choose_one :  11341

F1score :  0.7080041876844008

AUC :  0.7383197839680053

Confusion Matrix
[[5927 3902]
 [2234 7439]]
True label 0
0.6030114965917184  
0.3969885034082816  
True label 1
0.2309521348082291  
0.7690478651917709  

Train_result {'acc': [0.7799999976158142], 'loss': [0.46859458565711976]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4648 - acc: 0.8125
100/100 [==============================] - 2s 15ms/step - loss: 0.4298 - acc: 0.8100

Test accuracy: 70.04922572043894

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7594

choose_one :  11908

F1score :  0.7293452574023447

AUC :  0.7650124215998885

Confusion Matrix
[[5791 4038]
 [1803 7870]]
True label 0
0.589174890629769  
0.4108251093702309  
True label 1
0.1863951204383335  
0.8136048795616665  

Train_result {'acc': [0.8100000095367431], 'loss': [0.429837794303894]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3754 - acc: 0.8281
100/100 [==============================] - 2s 16ms/step - loss: 0.3577 - acc: 0.8400

Test accuracy: 71.65418931391652

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8173

choose_one :  11329

F1score :  0.7367869726692697

AUC :  0.7899570455891579

Confusion Matrix
[[6237 3592]
 [1936 7737]]
True label 0
0.6345508190049852  
0.3654491809950148  
True label 1
0.20014473276129432  
0.7998552672387057  

Train_result {'acc': [0.8399999976158142], 'loss': [0.35769185185432434]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.2919 - acc: 0.8750
100/100 [==============================] - 2s 18ms/step - loss: 0.2802 - acc: 0.8700

Test accuracy: 72.51563942159778

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8537

choose_one :  10965

F1score :  0.7402849113286173

AUC :  0.8009763240043218

Confusion Matrix
[[6503 3326]
 [2034 7639]]
True label 0
0.6616135924305626  
0.3383864075694374  
True label 1
0.21027602605189702  
0.789723973948103  

Train_result {'acc': [0.8699999976158143], 'loss': [0.28018294215202333]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3064 - acc: 0.8594
100/100 [==============================] - 2s 15ms/step - loss: 0.3068 - acc: 0.8500

Test accuracy: 72.77202338221721

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8939

choose_one :  10563

F1score :  0.7375963629175727

AUC :  0.8052062174693514

Confusion Matrix
[[6729 3100]
 [2210 7463]]
True label 0
0.6846067758673313  
0.3153932241326686  
True label 1
0.22847100175746923  
0.7715289982425307  

Train_result {'acc': [0.8499999928474427], 'loss': [0.3067793142795563]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1990 - acc: 0.9062
100/100 [==============================] - 2s 18ms/step - loss: 0.2211 - acc: 0.9100

Test accuracy: 71.60804020100502

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7720

choose_one :  11782

F1score :  0.7419249592169658

AUC :  0.7976654119465395

Confusion Matrix
[[6006 3823]
 [1714 7959]]
True label 0
0.6110489368196155  
0.3889510631803846  
True label 1
0.17719425204176573  
0.8228057479582342  

Train_result {'acc': [0.9100000071525574], 'loss': [0.22113702178001404]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.2351 - acc: 0.8750
100/100 [==============================] - 2s 15ms/step - loss: 0.1878 - acc: 0.9200

Test accuracy: 71.35678391959799

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8069

choose_one :  11433

F1score :  0.7353359234340947

AUC :  0.7911995105974102

Confusion Matrix
[[6156 3673]
 [1913 7760]]
True label 0
0.6263098992776478  
0.3736901007223522  
True label 1
0.19776698025431613  
0.8022330197456838  

Train_result {'acc': [0.92], 'loss': [0.18783692717552186]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1524 - acc: 0.9219
100/100 [==============================] - 2s 16ms/step - loss: 0.1349 - acc: 0.9400

Test accuracy: 72.08491436775716

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9603

choose_one :  9899

F1score :  0.7218475372981811

AUC :  0.7847130572508704

Confusion Matrix
[[6994 2835]
 [2609 7064]]
True label 0
0.7115678095431885  
0.28843219045681145  
True label 1
0.2697198387263517  
0.7302801612736483  

Train_result {'acc': [0.9399999952316285], 'loss': [0.13494022011756898]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1235 - acc: 0.9531
100/100 [==============================] - 2s 19ms/step - loss: 0.1468 - acc: 0.9300

Test accuracy: 70.7260793764742

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7768

choose_one :  11734

F1score :  0.7333115336105014

AUC :  0.7795961463090595

Confusion Matrix
[[5944 3885]
 [1824 7849]]
True label 0
0.6047410723369621  
0.39525892766303794  
True label 1
0.18856611185774838  
0.8114338881422516  

Train_result {'acc': [0.9300000023841858], 'loss': [0.14677591383457184]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.0774 - acc: 0.9688
100/100 [==============================] - 2s 16ms/step - loss: 0.1276 - acc: 0.9400

Test accuracy: 69.50569172392575

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7012

choose_one :  12490

F1score :  0.7316699002842576

AUC :  0.7781989470582755

Confusion Matrix
[[5447 4382]
 [1565 8108]]
True label 0
0.5541764167260148  
0.44582358327398514  
True label 1
0.16179055101829837  
0.8382094489817017  

Train_result {'acc': [0.9400000023841858], 'loss': [0.12761282980442046]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1793 - acc: 0.9375
100/100 [==============================] - 2s 17ms/step - loss: 0.1429 - acc: 0.9500

Test accuracy: 70.89529279048303

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8389

choose_one :  11113

F1score :  0.7269315885692292

AUC :  0.7804747494573204

Confusion Matrix
[[6271 3558]
 [2118 7555]]
True label 0
0.6380099704954726  
0.3619900295045274  
True label 1
0.2189599917295565  
0.7810400082704435  

Train_result {'acc': [0.9499999952316284], 'loss': [0.14291335254907608]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.0583 - acc: 0.9844
100/100 [==============================] - 2s 25ms/step - loss: 0.0497 - acc: 0.9900

Test accuracy: 71.99774382114656

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10098

choose_one :  9404

F1score :  0.7137390575038004

AUC :  0.7801225098885978

Confusion Matrix
[[7233 2596]
 [2865 6808]]
True label 0
0.73588360972632  
0.26411639027367995  
True label 1
0.2961852579344567  
0.7038147420655433  

Train_result {'acc': [0.99], 'loss': [0.049687353670597074]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.0679 - acc: 0.9531
100/100 [==============================] - 2s 17ms/step - loss: 0.0940 - acc: 0.9600

Test accuracy: 71.94133934981028

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9459

choose_one :  10043

F1score :  0.7224589166159465

AUC :  0.7810545387640069

Confusion Matrix
[[6908 2921]
 [2551 7122]]
True label 0
0.70281819106725  
0.29718180893275004  
True label 1
0.2637237671870154  
0.7362762328129846  

Train_result {'acc': [0.9599999952316284], 'loss': [0.09402793228626251]}
Saved model to disk


[[64.1421392677674, 1], [63.73192493077633, 2], [68.53656035278432, 3], [70.04922572043894, 4], [71.65418931391652, 5], [72.51563942159778, 6], [72.77202338221721, 7], [71.60804020100502, 8], [71.35678391959799, 9], [72.08491436775716, 10], [70.7260793764742, 11], [69.50569172392575, 12], [70.89529279048303, 13], [71.99774382114656, 14], [71.94133934981028, 15]]
max accuracy :  [72.77202338221721, 7]
