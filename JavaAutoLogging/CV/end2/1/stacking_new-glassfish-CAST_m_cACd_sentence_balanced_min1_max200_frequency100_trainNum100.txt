Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
2019-10-16 07:39:22.733698: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-16 07:39:22.747829: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-16 07:39:22.754551: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xae714f0 executing computations on platform Host. Devices:
2019-10-16 07:39:22.754593: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero :  10792
one :  10820

Second data
zero :  10792
one :  10820

Third data
zero :  10792
one :  10820

4th data
zero :  10792
one :  10820

glassfish-code
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
glassfish-code

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

179
glassfish-AST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-AST

Sentence length Average : 27

Under 10 : 9172
Over 10, Under 30 : 5625
Over 30, Under 100 : 5826
Over 100, Under 150 : 821
Over 150, Under 200 : 164
Over 200, Under 400 : 4
Over 400 : 0

253
glassfish-CAST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-CAST

Sentence length Average : 50

Under 10 : 4320
Over 10, Under 30 : 6874
Over 30, Under 100 : 7059
Over 100, Under 150 : 1787
Over 150, Under 200 : 894
Over 200, Under 400 : 678
Over 400 : 0

342
glassfish-depth_num
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-depth_num

Sentence length Average : 27

Under 10 : 9172
Over 10, Under 30 : 5625
Over 30, Under 100 : 5826
Over 100, Under 150 : 822
Over 150, Under 200 : 163
Over 200, Under 400 : 4
Over 400 : 0

253
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 179, 200)     0                                            
__________________________________________________________________________________________________
input_2 (InputLayer)            (None, 253, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 179, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
masking_2 (Masking)             (None, 253, 200)     0           input_2[0][0]                    
__________________________________________________________________________________________________
input_3 (InputLayer)            (None, 342, 200)     0                                            
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
forwards_2 (LSTM)               (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
backwards_2 (LSTM)              (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
masking_3 (Masking)             (None, 342, 200)     0           input_3[0][0]                    
__________________________________________________________________________________________________
input_4 (InputLayer)            (None, 253, 200)     0                                            
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 64)           0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 64)           0           backwords_1[0][0]                
__________________________________________________________________________________________________
after_dp_forward_2 (Dropout)    (None, 64)           0           forwards_2[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_2 (Dropout)   (None, 64)           0           backwards_2[0][0]                
__________________________________________________________________________________________________
forwards_3 (LSTM)               (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
backwards_3 (LSTM)              (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
masking_4 (Masking)             (None, 253, 200)     0           input_4[0][0]                    
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
concatenate_2 (Concatenate)     (None, 128)          0           after_dp_forward_2[0][0]         
                                                                 after_dp_backward_2[0][0]        
__________________________________________________________________________________________________
after_dp_forward_3 (Dropout)    (None, 64)           0           forwards_3[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_3 (Dropout)   (None, 64)           0           backwards_3[0][0]                
__________________________________________________________________________________________________
forwards_4 (LSTM)               (None, 64)           67840       masking_4[0][0]                  
__________________________________________________________________________________________________
backwards_4 (LSTM)              (None, 64)           67840       masking_4[0][0]                  
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
after_dp_2 (Dropout)            (None, 128)          0           concatenate_2[0][0]              
__________________________________________________________________________________________________
concatenate_3 (Concatenate)     (None, 128)          0           after_dp_forward_3[0][0]         
                                                                 after_dp_backward_3[0][0]        
__________________________________________________________________________________________________
after_dp_forward_4 (Dropout)    (None, 64)           0           forwards_4[0][0]                 
__________________________________________________________________________________________________/home/2014313303/taeha/JavaAutoLogging/model.py:149: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=[<tf.Tenso..., outputs=Tensor("ou...)`
  model = Model(input=[input1, input2, input3, input4], output=output)
/usr/local/lib/python3.5/dist-packages/keras/engine/training.py:490: UserWarning: Discrepancy between trainable weights and collected trainable weights, did you set `model.trainable` without calling `model.compile` after ?
  'Discrepancy between trainable weights and collected trainable'
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.

after_dp_backward_4 (Dropout)   (None, 64)           0           backwards_4[0][0]                
__________________________________________________________________________________________________
concatenate_5 (Concatenate)     (None, 256)          0           after_dp_1[0][0]                 
                                                                 after_dp_2[0][0]                 
__________________________________________________________________________________________________
after_dp_3 (Dropout)            (None, 128)          0           concatenate_3[0][0]              
__________________________________________________________________________________________________
concatenate_4 (Concatenate)     (None, 128)          0           after_dp_forward_4[0][0]         
                                                                 after_dp_backward_4[0][0]        
__________________________________________________________________________________________________
concatenate_6 (Concatenate)     (None, 384)          0           concatenate_5[0][0]              
                                                                 after_dp_3[0][0]                 
__________________________________________________________________________________________________
after_dp_4 (Dropout)            (None, 128)          0           concatenate_4[0][0]              
__________________________________________________________________________________________________
concatenate_7 (Concatenate)     (None, 512)          0           concatenate_6[0][0]              
                                                                 after_dp_4[0][0]                 
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 512)          262656      concatenate_7[0][0]              
__________________________________________________________________________________________________
dense_2 (Dense)                 (None, 768)          393984      dense_1[0][0]                    
__________________________________________________________________________________________________
dense_3 (Dense)                 (None, 512)          393728      dense_2[0][0]                    
__________________________________________________________________________________________________
dense_4 (Dense)                 (None, 256)          131328      dense_3[0][0]                    
__________________________________________________________________________________________________
dense_5 (Dense)                 (None, 128)          32896       dense_4[0][0]                    
__________________________________________________________________________________________________
dense_6_task_layer (Dense)      (None, 64)           8256        dense_5[0][0]                    
__________________________________________________________________________________________________
output_task_layer (Dense)       (None, 2)            130         dense_6_task_layer[0][0]         
==================================================================================================
Total params: 3,523,010
Trainable params: 1,765,698
Non-trainable params: 1,757,312
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 4s - loss: 0.8236 - acc: 0.4375
100/100 [==============================] - 8s 83ms/step - loss: 0.8122 - acc: 0.4200

Test accuracy: 45.29564894012644

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  10105

choose_one :  11407

F1score :  0.4694319206492336

AUC :  0.44622023998064436

Confusion Matrix
[[4538 6201]
 [5567 5206]]
True label 0
0.4225719340720738  
0.5774280659279263  
True label 1
0.5167548500881834  
0.48324514991181655  

Train_result {'acc': [0.4200000023841858], 'loss': [0.8121754288673401]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6844 - acc: 0.4844
100/100 [==============================] - 1s 13ms/step - loss: 0.6922 - acc: 0.4600

Test accuracy: 49.93492004462626

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20055

choose_one :  1457

F1score :  0.11937857726901062

AUC :  0.48225679078383515

Confusion Matrix
[[10012   727]
 [10043   730]]
True label 0
0.932302821491759  
0.06769717850824099  
True label 1
0.932238002413441  
0.06776199758655899  

Train_result {'acc': [0.4599999964237213], 'loss': [0.6921659111976624]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6771 - acc: 0.5312
100/100 [==============================] - 1s 12ms/step - loss: 0.7012 - acc: 0.5100

Test accuracy: 52.24990702863518

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  17075

choose_one :  4437

F1score :  0.32465483234714

AUC :  0.528603503599542

Confusion Matrix
[[8771 1968]
 [8304 2469]]
True label 0
0.8167427134742528  
0.18325728652574727  
True label 1
0.7708159287106655  
0.22918407128933443  

Train_result {'acc': [0.5099999952316284], 'loss': [0.7011535310745239]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6840 - acc: 0.4375
100/100 [==============================] - 1s 12ms/step - loss: 0.6810 - acc: 0.5000

Test accuracy: 50.692636667906285

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20126

choose_one :  1386

F1score :  0.12764207582860432

AUC :  0.5255927788556035

Confusion Matrix
[[10129   610]
 [ 9997   776]]
True label 0
0.9431976906602104  
0.05680230933978955  
True label 1
0.9279680683189455  
0.07203193168105448  

Train_result {'acc': [0.4999999976158142], 'loss': [0.6809759330749512]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6845 - acc: 0.5156
100/100 [==============================] - 1s 13ms/step - loss: 0.6729 - acc: 0.5700

Test accuracy: 50.00929713648197

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20259

choose_one :  1253

F1score :  0.10577082986861798

AUC :  0.5186245118440118

Confusion Matrix
[[10122   617]
 [10137   636]]
True label 0
0.9425458608809014  
0.057454139119098614  
True label 1
0.9409635199108883  
0.059036480089111665  

Train_result {'acc': [0.5700000071525574], 'loss': [0.6728866410255432]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6471 - acc: 0.5625
100/100 [==============================] - 1s 11ms/step - loss: 0.6617 - acc: 0.5600

Test accuracy: 51.087764968389735

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20039

choose_one :  1473

F1score :  0.1407806630736567

AUC :  0.5246900182517696

Confusion Matrix
[[10128   611]
 [ 9911   862]]
True label 0
0.9431045721203092  
0.056895427879690846  
True label 1
0.9199851480553235  
0.0800148519446765  

Train_result {'acc': [0.5600000095367431], 'loss': [0.6616534399986267]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6407 - acc: 0.6406
100/100 [==============================] - 1s 12ms/step - loss: 0.6431 - acc: 0.6200

Test accuracy: 51.7339159538862

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  19708

choose_one :  1804

F1score :  0.17444541623598633

AUC :  0.528044399071954

Confusion Matrix
[[10032   707]
 [ 9676  1097]]
True label 0
0.9341651922897849  
0.0658348077102151  
True label 1
0.8981713543117051  
0.1018286456882948  

Train_result {'acc': [0.6199999928474427], 'loss': [0.6430874824523926]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6233 - acc: 0.6094
100/100 [==============================] - 1s 12ms/step - loss: 0.6136 - acc: 0.6300

Test accuracy: 52.19877277798438

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  19238

choose_one :  2274

F1score :  0.21184946731049284

AUC :  0.5319192643847982

Confusion Matrix
[[9847  892]
 [9391 1382]]
True label 0
0.9169382624080454  
0.08306173759195455  
True label 1
0.8717163278566787  
0.12828367214332126  

Train_result {'acc': [0.6300000071525573], 'loss': [0.6135549068450927]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6203 - acc: 0.6406
100/100 [==============================] - 1s 12ms/step - loss: 0.5921 - acc: 0.6700

Test accuracy: 53.444589066567495

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  18658

choose_one :  2854

F1score :  0.26506200924634915

AUC :  0.5445331616142057

Confusion Matrix
[[9691 1048]
 [8967 1806]]
True label 0
0.9024117701834435  
0.09758822981655647  
True label 1
0.8323586744639376  
0.16764132553606237  

Train_result {'acc': [0.6699999952316285], 'loss': [0.592135272026062]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5656 - acc: 0.6250
100/100 [==============================] - 1s 12ms/step - loss: 0.5802 - acc: 0.6600

Test accuracy: 53.74674600223132

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  17937

choose_one :  3575

F1score :  0.30652355729021463

AUC :  0.5509358715789449

Confusion Matrix
[[9363 1376]
 [8574 2199]]
True label 0
0.8718688890958189  
0.12813111090418103  
True label 1
0.7958785853522695  
0.20412141464773043  

Train_result {'acc': [0.6599999952316284], 'loss': [0.5802314448356628]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5358 - acc: 0.7500
100/100 [==============================] - 1s 12ms/step - loss: 0.5378 - acc: 0.7300

Test accuracy: 54.62997396801785

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  16781

choose_one :  4731

F1score :  0.37048503611971106

AUC :  0.5497743057432858

Confusion Matrix
[[8880 1859]
 [7901 2872]]
True label 0
0.8268926343234938  
0.1731073656765062  
True label 1
0.7334075930567159  
0.2665924069432841  

Train_result {'acc': [0.7299999904632568], 'loss': [0.5378337025642395]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4614 - acc: 0.7969
100/100 [==============================] - 1s 12ms/step - loss: 0.5007 - acc: 0.7800

Test accuracy: 55.83860171067311

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  15481

choose_one :  6031

F1score :  0.43465841466317545

AUC :  0.5613256247467018

Confusion Matrix
[[8360 2379]
 [7121 3652]]
True label 0
0.7784709935748207  
0.22152900642517925  
True label 1
0.6610043627587487  
0.33899563724125126  

Train_result {'acc': [0.78], 'loss': [0.5007062697410584]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4708 - acc: 0.7812
100/100 [==============================] - 1s 13ms/step - loss: 0.4601 - acc: 0.7900

Test accuracy: 56.91706954258089

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  14215

choose_one :  7297

F1score :  0.48710570005534026

AUC :  0.5879699351844656

Confusion Matrix
[[7843 2896]
 [6372 4401]]
True label 0
0.7303287084458515  
0.26967129155414843  
True label 1
0.5914786967418546  
0.40852130325814534  

Train_result {'acc': [0.7900000095367432], 'loss': [0.4600589156150818]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4178 - acc: 0.8281
100/100 [==============================] - 1s 12ms/step - loss: 0.4056 - acc: 0.8500

Test accuracy: 57.688731870583865

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12807

choose_one :  8705

F1score :  0.5327035629941472

AUC :  0.5996742865084685

Confusion Matrix
[[7222 3517]
 [5585 5188]]
True label 0
0.6725020951671478  
0.32749790483285224  
True label 1
0.5184256938642904  
0.4815743061357096  

Train_result {'acc': [0.8500000023841858], 'loss': [0.40560210108757017]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3374 - acc: 0.9219
100/100 [==============================] - 1s 12ms/step - loss: 0.3464 - acc: 0.8800

Test accuracy: 58.14894012644105

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  10876

choose_one :  10636

F1score :  0.579475921341492

AUC :  0.6012639400455247

Confusion Matrix
[[6306 4433]
 [4570 6203]]
True label 0
0.5872055126175622  
0.41279448738243785  
True label 1
0.4242086698227049  
0.5757913301772951  

Train_result {'acc': [0.8800000095367432], 'loss': [0.34641581058502197]}
Saved model to disk


[[45.29564894012644, 1], [49.93492004462626, 2], [52.24990702863518, 3], [50.692636667906285, 4], [50.00929713648197, 5], [51.087764968389735, 6], [51.7339159538862, 7], [52.19877277798438, 8], [53.444589066567495, 9], [53.74674600223132, 10], [54.62997396801785, 11], [55.83860171067311, 12], [56.91706954258089, 13], [57.688731870583865, 14], [58.14894012644105, 15]]
max accuracy :  [58.14894012644105, 15]
