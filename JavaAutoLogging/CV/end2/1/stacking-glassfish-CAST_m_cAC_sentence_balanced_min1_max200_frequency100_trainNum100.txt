Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
2019-10-15 00:07:23.015744: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-15 00:07:23.026828: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100085000 Hz
2019-10-15 00:07:23.029540: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xa86dcd0 executing computations on platform Host. Devices:
2019-10-15 00:07:23.029582: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
/home/2014313303/taeha/JavaAutoLogging/model.py:86: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("ou..., inputs=[<tf.Tenso...)`
  model = Model(input=[input1, input2, input3], output=output)
/usr/local/lib/python3.5/dist-packages/keras/engine/training.py:479: UserWarning: Discrepancy between trainable weights and collected trainable weights, did you set `model.trainable` without calling `model.compile` after ?
  'Discrepancy between trainable weights and collected trainable'
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
First data
zero :  10792
one :  10820

Second data
zero :  10792
one :  10820

Third data
zero :  10792
one :  10820

glassfish-code
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
glassfish-code

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

179
glassfish-AST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-AST

Sentence length Average : 27

Under 10 : 9172
Over 10, Under 30 : 5625
Over 30, Under 100 : 5826
Over 100, Under 150 : 821
Over 150, Under 200 : 164
Over 200, Under 400 : 4
Over 400 : 0

253
glassfish-CAST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-CAST

Sentence length Average : 50

Under 10 : 4320
Over 10, Under 30 : 6874
Over 30, Under 100 : 7059
Over 100, Under 150 : 1787
Over 150, Under 200 : 894
Over 200, Under 400 : 678
Over 400 : 0

342
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 179, 200)     0                                            
__________________________________________________________________________________________________
input_2 (InputLayer)            (None, 253, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 179, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
masking_2 (Masking)             (None, 253, 200)     0           input_2[0][0]                    
__________________________________________________________________________________________________
input_3 (InputLayer)            (None, 342, 200)     0                                            
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
forwards_2 (LSTM)               (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
backwards_2 (LSTM)              (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
masking_3 (Masking)             (None, 342, 200)     0           input_3[0][0]                    
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 64)           0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 64)           0           backwords_1[0][0]                
__________________________________________________________________________________________________
after_dp_forward_2 (Dropout)    (None, 64)           0           forwards_2[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_2 (Dropout)   (None, 64)           0           backwards_2[0][0]                
__________________________________________________________________________________________________
forwards_3 (LSTM)               (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
backwards_3 (LSTM)              (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
concatenate_2 (Concatenate)     (None, 128)          0           after_dp_forward_2[0][0]         
                                                                 after_dp_backward_2[0][0]        
__________________________________________________________________________________________________
after_dp_forward_3 (Dropout)    (None, 64)           0           forwards_3[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_3 (Dropout)   (None, 64)           0           backwards_3[0][0]                
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
after_dp_2 (Dropout)            (None, 128)          0           concatenate_2[0][0]              
__________________________________________________________________________________________________
concatenate_3 (Concatenate)     (None, 128)          0           after_dp_forward_3[0][0]         
                                                                 after_dp_backward_3[0][0]        
__________________________________________________________________________________________________
concatenate_4 (Concatenate)     (None, 256)          0           after_dp_1[0][0]                 
                                                                 after_dp_2[0][0]                 
__________________________________________________________________________________________________
after_dp_3 (Dropout)            (None, 128)          0           concatenate_3[0][0]              
__________________________________________________________________________________________________
concatenate_5 (Concatenate)     (None, 384)          0           concatenate_4[0][0]              
                                                                 after_dp_3[0][0]                 
__________________________________________________________________________________________________
dense_1_task_layer (Dense)      (None, 256)          98560       concatenate_5[0][0]              
__________________________________________________________________________________________________
dense_2_task_layer (Dense)      (None, 128)          32896       dense_1_task_layer[0][0]         
__________________________________________________________________________________________________
output_task_layer (Dense)       (None, 2)            258         dense_2_task_layer[0][0]         
==================================================================================================
Total params: 945,794
Trainable params: 538,754
Non-trainable params: 407,040
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 2s - loss: 0.8036 - acc: 0.4844
100/100 [==============================] - 6s 56ms/step - loss: 0.7774 - acc: 0.5100

Test accuracy: 57.87932316846411

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9356

choose_one :  12156

F1score :  0.6048235858519778

AUC :  0.5985920957356436

Confusion Matrix
[[5517 5222]
 [3839 6934]]
True label 0
0.5137349846354409  
0.4862650153645591  
True label 1
0.35635384758191774  
0.6436461524180822  

Train_result {'loss': [0.7774126529693604], 'acc': [0.5100000095367432]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6425 - acc: 0.6406
100/100 [==============================] - 1s 10ms/step - loss: 0.6512 - acc: 0.6200

Test accuracy: 59.273893640758644

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  13074

choose_one :  8438

F1score :  0.5439591900473687

AUC :  0.6411208835876755

Confusion Matrix
[[7526 3213]
 [5548 5225]]
True label 0
0.7008101312971413  
0.29918986870285874  
True label 1
0.5149911816578483  
0.48500881834215165  

Train_result {'loss': [0.6512345290184021], 'acc': [0.6199999928474427]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5351 - acc: 0.7344
100/100 [==============================] - 1s 10ms/step - loss: 0.5954 - acc: 0.6500

Test accuracy: 59.36686500557828

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  14688

choose_one :  6824

F1score :  0.5032676024322328

AUC :  0.6635362353731047

Confusion Matrix
[[8343 2396]
 [6345 4428]]
True label 0
0.7768879783964987  
0.22311202160350127  
True label 1
0.5889724310776943  
0.41102756892230574  

Train_result {'loss': [0.5954312419891358], 'acc': [0.65]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5097 - acc: 0.7188
100/100 [==============================] - 1s 10ms/step - loss: 0.5329 - acc: 0.6900

Test accuracy: 62.383785793975456

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  11871

choose_one :  9641

F1score :  0.6036053688645047

AUC :  0.6790422096496204

Confusion Matrix
[[7259 3480]
 [4612 6161]]
True label 0
0.6759474811434957  
0.3240525188565043  
True label 1
0.42810730530028773  
0.5718926946997123  

Train_result {'loss': [0.5329300403594971], 'acc': [0.6900000023841858]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5219 - acc: 0.7812
100/100 [==============================] - 1s 10ms/step - loss: 0.4746 - acc: 0.8100

Test accuracy: 63.29490516920788

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9921

choose_one :  11591

F1score :  0.6469325702021105

AUC :  0.6879261099156446

Confusion Matrix
[[6382 4357]
 [3539 7234]]
True label 0
0.5942825216500606  
0.4057174783499395  
True label 1
0.32850645131346884  
0.6714935486865311  

Train_result {'loss': [0.47462629675865176], 'acc': [0.8099999976158142]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4339 - acc: 0.8438
100/100 [==============================] - 1s 10ms/step - loss: 0.4382 - acc: 0.8200

Test accuracy: 64.08981033841576

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  10756

choose_one :  10756

F1score :  0.6411816619443542

AUC :  0.6958045538224684

Confusion Matrix
[[6885 3854]
 [3871 6902]]
True label 0
0.6411211472204116  
0.3588788527795884  
True label 1
0.35932423651721895  
0.640675763482781  

Train_result {'loss': [0.4382087504863739], 'acc': [0.8200000047683715]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3433 - acc: 0.9062
100/100 [==============================] - 1s 10ms/step - loss: 0.3709 - acc: 0.8700

Test accuracy: 64.29899590925994

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12101

choose_one :  9411

F1score :  0.619500594530321

AUC :  0.7017818253787168

Confusion Matrix
[[7580 3159]
 [4521 6252]]
True label 0
0.7058385324518112  
0.29416146754818884  
True label 1
0.4196602617655249  
0.580339738234475  

Train_result {'loss': [0.3709281885623932], 'acc': [0.8700000095367432]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3276 - acc: 0.8750
100/100 [==============================] - 1s 10ms/step - loss: 0.3604 - acc: 0.8300

Test accuracy: 64.16883599851246

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12779

choose_one :  8733

F1score :  0.6048395365528556

AUC :  0.7079654349304403

Confusion Matrix
[[7905 2834]
 [4874 5899]]
True label 0
0.7361020579197318  
0.2638979420802682  
True label 1
0.45242736470806644  
0.5475726352919336  

Train_result {'loss': [0.36042970657348633], 'acc': [0.83]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.2876 - acc: 0.8906
100/100 [==============================] - 1s 10ms/step - loss: 0.3011 - acc: 0.9000

Test accuracy: 65.4100037188546

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  11486

choose_one :  10026

F1score :  0.6422424155007452

AUC :  0.7128765843452272

Confusion Matrix
[[7392 3347]
 [4094 6679]]
True label 0
0.6883322469503678  
0.3116677530496322  
True label 1
0.3800241344100993  
0.6199758655899007  

Train_result {'loss': [0.3010524070262909], 'acc': [0.9000000071525573]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3099 - acc: 0.8750
100/100 [==============================] - 1s 9ms/step - loss: 0.2844 - acc: 0.8800

Test accuracy: 65.7121606545184

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9745

choose_one :  11767

F1score :  0.6727595385980478

AUC :  0.7156997279145931

Confusion Matrix
[[6554 4185]
 [3191 7582]]
True label 0
0.6102989105130832  
0.38970108948691684  
True label 1
0.2962034716420681  
0.7037965283579318  

Train_result {'loss': [0.28437394022941587], 'acc': [0.8800000023841857]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.2464 - acc: 0.8906
100/100 [==============================] - 1s 10ms/step - loss: 0.2324 - acc: 0.9000

Test accuracy: 65.67962067683155

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9526

choose_one :  11986

F1score :  0.675600861197768

AUC :  0.7166123596195657

Confusion Matrix
[[6441 4298]
 [3085 7688]]
True label 0
0.5997765155042369  
0.4002234844957631  
True label 1
0.28636405829388284  
0.7136359417061171  

Train_result {'loss': [0.2323969793319702], 'acc': [0.9000000071525573]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.2625 - acc: 0.8906
100/100 [==============================] - 1s 10ms/step - loss: 0.2404 - acc: 0.9100

Test accuracy: 65.9166976571216

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  10639

choose_one :  10873

F1score :  0.6612769102836552

AUC :  0.7184195836353982

Confusion Matrix
[[7023 3716]
 [3616 7157]]
True label 0
0.6539715057267902  
0.3460284942732098  
True label 1
0.3356539496890374  
0.6643460503109626  

Train_result {'loss': [0.24041743636131285], 'acc': [0.9099999904632569]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1345 - acc: 0.9688
100/100 [==============================] - 1s 10ms/step - loss: 0.1601 - acc: 0.9500

Test accuracy: 65.59594644849386

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  11384

choose_one :  10128

F1score :  0.6459021099468925

AUC :  0.7193330537789085

Confusion Matrix
[[7361 3378]
 [4023 6750]]
True label 0
0.6854455722134277  
0.31455442778657233  
True label 1
0.37343358395989973  
0.6265664160401002  

Train_result {'loss': [0.160123770236969], 'acc': [0.9500000071525574]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1858 - acc: 0.9375
100/100 [==============================] - 1s 10ms/step - loss: 0.1797 - acc: 0.9400

Test accuracy: 65.27054667162514

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12046

choose_one :  9466

F1score :  0.6308612085577351

AUC :  0.7210961128286567

Confusion Matrix
[[7657 3082]
 [4389 6384]]
True label 0
0.7130086600242108  
0.2869913399757892  
True label 1
0.4074074074074074  
0.5925925925925926  

Train_result {'loss': [0.17969090282917022], 'acc': [0.9399999904632569]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.1615 - acc: 0.9375
100/100 [==============================] - 1s 9ms/step - loss: 0.1495 - acc: 0.9500

Test accuracy: 65.6889178133135

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  11594

choose_one :  9918

F1score :  0.6432748538011697

AUC :  0.7208588692971734

Confusion Matrix
[[7476 3263]
 [4118 6655]]
True label 0
0.6961542043020765  
0.30384579569792347  
True label 1
0.3822519261115752  
0.6177480738884248  

Train_result {'loss': [0.14947625875473022], 'acc': [0.9499999952316284]}
Saved model to disk


[[57.87932316846411, 1], [59.273893640758644, 2], [59.36686500557828, 3], [62.383785793975456, 4], [63.29490516920788, 5], [64.08981033841576, 6], [64.29899590925994, 7], [64.16883599851246, 8], [65.4100037188546, 9], [65.7121606545184, 10], [65.67962067683155, 11], [65.9166976571216, 12], [65.59594644849386, 13], [65.27054667162514, 14], [65.6889178133135, 15]]
max accuracy :  [65.9166976571216, 12]
