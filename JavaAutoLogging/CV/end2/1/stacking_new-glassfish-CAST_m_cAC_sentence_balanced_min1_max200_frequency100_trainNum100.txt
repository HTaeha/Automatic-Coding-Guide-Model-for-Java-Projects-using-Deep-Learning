Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
2019-10-16 08:06:31.595618: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-16 08:06:31.605969: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-16 08:06:31.608508: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xa603c50 executing computations on platform Host. Devices:
2019-10-16 08:06:31.608551: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero :  10792
one :  10820

Second data
zero :  10792
one :  10820

Third data
zero :  10792
one :  10820

glassfish-code
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
glassfish-code

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

179
glassfish-AST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-AST

Sentence length Average : 27

Under 10 : 9172
Over 10, Under 30 : 5625
Over 30, Under 100 : 5826
Over 100, Under 150 : 821
Over 150, Under 200 : 164
Over 200, Under 400 : 4
Over 400 : 0

253
glassfish-CAST
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773
After balance out data.
glassfish-CAST

Sentence length Average : 50

Under 10 : 4320
Over 10, Under 30 : 6874
Over 30, Under 100 : 7059
Over 100, Under 150 : 1787
Over 150, Under 200 : 894
Over 200, Under 400 : 678
Over 400 : 0

342
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 179, 200)     0                                            
__________________________________________________________________________________________________
input_2 (InputLayer)            (None, 253, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 179, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
masking_2 (Masking)             (None, 253, 200)     0           input_2[0][0]                    
__________________________________________________________________________________________________
input_3 (InputLayer)            (None, 342, 200)     0                                            
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
forwards_2 (LSTM)               (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
backwards_2 (LSTM)              (None, 64)           67840       masking_2[0][0]                  
__________________________________________________________________________________________________
masking_3 (Masking)             (None, 342, 200)     0           input_3[0][0]                    
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 64)           0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 64)           0           backwords_1[0][0]                
__________________________________________________________________________________________________
after_dp_forward_2 (Dropout)    (None, 64)           0           forwards_2[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_2 (Dropout)   (None, 64)           0           backwards_2[0][0]                
__________________________________________________________________________________________________
forwards_3 (LSTM)               (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
backwards_3 (LSTM)              (None, 64)           67840       masking_3[0][0]                  
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
concatenate_2 (Concatenate)     (None, 128)          0           after_dp_forward_2[0][0]         
                                                                 after_dp_backward_2[0][0]        
__________________________________________________________________________________________________
after_dp_forward_3 (Dropout)    (None, 64)           0           forwards_3[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_3 (Dropout)   (None, 64)           0           backwards_3[0][0]                
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
after_dp_2 (Dropout)            (None, 128)          0           concatenate_2[0][0]              
__________________________________________________________________________________________________
concatenate_3 (Concatenate)     (None, 128)          0           after_dp_forward_3[0][0]         
                                                                 after_dp_backward_3[0][0]        
__________________________________________________________________________________________________
concatenate_4 (Concatenate)     (None, 256)          0           after_dp_1[0][0]                 
                                                                 after_dp_2[0][0]                 
__________________________________________________________________________________________________
after_dp_3 (Dropout)            (None, 128)          0           concatenate_3[0][0]              
__________________________________________________________________________________________________
concatenate_5 (Concatenate)     (None, 384)          0           concatenate_4[0][0]              
                                                                 after_dp_3[0][0]                 
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 384)          147840      concatenate_5[0][0]              
__________________________________________________________________________________________________
dense_2 (Dense)                 (None, 512)          197120      dense_1[0][0]                    
__________________________________________________________________________________________________
dense_3 (Dense)                 (None, 256)          131328      dense_2[0][0]                    
__________________________________________________________________________________________________/home/2014313303/taeha/JavaAutoLogging/model.py:93: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=[<tf.Tenso..., outputs=Tensor("ou...)`
  model = Model(input=[input1, input2, input3], output=output)
/usr/local/lib/python3.5/dist-packages/keras/engine/training.py:490: UserWarning: Discrepancy between trainable weights and collected trainable weights, did you set `model.trainable` without calling `model.compile` after ?
  'Discrepancy between trainable weights and collected trainable'
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.

dense_4 (Dense)                 (None, 128)          32896       dense_3[0][0]                    
__________________________________________________________________________________________________
dense_5 (Dense)                 (None, 64)           8256        dense_4[0][0]                    
__________________________________________________________________________________________________
dense_6_task_layer (Dense)      (None, 32)           2080        dense_5[0][0]                    
__________________________________________________________________________________________________
output_task_layer (Dense)       (None, 2)            66          dense_6_task_layer[0][0]         
==================================================================================================
Total params: 1,851,106
Trainable params: 926,626
Non-trainable params: 924,480
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 3s - loss: 0.7695 - acc: 0.4219
100/100 [==============================] - 6s 61ms/step - loss: 0.7701 - acc: 0.4900

Test accuracy: 50.297508367422836

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  19813

choose_one :  1699

F1score :  0.14271969211032715

AUC :  0.5524481294596124

Confusion Matrix
[[9930  809]
 [9883  890]]
True label 0
0.9246671012198528  
0.07533289878014712  
True label 1
0.9173860577369349  
0.08261394226306507  

Train_result {'loss': [0.7701301980018616], 'acc': [0.4899999976158142]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.7521 - acc: 0.4688
100/100 [==============================] - 1s 11ms/step - loss: 0.7298 - acc: 0.5200

Test accuracy: 49.92097433990331

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  21512

choose_one :  0

F1score :  0.0

AUC :  0.5686022124041934

Confusion Matrix
[[10739     0]
 [10773     0]]
True label 0
1.0  
0.0  
True label 1
1.0  
0.0  

Train_result {'loss': [0.7297799658775329], 'acc': [0.5199999976158142]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6964 - acc: 0.5781
100/100 [==============================] - 1s 11ms/step - loss: 0.7080 - acc: 0.5300

Test accuracy: 49.92562290814429

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  21511

choose_one :  1

F1score :  0.0001856320772229441

AUC :  0.581481056211625

Confusion Matrix
[[10739     0]
 [10772     1]]
True label 0
1.0  
0.0  
True label 1
0.9999071753457718  
9.2824654228163e-05  

Train_result {'loss': [0.7080215167999268], 'acc': [0.5300000011920929]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6938 - acc: 0.5469
100/100 [==============================] - 1s 11ms/step - loss: 0.6740 - acc: 0.5300

Test accuracy: 50.24172554853106

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20523

choose_one :  989

F1score :  0.08995068865839144

AUC :  0.5744182098754628

Confusion Matrix
[[10279   460]
 [10244   529]]
True label 0
0.9571654716454046  
0.0428345283545954  
True label 1
0.9508957579133017  
0.049104242086698224  

Train_result {'loss': [0.6739694619178772], 'acc': [0.53]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6648 - acc: 0.5156
100/100 [==============================] - 1s 10ms/step - loss: 0.6518 - acc: 0.5700

Test accuracy: 50.850687988099665

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20176

choose_one :  1336

F1score :  0.12684779915765132

AUC :  0.5725949734122928

Confusion Matrix
[[10171   568]
 [10005   768]]
True label 0
0.9471086693360649  
0.05289133066393519  
True label 1
0.9287106655527708  
0.07128933444722918  

Train_result {'loss': [0.6517866849899292], 'acc': [0.5700000071525574]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6284 - acc: 0.5312
100/100 [==============================] - 1s 11ms/step - loss: 0.6324 - acc: 0.5500

Test accuracy: 50.72982521383413

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20196

choose_one :  1316

F1score :  0.12325254363470922

AUC :  0.5906409151247198

Confusion Matrix
[[10168   571]
 [10028   745]]
True label 0
0.9468293137163609  
0.05317068628363907  
True label 1
0.9308456326000185  
0.06915436739998143  

Train_result {'loss': [0.632427635192871], 'acc': [0.5499999928474426]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6102 - acc: 0.5156
100/100 [==============================] - 1s 11ms/step - loss: 0.5973 - acc: 0.5800

Test accuracy: 50.43696541465229

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20245

choose_one :  1267

F1score :  0.11445182724252492

AUC :  0.6078053856572226

Confusion Matrix
[[10161   578]
 [10084   689]]
True label 0
0.9461774839370519  
0.053822516062948134  
True label 1
0.9360438132367956  
0.0639561867632043  

Train_result {'loss': [0.5973155522346496], 'acc': [0.5799999904632568]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5880 - acc: 0.5469
100/100 [==============================] - 1s 10ms/step - loss: 0.5734 - acc: 0.5800

Test accuracy: 50.79955373744887

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20079

choose_one :  1433

F1score :  0.13288546616418154

AUC :  0.6183474061784466

Confusion Matrix
[[10117   622]
 [ 9962   811]]
True label 0
0.9420802681813949  
0.05791973181860508  
True label 1
0.9247192054209598  
0.07528079457904019  

Train_result {'loss': [0.5733900451660157], 'acc': [0.5800000023841858]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4910 - acc: 0.6719
100/100 [==============================] - 1s 11ms/step - loss: 0.5470 - acc: 0.6400

Test accuracy: 51.53867608776497

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  19528

choose_one :  1984

F1score :  0.18280159912205066

AUC :  0.6261203278412237

Confusion Matrix
[[9921  818]
 [9607 1166]]
True label 0
0.9238290343607413  
0.07617096563925878  
True label 1
0.891766453169962  
0.10823354683003805  

Train_result {'loss': [0.5470327019691468], 'acc': [0.6399999928474426]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5501 - acc: 0.6094
100/100 [==============================] - 1s 10ms/step - loss: 0.5394 - acc: 0.5900

Test accuracy: 53.90944589066567

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  17832

choose_one :  3680

F1score :  0.3139832560714038

AUC :  0.6330139219607511

Confusion Matrix
[[9328 1411]
 [8504 2269]]
True label 0
0.8686097401992737  
0.13139025980072633  
True label 1
0.7893808595562981  
0.21061914044370184  

Train_result {'loss': [0.53941326379776], 'acc': [0.5900000095367431]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4389 - acc: 0.7031
100/100 [==============================] - 1s 12ms/step - loss: 0.4974 - acc: 0.7100

Test accuracy: 57.24711788769059

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  15740

choose_one :  5772

F1score :  0.4441220912662436

AUC :  0.6385048213716635

Confusion Matrix
[[8641 2098]
 [7099 3674]]
True label 0
0.8046373032870845  
0.19536269671291553  
True label 1
0.6589622203657292  
0.34103777963427084  

Train_result {'loss': [0.49742009162902834], 'acc': [0.7099999952316284]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3758 - acc: 0.8438
100/100 [==============================] - 1s 11ms/step - loss: 0.4556 - acc: 0.8400

Test accuracy: 60.105987355894385

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  13661

choose_one :  7851

F1score :  0.539196735395189

AUC :  0.6432784150040323

Confusion Matrix
[[7909 2830]
 [5752 5021]]
True label 0
0.736474532079337  
0.263525467920663  
True label 1
0.5339274111203935  
0.4660725888796064  

Train_result {'loss': [0.4556332206726074], 'acc': [0.8399999928474426]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4110 - acc: 0.8906
100/100 [==============================] - 1s 10ms/step - loss: 0.4096 - acc: 0.9000

Test accuracy: 61.80271476385273

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  12016

choose_one :  9496

F1score :  0.5946025950959593

AUC :  0.6536334075472451

Confusion Matrix
[[7269 3470]
 [4747 6026]]
True label 0
0.6768786665425086  
0.3231213334574914  
True label 1
0.44063863362108974  
0.5593613663789102  

Train_result {'loss': [0.4095847296714783], 'acc': [0.9000000071525573]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3789 - acc: 0.9062
100/100 [==============================] - 1s 11ms/step - loss: 0.3894 - acc: 0.9000

Test accuracy: 62.95091111937523

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  11041

choose_one :  10471

F1score :  0.6248352475993221

AUC :  0.6593142348962666

Confusion Matrix
[[6905 3834]
 [4136 6637]]
True label 0
0.6429835180184374  
0.35701648198156255  
True label 1
0.38392276988768215  
0.6160772301123179  

Train_result {'loss': [0.38942928075790406], 'acc': [0.9000000023841858]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3157 - acc: 0.9531
100/100 [==============================] - 1s 11ms/step - loss: 0.3495 - acc: 0.9200
/home/2014313303/.local/lib/python3.5/site-packages/sklearn/metrics/classification.py:1143: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
  'precision', 'predicted', average, warn_for)

Test accuracy: 63.490145035329114

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  10265

choose_one :  11247

F1score :  0.643324250681199

AUC :  0.6603230752625564

Confusion Matrix
[[6575 4164]
 [3690 7083]]
True label 0
0.6122543998510104  
0.3877456001489897  
True label 1
0.34252297410192145  
0.6574770258980785  

Train_result {'loss': [0.3495173525810242], 'acc': [0.9199999976158142]}
Saved model to disk


[[50.297508367422836, 1], [49.92097433990331, 2], [49.92562290814429, 3], [50.24172554853106, 4], [50.850687988099665, 5], [50.72982521383413, 6], [50.43696541465229, 7], [50.79955373744887, 8], [51.53867608776497, 9], [53.90944589066567, 10], [57.24711788769059, 11], [60.105987355894385, 12], [61.80271476385273, 13], [62.95091111937523, 14], [63.490145035329114, 15]]
max accuracy :  [63.490145035329114, 15]
