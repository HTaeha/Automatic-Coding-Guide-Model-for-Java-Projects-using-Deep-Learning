Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
doc_product.py:530: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("ou..., inputs=Tensor("in...)`
  model = Model(input=input1, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-08-05 06:55:09.695657: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-08-05 06:55:09.706099: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-08-05 06:55:09.708574: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xab178a0 executing computations on platform Host. Devices:
2019-08-05 06:55:09.708615: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero : 
31687
one : 
7755

Second data
zero : 
31687
one : 
7755

glassfish-AST

Sentence length Average : 58

Under 10 : 0
Over 10, Under 200 : 15242
Over 200, Under 400 : 620
Over 400 : 0


glassfish-code

Sentence length Average : 74

Under 10 : 0
Over 10, Under 200 : 14755
Over 200, Under 400 : 1107
Over 400 : 0


Test_zero:  1183
Train_zero:  10634
zero:  11817
Test_one:  555
Train_one:  5228
one:  5783
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 800, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 800, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 256)          0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 256)          0           backwords_1[0][0]                
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
output (Dense)                  (None, 2)            1026        after_dp_1[0][0]                 
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 476s - loss: 0.5616 - acc: 0.7293

Test accuracy: 79.65796579657966

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  642

choose_one :  469

F1score :  0.779296875

AUC : 0.8760613131116727

Confusion Matrix
[[486  70]
 [156 399]]
True label 0
0.8741007194244604  
0.12589928057553956  
True label 1
0.2810810810810811  
0.7189189189189189  

Train_result {'loss': [0.5616037102306255], 'acc': [0.7292722578576296]}
2

Epoch 1/1
 - 476s - loss: 0.4393 - acc: 0.8099

Test accuracy: 84.96849684968497

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  563

choose_one :  548

F1score :  0.8485947416137807

AUC : 0.9181411627454794

Confusion Matrix
[[476  80]
 [ 87 468]]
True label 0
0.8561151079136691  
0.14388489208633093  
True label 1
0.15675675675675677  
0.8432432432432433  

Train_result {'loss': [0.43934164315311064], 'acc': [0.8098881132141905]}
3

Epoch 1/1
 - 477s - loss: 0.3788 - acc: 0.8380

Test accuracy: 86.94869486948696

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  621

choose_one :  490

F1score :  0.861244019138756

AUC : 0.9383077321926243

Confusion Matrix
[[516  40]
 [105 450]]
True label 0
0.9280575539568345  
0.07194244604316546  
True label 1
0.1891891891891892  
0.8108108108108109  

Train_result {'loss': [0.3787839061200214], 'acc': [0.8380032513991384]}
4

Epoch 1/1
 - 479s - loss: 0.3370 - acc: 0.8610

Test accuracy: 86.94869486948696

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  607

choose_one :  504

F1score :  0.8630783758262512

AUC : 0.9431654676258994

Confusion Matrix
[[509  47]
 [ 98 457]]
True label 0
0.9154676258992805  
0.08453237410071943  
True label 1
0.17657657657657658  
0.8234234234234235  

Train_result {'loss': [0.3370136677836943], 'acc': [0.8609543846911405]}
5

Epoch 1/1
 - 479s - loss: 0.3028 - acc: 0.8759

Test accuracy: 89.1989198919892

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  598

choose_one :  513

F1score :  0.8876404494382022

AUC : 0.9523494717739323

Confusion Matrix
[[517  39]
 [ 81 474]]
True label 0
0.9298561151079137  
0.07014388489208633  
True label 1
0.14594594594594595  
0.8540540540540541  

Train_result {'loss': [0.3027660646869061], 'acc': [0.8758726212106723]}
6

Epoch 1/1
 - 480s - loss: 0.2762 - acc: 0.8899

Test accuracy: 88.56885688568858

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  605

choose_one :  506

F1score :  0.8803016022620169

AUC : 0.9544591353943872

Confusion Matrix
[[517  39]
 [ 88 467]]
True label 0
0.9298561151079137  
0.07014388489208633  
True label 1
0.15855855855855855  
0.8414414414414414  

Train_result {'loss': [0.2761910127883228], 'acc': [0.8899301902518464]}
7

Epoch 1/1
 - 480s - loss: 0.2446 - acc: 0.9037

Test accuracy: 89.91899189918992

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  558

choose_one :  553

F1score :  0.8989169675090253

AUC : 0.9567859226132608

Confusion Matrix
[[501  55]
 [ 57 498]]
True label 0
0.9010791366906474  
0.09892086330935251  
True label 1
0.10270270270270271  
0.8972972972972973  

Train_result {'loss': [0.244612949064303], 'acc': [0.9037008701791679]}
8

Epoch 1/1
 - 484s - loss: 0.2168 - acc: 0.9185

Test accuracy: 89.55895589558955

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  576

choose_one :  535

F1score :  0.8935779816513761

AUC : 0.9612936677684879

Confusion Matrix
[[508  48]
 [ 68 487]]
True label 0
0.9136690647482014  
0.08633093525179857  
True label 1
0.12252252252252252  
0.8774774774774775  

Train_result {'loss': [0.21679843567611726], 'acc': [0.9185234771365814]}
9

Epoch 1/1
 - 482s - loss: 0.1948 - acc: 0.9228

Test accuracy: 89.55895589558955

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  606

choose_one :  505

F1score :  0.8905660377358491

AUC : 0.9618931881521808

Confusion Matrix
[[523  33]
 [ 83 472]]
True label 0
0.9406474820143885  
0.05935251798561151  
True label 1
0.14954954954954955  
0.8504504504504504  

Train_result {'loss': [0.1948105808059971], 'acc': [0.9228268145226698]}
10

Epoch 1/1
 - 480s - loss: 0.1705 - acc: 0.9356

Test accuracy: 88.56885688568858

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  629

choose_one :  482

F1score :  0.8775313404050145

AUC : 0.9589020675351612

Confusion Matrix
[[529  27]
 [100 455]]
True label 0
0.9514388489208633  
0.048561151079136694  
True label 1
0.18018018018018017  
0.8198198198198198  

Train_result {'loss': [0.17045758168995123], 'acc': [0.9356411972841159]}
11

Epoch 1/1
 - 480s - loss: 0.1473 - acc: 0.9431

Test accuracy: 90.72907290729073

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  589

choose_one :  522

F1score :  0.904363974001857

AUC : 0.9604478579298722

Confusion Matrix
[[521  35]
 [ 68 487]]
True label 0
0.9370503597122302  
0.06294964028776978  
True label 1
0.12252252252252252  
0.8774774774774775  

Train_result {'loss': [0.14725342489037285], 'acc': [0.9431003155267819]}
12

Epoch 1/1
 - 480s - loss: 0.1287 - acc: 0.9511

Test accuracy: 91.44914491449146

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  559

choose_one :  552

F1score :  0.9141824751580849

AUC : 0.9643155745673732

Confusion Matrix
[[510  46]
 [ 49 506]]
True label 0
0.9172661870503597  
0.08273381294964029  
True label 1
0.08828828828828829  
0.9117117117117117  

Train_result {'loss': [0.1286559854266725], 'acc': [0.9511332121510527]}
13

Epoch 1/1
 - 481s - loss: 0.1106 - acc: 0.9608

Test accuracy: 91.17911791179118

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  558

choose_one :  553

F1score :  0.9115523465703971

AUC : 0.9616728239030398

Confusion Matrix
[[508  48]
 [ 50 505]]
True label 0
0.9136690647482014  
0.08633093525179857  
True label 1
0.09009009009009009  
0.9099099099099099  

Train_result {'loss': [0.11061221662118989], 'acc': [0.9607918140445212]}
14

Epoch 1/1
 - 480s - loss: 0.0959 - acc: 0.9640

Test accuracy: 89.37893789378938

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  552

choose_one :  559

F1score :  0.8940754039497307

AUC : 0.9539438719294834

Confusion Matrix
[[495  61]
 [ 57 498]]
True label 0
0.8902877697841727  
0.10971223021582734  
True label 1
0.10270270270270271  
0.8972972972972973  

Train_result {'loss': [0.09585120256833801], 'acc': [0.9640432246741162]}
15

Epoch 1/1
 - 480s - loss: 0.0848 - acc: 0.9704

Test accuracy: 90.27902790279028

data size :  11568

zero :  5785

one :  5783

train_zero :  5229

train_one :  5228

test_zero :  556

test_one :  555

choose_zero :  584

choose_one :  527

F1score :  0.9001848428835489

AUC : 0.9589182707887743

Confusion Matrix
[[516  40]
 [ 68 487]]
True label 0
0.9280575539568345  
0.07194244604316546  
True label 1
0.12252252252252252  
0.8774774774774775  

Train_result {'loss': [0.08475011178427976], 'acc': [0.970354786267572]}
Saved model to disk



