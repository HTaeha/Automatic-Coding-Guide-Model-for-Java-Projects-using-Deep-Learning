Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
balanced_auto_logging.py:358: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("de..., inputs=Tensor("in...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-08-04 17:07:44.254388: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-08-04 17:07:44.264964: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2099840000 Hz
2019-08-04 17:07:44.267266: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x9991600 executing computations on platform Host. Devices:
2019-08-04 17:07:44.267328: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
zero : 
31687

one : 
7755
glassfish-code
all data

Sentence length Average : 40

Under 10 : 18074
Over 10, Under 200 : 19988
Over 200, Under 400 : 1063
Over 400 : 317

glassfish-code
updated_train_data

Sentence length Average : 65

Under 10 : 0
Over 10, Under 200 : 17371
Over 200, Under 400 : 1096
Over 400 : 0


Test_zero:  1495
Train_zero:  13041
zero:  14536
Test_one:  618
Train_one:  5426
one:  6044

Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 256)          0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 256)          0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            1026        dropout_3[0][0]                  
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 252s - loss: 0.5112 - acc: 0.7583

Test accuracy: 82.37671786580437

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  681

choose_one :  556

F1score :  0.8143100511073254

AUC : 0.8954663801621782

Confusion Matrix
[[541  78]
 [140 478]]
True label 0
0.8739903069466882  
0.1260096930533118  
True label 1
0.22653721682847897  
0.7734627831715211  

Train_result {'loss': [0.5112091028422878], 'acc': [0.7583156730857827]}
2

Epoch 1/1
 - 253s - loss: 0.3829 - acc: 0.8357

Test accuracy: 77.76879547291836

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  428

choose_one :  809

F1score :  0.8072880168185004

AUC : 0.9073631130699373

Confusion Matrix
[[386 233]
 [ 42 576]]
True label 0
0.6235864297253635  
0.3764135702746365  
True label 1
0.06796116504854369  
0.9320388349514563  

Train_result {'loss': [0.38287617086452524], 'acc': [0.8357136275793983]}
3

Epoch 1/1
 - 256s - loss: 0.3275 - acc: 0.8652

Test accuracy: 83.99353274050121

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  515

choose_one :  722

F1score :  0.8522388059701492

AUC : 0.9388890631616922

Confusion Matrix
[[468 151]
 [ 47 571]]
True label 0
0.7560581583198708  
0.24394184168012925  
True label 1
0.07605177993527508  
0.9239482200647249  

Train_result {'loss': [0.32747234289167026], 'acc': [0.8651985626204007]}
4

Epoch 1/1
 - 262s - loss: 0.2964 - acc: 0.8776

Test accuracy: 87.95472918350849

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  634

choose_one :  603

F1score :  0.877968877968878

AUC : 0.942146221852764

Confusion Matrix
[[552  67]
 [ 82 536]]
True label 0
0.8917609046849758  
0.10823909531502424  
True label 1
0.13268608414239483  
0.8673139158576052  

Train_result {'loss': [0.29643493741380006], 'acc': [0.8776375195853316]}
5

Epoch 1/1
 - 261s - loss: 0.2688 - acc: 0.8919

Test accuracy: 87.79304769603881

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  584

choose_one :  653

F1score :  0.8811959087332808

AUC : 0.9514628459097302

Confusion Matrix
[[526  93]
 [ 58 560]]
True label 0
0.8497576736672051  
0.15024232633279483  
True label 1
0.09385113268608414  
0.9061488673139159  

Train_result {'loss': [0.26875387986859867], 'acc': [0.8919192849958173]}
6

Epoch 1/1
 - 262s - loss: 0.2353 - acc: 0.9087

Test accuracy: 89.8949070331447

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  652

choose_one :  585

F1score :  0.8960931005818786

AUC : 0.9580085323964427

Confusion Matrix
[[573  46]
 [ 79 539]]
True label 0
0.925686591276252  
0.07431340872374798  
True label 1
0.127831715210356  
0.872168284789644  

Train_result {'loss': [0.23526161388873967], 'acc': [0.9086888418003874]}
7

Epoch 1/1
 - 261s - loss: 0.2104 - acc: 0.9183

Test accuracy: 90.21827000808408

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  612

choose_one :  625

F1score :  0.9026548672566372

AUC : 0.962771408106822

Confusion Matrix
[[555  64]
 [ 57 561]]
True label 0
0.8966074313408724  
0.10339256865912763  
True label 1
0.09223300970873786  
0.9077669902912622  

Train_result {'loss': [0.21040336677912197], 'acc': [0.9182714456832213]}
8

Epoch 1/1
 - 261s - loss: 0.1829 - acc: 0.9287

Test accuracy: 89.97574777687954

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  603

choose_one :  634

F1score :  0.9009584664536742

AUC : 0.9636105316540406

Confusion Matrix
[[549  70]
 [ 54 564]]
True label 0
0.8869143780290791  
0.11308562197092084  
True label 1
0.08737864077669903  
0.912621359223301  

Train_result {'loss': [0.1828586085601072], 'acc': [0.9286833133695752]}
9

Epoch 1/1
 - 261s - loss: 0.1577 - acc: 0.9377

Test accuracy: 89.8949070331447

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  644

choose_one :  593

F1score :  0.8967795210569778

AUC : 0.9584659985047393

Confusion Matrix
[[569  50]
 [ 75 543]]
True label 0
0.9192245557350566  
0.08077544426494346  
True label 1
0.12135922330097088  
0.8786407766990292  

Train_result {'loss': [0.15772500303918444], 'acc': [0.9377130747258823]}
10

Epoch 1/1
 - 261s - loss: 0.1457 - acc: 0.9468

Test accuracy: 90.54163298302345

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  600

choose_one :  637

F1score :  0.9067729083665339

AUC : 0.9656469093589725

Confusion Matrix
[[551  68]
 [ 49 569]]
True label 0
0.8901453957996769  
0.1098546042003231  
True label 1
0.07928802588996764  
0.9207119741100324  

Train_result {'loss': [0.14565786179802137], 'acc': [0.9468349765041923]}
11

Epoch 1/1
 - 261s - loss: 0.1252 - acc: 0.9557

Test accuracy: 90.70331447049313

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  676

choose_one :  561

F1score :  0.9024597116200169

AUC : 0.9669199721860607

Confusion Matrix
[[590  29]
 [ 86 532]]
True label 0
0.9531502423263328  
0.046849757673667204  
True label 1
0.13915857605177995  
0.86084142394822  

Train_result {'loss': [0.1251534906638678], 'acc': [0.9556804570164932]}
12

Epoch 1/1
 - 261s - loss: 0.1056 - acc: 0.9614

Test accuracy: 90.70331447049313

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  594

choose_one :  643

F1score :  0.9088025376685172

AUC : 0.9686256672469952

Confusion Matrix
[[549  70]
 [ 45 573]]
True label 0
0.8869143780290791  
0.11308562197092084  
True label 1
0.07281553398058252  
0.9271844660194175  

Train_result {'loss': [0.10556226455968262], 'acc': [0.9613931631806873]}
13

Epoch 1/1
 - 262s - loss: 0.0922 - acc: 0.9667

Test accuracy: 90.37995149555375

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  602

choose_one :  635

F1score :  0.9050279329608938

AUC : 0.962737424910206

Confusion Matrix
[[551  68]
 [ 51 567]]
True label 0
0.8901453957996769  
0.1098546042003231  
True label 1
0.0825242718446602  
0.9174757281553398  

Train_result {'loss': [0.09215191550076414], 'acc': [0.966737307656869]}
14

Epoch 1/1
 - 262s - loss: 0.0798 - acc: 0.9734

Test accuracy: 91.0266774454325

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  628

choose_one :  609

F1score :  0.9095354523227384

AUC : 0.9683642580422541

Confusion Matrix
[[568  51]
 [ 60 558]]
True label 0
0.9176090468497576  
0.08239095315024232  
True label 1
0.0970873786407767  
0.9029126213592233  

Train_result {'loss': [0.0798154558355189], 'acc': [0.9733714180410946]}
15

Epoch 1/1
 - 262s - loss: 0.0715 - acc: 0.9759

Test accuracy: 90.13742926434924

data size :  12090

zero :  6046

one :  6044

train_zero :  5427

train_one :  5426

test_zero :  619

test_one :  618

choose_zero :  581

choose_one :  656

F1score :  0.904238618524333

AUC : 0.9636902614614866

Confusion Matrix
[[539  80]
 [ 42 576]]
True label 0
0.8707592891760905  
0.12924071082390953  
True label 1
0.06796116504854369  
0.9320388349514563  

Train_result {'loss': [0.07147624323068696], 'acc': [0.9758592094351792]}
Saved model to disk



