Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
doc_product.py:530: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=Tensor("in..., outputs=Tensor("ou...)`
  model = Model(input=input1, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-08-05 08:42:12.582831: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-08-05 08:42:12.593511: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2099840000 Hz
2019-08-05 08:42:12.596369: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xba5c2a0 executing computations on platform Host. Devices:
2019-08-05 08:42:12.596408: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero : 
31687
one : 
7755

Second data
zero : 
31687
one : 
7755

glassfish-AST

Sentence length Average : 58

Under 10 : 0
Over 10, Under 200 : 15189
Over 200, Under 400 : 608
Over 400 : 0


glassfish-code

Sentence length Average : 74

Under 10 : 0
Over 10, Under 200 : 14711
Over 200, Under 400 : 1086
Over 400 : 0


Test_zero:  1212
Train_zero:  10606
zero:  11818
Test_one:  592
Train_one:  5191
one:  5783
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 800, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 800, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 256)          0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 256)          0           backwords_1[0][0]                
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
output (Dense)                  (None, 2)            1026        after_dp_1[0][0]                 
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 592s - loss: 0.5604 - acc: 0.7356

Test accuracy: 81.85654008438819

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  596

choose_one :  589

F1score :  0.8179508890770533

AUC : 0.8816727245795543

Confusion Matrix
[[487 106]
 [109 483]]
True label 0
0.821247892074199  
0.178752107925801  
True label 1
0.18412162162162163  
0.8158783783783784  

Train_result {'loss': [0.5604153512849246], 'acc': [0.7356255417624202]}
2

Epoch 1/1
 - 551s - loss: 0.4274 - acc: 0.8151

Test accuracy: 77.63713080168776

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  448

choose_one :  737

F1score :  0.8006019563581641

AUC : 0.9004560525955972

Confusion Matrix
[[388 205]
 [ 60 532]]
True label 0
0.654300168634064  
0.3456998313659359  
True label 1
0.10135135135135136  
0.8986486486486487  

Train_result {'loss': [0.4274122501044194], 'acc': [0.8150823461542145]}
3

Epoch 1/1
 - 516s - loss: 0.3766 - acc: 0.8408

Test accuracy: 83.71308016877637

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  712

choose_one :  473

F1score :  0.8187793427230046

AUC : 0.9196723599653616

Confusion Matrix
[[556  37]
 [156 436]]
True label 0
0.9376053962900506  
0.06239460370994941  
True label 1
0.2635135135135135  
0.7364864864864865  

Train_result {'loss': [0.37658673114977764], 'acc': [0.8407974573937407]}
4

Epoch 1/1
 - 501s - loss: 0.3349 - acc: 0.8617

Test accuracy: 83.37552742616033

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  748

choose_one :  437

F1score :  0.8085519922254617

AUC : 0.9295083975206235

Confusion Matrix
[[572  21]
 [176 416]]
True label 0
0.9645868465430016  
0.03541315345699832  
True label 1
0.2972972972972973  
0.7027027027027027  

Train_result {'loss': [0.33494762110593035], 'acc': [0.8616970047364744]}
5

Epoch 1/1
 - 498s - loss: 0.3056 - acc: 0.8756

Test accuracy: 87.51054852320675

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  655

choose_one :  530

F1score :  0.8680926916221033

AUC : 0.9496276947267672

Confusion Matrix
[[550  43]
 [105 487]]
True label 0
0.927487352445194  
0.07251264755480608  
True label 1
0.17736486486486486  
0.8226351351351351  

Train_result {'loss': [0.3055552668043567], 'acc': [0.8755658287642882]}
6

Epoch 1/1
 - 497s - loss: 0.2776 - acc: 0.8921

Test accuracy: 88.27004219409282

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  646

choose_one :  539

F1score :  0.8770999115826703

AUC : 0.9504338339182354

Confusion Matrix
[[550  43]
 [ 96 496]]
True label 0
0.927487352445194  
0.07251264755480608  
True label 1
0.16216216216216217  
0.8378378378378378  

Train_result {'loss': [0.2775692805657896], 'acc': [0.8921313686004829]}
7

Epoch 1/1
 - 498s - loss: 0.2476 - acc: 0.9017

Test accuracy: 89.28270042194093

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  588

choose_one :  597

F1score :  0.8931875525651808

AUC : 0.956484150676815

Confusion Matrix
[[527  66]
 [ 61 531]]
True label 0
0.8887015177065767  
0.11129848229342328  
True label 1
0.10304054054054054  
0.8969594594594594  

Train_result {'loss': [0.24761285563602758], 'acc': [0.901666185116017]}
8

Epoch 1/1
 - 498s - loss: 0.2210 - acc: 0.9116

Test accuracy: 87.67932489451476

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  623

choose_one :  562

F1score :  0.8734835355285963

AUC : 0.9448079508682375

Confusion Matrix
[[535  58]
 [ 88 504]]
True label 0
0.9021922428330523  
0.09780775716694773  
True label 1
0.14864864864864866  
0.8513513513513513  

Train_result {'loss': [0.2210010161814772], 'acc': [0.9115862467609755]}
9

Epoch 1/1
 - 498s - loss: 0.2005 - acc: 0.9239

Test accuracy: 89.78902953586498

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  646

choose_one :  539

F1score :  0.8930150309460655

AUC : 0.9548804179390181

Confusion Matrix
[[559  34]
 [ 87 505]]
True label 0
0.9426644182124789  
0.05733558178752108  
True label 1
0.14695945945945946  
0.8530405405405406  

Train_result {'loss': [0.20045046038085368], 'acc': [0.9239140903399788]}
10

Epoch 1/1
 - 498s - loss: 0.1833 - acc: 0.9310

Test accuracy: 90.042194092827

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  657

choose_one :  528

F1score :  0.8946428571428572

AUC : 0.9563474203545873

Confusion Matrix
[[566  27]
 [ 91 501]]
True label 0
0.954468802698145  
0.045531197301854974  
True label 1
0.15371621621621623  
0.8462837837837838  

Train_result {'loss': [0.1832714595871487], 'acc': [0.9310411249157277]}
11

Epoch 1/1
 - 498s - loss: 0.1660 - acc: 0.9368

Test accuracy: 90.46413502109705

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  620

choose_one :  565

F1score :  0.902333621434745

AUC : 0.9604991796180666

Confusion Matrix
[[550  43]
 [ 70 522]]
True label 0
0.927487352445194  
0.07251264755480608  
True label 1
0.11824324324324324  
0.8817567567567568  

Train_result {'loss': [0.16595977513247126], 'acc': [0.9368198016045078]}
12

Epoch 1/1
 - 499s - loss: 0.1409 - acc: 0.9485

Test accuracy: 88.9451476793249

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  556

choose_one :  629

F1score :  0.8927108927108928

AUC : 0.9558175903559546

Confusion Matrix
[[509  84]
 [ 47 545]]
True label 0
0.8583473861720068  
0.14165261382799327  
True label 1
0.07939189189189189  
0.9206081081081081  

Train_result {'loss': [0.14088785588625774], 'acc': [0.9484734662428971]}
13

Epoch 1/1
 - 498s - loss: 0.1288 - acc: 0.9522

Test accuracy: 90.042194092827

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  599

choose_one :  586

F1score :  0.899830220713073

AUC : 0.9568786746274099

Confusion Matrix
[[537  56]
 [ 62 530]]
True label 0
0.9055649241146712  
0.09443507588532883  
True label 1
0.10472972972972973  
0.8952702702702703  

Train_result {'loss': [0.12883558600271275], 'acc': [0.9522296060926134]}
14

Epoch 1/1
 - 498s - loss: 0.1130 - acc: 0.9610

Test accuracy: 88.9451476793249

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  588

choose_one :  597

F1score :  0.8898233809924306

AUC : 0.9557891048721572

Confusion Matrix
[[525  68]
 [ 63 529]]
True label 0
0.8853288364249579  
0.11467116357504216  
True label 1
0.10641891891891891  
0.893581081081081  

Train_result {'loss': [0.11298531078040416], 'acc': [0.9609939323894828]}
15

Epoch 1/1
 - 498s - loss: 0.0986 - acc: 0.9639

Test accuracy: 89.53586497890296

data size :  11568

zero :  5785

one :  5783

train_zero :  5192

train_one :  5191

test_zero :  593

test_one :  592

choose_zero :  617

choose_one :  568

F1score :  0.893103448275862

AUC : 0.9548348411649423

Confusion Matrix
[[543  50]
 [ 74 518]]
True label 0
0.9156829679595279  
0.08431703204047218  
True label 1
0.125  
0.875  

Train_result {'loss': [0.09864260252236137], 'acc': [0.9638832707310026]}
Saved model to disk



