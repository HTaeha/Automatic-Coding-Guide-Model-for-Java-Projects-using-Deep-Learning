Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
balanced_auto_logging.py:358: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=Tensor("in..., outputs=Tensor("de...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-08-04 06:03:18.729288: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-08-04 06:03:18.740323: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2099840000 Hz
2019-08-04 06:03:18.742589: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x8c60c00 executing computations on platform Host. Devices:
2019-08-04 06:03:18.742635: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
zero : 
31687

one : 
7755
glassfish-AST
all data

Sentence length Average : 29

Under 10 : 21645
Over 10, Under 200 : 17117
Over 200, Under 400 : 544
Over 400 : 136

glassfish-AST
updated_train_data

Sentence length Average : 58

Under 10 : 0
Over 10, Under 200 : 15358
Over 200, Under 400 : 610
Over 400 : 0


Test_zero:  1234
Train_zero:  10760
zero:  11994
Test_one:  595
Train_one:  5208
one:  5803

Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 256)          0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 256)          0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            1026        dropout_3[0][0]                  
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 238s - loss: 0.5696 - acc: 0.7154

Test accuracy: 78.33753148614609

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  604

choose_one :  587

F1score :  0.7817258883248731

AUC : 0.8583610625458236

Confusion Matrix
[[471 125]
 [133 462]]
True label 0
0.790268456375839  
0.20973154362416108  
True label 1
0.2235294117647059  
0.7764705882352941  

Train_result {'loss': [0.5695938280073457], 'acc': [0.7153691082114254]}
2

Epoch 1/1
 - 248s - loss: 0.4617 - acc: 0.7835

Test accuracy: 79.7649034424853

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  697

choose_one :  494

F1score :  0.7786960514233241

AUC : 0.8897552309514409

Confusion Matrix
[[526  70]
 [171 424]]
True label 0
0.8825503355704698  
0.1174496644295302  
True label 1
0.28739495798319326  
0.7126050420168067  

Train_result {'loss': [0.46169414279487686], 'acc': [0.7835269271612191]}
3

Epoch 1/1
 - 248s - loss: 0.4114 - acc: 0.8189

Test accuracy: 83.87909319899244

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  534

choose_one :  657

F1score :  0.8466453674121406

AUC : 0.9190626586204953

Confusion Matrix
[[469 127]
 [ 65 530]]
True label 0
0.7869127516778524  
0.21308724832214765  
True label 1
0.1092436974789916  
0.8907563025210085  

Train_result {'loss': [0.41144375823630563], 'acc': [0.818949793629492]}
4

Epoch 1/1
 - 247s - loss: 0.3647 - acc: 0.8441

Test accuracy: 84.55079764903442

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  568

choose_one :  623

F1score :  0.8489326765188834

AUC : 0.9207715300885456

Confusion Matrix
[[490 106]
 [ 78 517]]
True label 0
0.8221476510067114  
0.17785234899328858  
True label 1
0.13109243697478992  
0.8689075630252101  

Train_result {'loss': [0.36471452825561734], 'acc': [0.8441009887969687]}
5

Epoch 1/1
 - 248s - loss: 0.3420 - acc: 0.8573

Test accuracy: 85.8942065491184

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  580

choose_one :  611

F1score :  0.8606965174129353

AUC : 0.930384637076307

Confusion Matrix
[[504  92]
 [ 76 519]]
True label 0
0.8456375838926175  
0.15436241610738255  
True label 1
0.12773109243697478  
0.8722689075630252  

Train_result {'loss': [0.3419592106246188], 'acc': [0.8573485648573687]}
6

Epoch 1/1
 - 246s - loss: 0.3090 - acc: 0.8710

Test accuracy: 86.81780016792612

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  633

choose_one :  558

F1score :  0.8638334778837814

AUC : 0.9365348824093395

Confusion Matrix
[[536  60]
 [ 97 498]]
True label 0
0.8993288590604027  
0.10067114093959731  
True label 1
0.16302521008403362  
0.8369747899159664  

Train_result {'loss': [0.30899133711546917], 'acc': [0.8709801286473273]}
7

Epoch 1/1
 - 248s - loss: 0.2888 - acc: 0.8816

Test accuracy: 85.97816960537364

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  569

choose_one :  622

F1score :  0.8627773212818406

AUC : 0.9309937397777902

Confusion Matrix
[[499  97]
 [ 70 525]]
True label 0
0.837248322147651  
0.16275167785234898  
True label 1
0.11764705882352941  
0.8823529411764706  

Train_result {'loss': [0.2887824228895458], 'acc': [0.8816357876834043]}
8

Epoch 1/1
 - 249s - loss: 0.2640 - acc: 0.8922

Test accuracy: 86.98572628043661

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  625

choose_one :  566

F1score :  0.8664944013781223

AUC : 0.9374964751001071

Confusion Matrix
[[533  63]
 [ 92 503]]
True label 0
0.8942953020134228  
0.10570469798657718  
True label 1
0.1546218487394958  
0.8453781512605042  

Train_result {'loss': [0.2639632416461541], 'acc': [0.8921954497627738]}
9

Epoch 1/1
 - 247s - loss: 0.2377 - acc: 0.9060

Test accuracy: 87.74139378673384

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  618

choose_one :  573

F1score :  0.875

AUC : 0.9423833963115448

Confusion Matrix
[[534  62]
 [ 84 511]]
True label 0
0.8959731543624161  
0.1040268456375839  
True label 1
0.1411764705882353  
0.8588235294117647  

Train_result {'loss': [0.2377401898541125], 'acc': [0.9060190073974853]}
10

Epoch 1/1
 - 248s - loss: 0.2175 - acc: 0.9131

Test accuracy: 86.81780016792612

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  611

choose_one :  580

F1score :  0.8663829787234042

AUC : 0.9324826574925273

Confusion Matrix
[[525  71]
 [ 86 509]]
True label 0
0.8808724832214765  
0.11912751677852348  
True label 1
0.14453781512605043  
0.8554621848739495  

Train_result {'loss': [0.21750546395750048], 'acc': [0.9131227800824815]}
11

Epoch 1/1
 - 245s - loss: 0.1917 - acc: 0.9249

Test accuracy: 86.48194794290512

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  609

choose_one :  582

F1score :  0.8632115548003398

AUC : 0.9401274603801252

Confusion Matrix
[[522  74]
 [ 87 508]]
True label 0
0.8758389261744967  
0.12416107382550336  
True label 1
0.146218487394958  
0.853781512605042  

Train_result {'loss': [0.19168226971751706], 'acc': [0.9249304022328506]}
12

Epoch 1/1
 - 247s - loss: 0.1796 - acc: 0.9291

Test accuracy: 86.90176322418137

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  644

choose_one :  547

F1score :  0.8633975481611208

AUC : 0.9381253172409905

Confusion Matrix
[[542  54]
 [102 493]]
True label 0
0.9093959731543624  
0.09060402684563758  
True label 1
0.17142857142857143  
0.8285714285714286  

Train_result {'loss': [0.17963261394087843], 'acc': [0.9290582701467994]}
13

Epoch 1/1
 - 246s - loss: 0.1602 - acc: 0.9375

Test accuracy: 86.64987405541562

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  553

choose_one :  638

F1score :  0.8710462287104623

AUC : 0.9423185381535164

Confusion Matrix
[[495 101]
 [ 58 537]]
True label 0
0.8305369127516778  
0.16946308724832215  
True label 1
0.09747899159663866  
0.9025210084033614  

Train_result {'loss': [0.16018421032171945], 'acc': [0.9375059998194498]}
14

Epoch 1/1
 - 247s - loss: 0.1390 - acc: 0.9493

Test accuracy: 87.8253568429891

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  585

choose_one :  606

F1score :  0.8792672772689426

AUC : 0.9441557159776661

Confusion Matrix
[[518  78]
 [ 67 528]]
True label 0
0.8691275167785235  
0.13087248322147652  
True label 1
0.11260504201680673  
0.8873949579831932  

Train_result {'loss': [0.1389964540857631], 'acc': [0.9493136219640972]}
15

Epoch 1/1
 - 246s - loss: 0.1330 - acc: 0.9526

Test accuracy: 86.48194794290512

data size :  11608

zero :  5805

one :  5803

train_zero :  5209

train_one :  5208

test_zero :  596

test_one :  595

choose_zero :  545

choose_one :  646

F1score :  0.870265914585012

AUC : 0.9419378489650893

Confusion Matrix
[[490 106]
 [ 55 540]]
True label 0
0.8221476510067114  
0.17785234899328858  
True label 1
0.09243697478991597  
0.907563025210084  

Train_result {'loss': [0.13296131897684457], 'acc': [0.9525775175251613]}
Saved model to disk



