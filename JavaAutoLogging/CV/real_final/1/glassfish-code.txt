2019-08-06 04:17:42.859010: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
zero : 
31687

one : 
7755
glassfish-code
all data

Sentence length Average : 45

Under 10 : 10247
Over 10, Under 200 : 27729
Over 200, Under 400 : 1153
Over 400 : 313

glassfish-code
updated_train_data

Sentence length Average : 56

Under 10 : 0
Over 10, Under 200 : 23821
Over 200, Under 400 : 1179
Over 400 : 0


Test_zero:  2130
Train_zero:  19055
zero:  21185
Test_one:  613
Train_one:  5945
one:  6558

Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 256)          0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 256)          0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            1026        dropout_3[0][0]                  
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 266s - loss: 0.4823 - acc: 0.7763

Test accuracy: 85.24857375713123

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  649

choose_one :  578

F1score :  0.8480268681780017

AUC : 0.9243747044226345

Confusion Matrix
[[541  73]
 [108 505]]
True label 0
0.8811074918566775  
0.11889250814332247  
True label 1
0.1761827079934747  
0.8238172920065253  

Train_result {'acc': [0.7763014044335388], 'loss': [0.48230563203276544]}
2

Epoch 1/1
 - 271s - loss: 0.3452 - acc: 0.8528

Test accuracy: 86.14506927465364

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  722

choose_one :  505

F1score :  0.8479427549194991

AUC : 0.9484220818211285

Confusion Matrix
[[583  31]
 [139 474]]
True label 0
0.9495114006514658  
0.050488599348534204  
True label 1
0.2267536704730832  
0.7732463295269169  

Train_result {'acc': [0.852829871306196], 'loss': [0.3451706808298192]}
3

Epoch 1/1
 - 274s - loss: 0.2877 - acc: 0.8772

Test accuracy: 88.50855745721272

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  659

choose_one :  568

F1score :  0.8806096528365792

AUC : 0.9600246558018185

Confusion Matrix
[[566  48]
 [ 93 520]]
True label 0
0.9218241042345277  
0.0781758957654723  
True label 1
0.15171288743882544  
0.8482871125611745  

Train_result {'acc': [0.877218064057016], 'loss': [0.2876824287329718]}
4

Epoch 1/1
 - 275s - loss: 0.2434 - acc: 0.8997

Test accuracy: 86.71556642216788

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  519

choose_one :  708

F1score :  0.8766086298258895

AUC : 0.9607845221078586

Confusion Matrix
[[485 129]
 [ 34 579]]
True label 0
0.7899022801302932  
0.21009771986970685  
True label 1
0.05546492659053834  
0.9445350734094616  

Train_result {'acc': [0.8996720208661348], 'loss': [0.24339936597575232]}
5

Epoch 1/1
 - 274s - loss: 0.2178 - acc: 0.9151

Test accuracy: 91.19804400977995

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  612

choose_one :  615

F1score :  0.9120521172638436

AUC : 0.9636619179450665

Confusion Matrix
[[559  55]
 [ 53 560]]
True label 0
0.9104234527687296  
0.08957654723127036  
True label 1
0.0864600326264274  
0.9135399673735726  

Train_result {'acc': [0.9151459087055112], 'loss': [0.2177882487554745]}
6

Epoch 1/1
 - 278s - loss: 0.1887 - acc: 0.9273

Test accuracy: 90.38304808475958

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  602

choose_one :  625

F1score :  0.9046849757673666

AUC : 0.9667066969196189

Confusion Matrix
[[549  65]
 [ 53 560]]
True label 0
0.8941368078175895  
0.10586319218241043  
True label 1
0.0864600326264274  
0.9135399673735726  

Train_result {'acc': [0.9272559078043879], 'loss': [0.1886628787122155]}
7

Epoch 1/1
 - 281s - loss: 0.1621 - acc: 0.9373

Test accuracy: 91.11654441727791

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  621

choose_one :  606

F1score :  0.9105824446267432

AUC : 0.9665579119086459

Confusion Matrix
[[563  51]
 [ 58 555]]
True label 0
0.9169381107491856  
0.08306188925081433  
True label 1
0.09461663947797716  
0.9053833605220228  

Train_result {'acc': [0.9372634765538623], 'loss': [0.16213375061484744]}
8

Epoch 1/1
 - 281s - loss: 0.1426 - acc: 0.9460

Test accuracy: 90.4645476772616

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  595

choose_one :  632

F1score :  0.9060240963855422

AUC : 0.9693383318012019

Confusion Matrix
[[546  68]
 [ 49 564]]
True label 0
0.8892508143322475  
0.11074918566775244  
True label 1
0.0799347471451876  
0.9200652528548124  

Train_result {'acc': [0.9460095871177556], 'loss': [0.1425964959130567]}
9

Epoch 1/1
 - 281s - loss: 0.1191 - acc: 0.9561

Test accuracy: 90.13854930725347

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  595

choose_one :  632

F1score :  0.9028112449799196

AUC : 0.9659122912360314

Confusion Matrix
[[544  70]
 [ 51 562]]
True label 0
0.8859934853420195  
0.11400651465798045  
True label 1
0.08319738988580751  
0.9168026101141925  

Train_result {'acc': [0.9561012530485241], 'loss': [0.11913731476628327]}
10

Epoch 1/1
 - 281s - loss: 0.0995 - acc: 0.9629

Test accuracy: 91.19804400977995

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  654

choose_one :  573

F1score :  0.9089376053962901

AUC : 0.9654367105759574

Confusion Matrix
[[580  34]
 [ 74 539]]
True label 0
0.9446254071661238  
0.05537459283387622  
True label 1
0.12071778140293637  
0.8792822185970636  

Train_result {'acc': [0.9629131276105654], 'loss': [0.09948926376287415]}
11

Epoch 1/1
 - 282s - loss: 0.0863 - acc: 0.9680

Test accuracy: 90.13854930725347

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  593

choose_one :  634

F1score :  0.9029671210906175

AUC : 0.9636645748202624

Confusion Matrix
[[543  71]
 [ 50 563]]
True label 0
0.8843648208469055  
0.11563517915309446  
True label 1
0.08156606851549755  
0.9184339314845025  

Train_result {'acc': [0.9680430577848128], 'loss': [0.08634524208529323]}
12

Epoch 1/1
 - 281s - loss: 0.0736 - acc: 0.9759

Test accuracy: 90.05704971475143

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  602

choose_one :  625

F1score :  0.9014539579967691

AUC : 0.9626895016233508

Confusion Matrix
[[547  67]
 [ 55 558]]
True label 0
0.8908794788273615  
0.10912052117263844  
True label 1
0.08972267536704731  
0.9102773246329527  

Train_result {'acc': [0.9759481960896457], 'loss': [0.07361473149554441]}
13

Epoch 1/1
 - 284s - loss: 0.0661 - acc: 0.9780

Test accuracy: 90.30154849225754

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  619

choose_one :  608

F1score :  0.9025389025389027

AUC : 0.9635277457476714

Confusion Matrix
[[557  57]
 [ 62 551]]
True label 0
0.9071661237785016  
0.09283387622149837  
True label 1
0.10114192495921696  
0.8988580750407831  

Train_result {'acc': [0.9779665293078799], 'loss': [0.06607443993505363]}
14

Epoch 1/1
 - 283s - loss: 0.0616 - acc: 0.9793

Test accuracy: 89.81255093724532

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  637

choose_one :  590

F1score :  0.8960931005818786

AUC : 0.9600525529913758

Confusion Matrix
[[563  51]
 [ 74 539]]
True label 0
0.9169381107491856  
0.08306188925081433  
True label 1
0.12071778140293637  
0.8792822185970636  

Train_result {'acc': [0.9793120848050823], 'loss': [0.0615942185692481]}
15

Epoch 1/1
 - 283s - loss: 0.0551 - acc: 0.9822
Using TensorFlow backend.
balanced_auto_logging.py:358: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=Tensor("in..., outputs=Tensor("de...)`
  model = Model(input=inputs, output=output)

Test accuracy: 91.36104319478403

data size :  13118

zero :  6560

one :  6558

train_zero :  5946

train_one :  5945

test_zero :  614

test_one :  613

choose_zero :  626

choose_one :  601

F1score :  0.9126853377265237

AUC : 0.9637655360777083

Confusion Matrix
[[567  47]
 [ 59 554]]
True label 0
0.9234527687296417  
0.07654723127035831  
True label 1
0.09624796084828711  
0.9037520391517129  

Train_result {'acc': [0.9821713901269868], 'loss': [0.05513675055184556]}
Saved model to disk



