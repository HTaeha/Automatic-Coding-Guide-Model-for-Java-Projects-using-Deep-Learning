2019-08-06 11:18:58.276036: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
First data
zero : 
31687
one : 
7755

Second data
zero : 
31687
one : 
7755

glassfish-AST

Sentence length Average : 58

Under 10 : 0
Over 10, Under 200 : 15344
Over 200, Under 400 : 606
Over 400 : 0


glassfish-code

Sentence length Average : 79

Under 10 : 0
Over 10, Under 200 : 14781
Over 200, Under 400 : 1169
Over 400 : 0


Test_zero:  1256
Train_zero:  10698
zero:  11954
Test_one:  548
Train_one:  5252
one:  5800
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
input_2 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
masking_2 (Masking)             (None, 400, 200)     0           input_2[0][0]                    
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
forwards_2 (LSTM)               (None, 256)          467968      masking_2[0][0]                  
__________________________________________________________________________________________________
backwards_2 (LSTM)              (None, 256)          467968      masking_2[0][0]                  
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 256)          0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 256)          0           backwords_1[0][0]                
__________________________________________________________________________________________________
after_dp_forward_2 (Dropout)    (None, 256)          0           forwards_2[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_2 (Dropout)   (None, 256)          0           backwards_2[0][0]                
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
concatenate_2 (Concatenate)     (None, 512)          0           after_dp_forward_2[0][0]         
                                                                 after_dp_backward_2[0][0]        
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
after_dp_2 (Dropout)            (None, 512)          0           concatenate_2[0][0]              
__________________________________________________________________________________________________
concatenate_3 (Concatenate)     (None, 1024)         0           after_dp_1[0][0]                 
                                                                 after_dp_2[0][0]                 
__________________________________________________________________________________________________
output (Dense)                  (None, 2)            2050        concatenate_3[0][0]              
==================================================================================================
Total params: 1,873,922
Trainable params: 1,873,922
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 420s - loss: 0.5406 - acc: 0.7404

Test accuracy: 75.75205104831359

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  761

choose_one :  336

F1score :  0.6990950226244343

AUC : 0.9009396646856263

Confusion Matrix
[[522  27]
 [239 309]]
True label 0
0.9508196721311475  
0.04918032786885246  
True label 1
0.43613138686131386  
0.5638686131386861  

Train_result {'acc': [0.7404093288966782], 'loss': [0.5406380675197612]}
2

Epoch 1/1
 - 421s - loss: 0.3864 - acc: 0.8319

Test accuracy: 85.50592525068367

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  568

choose_one :  529

F1score :  0.852367688022284

AUC : 0.9248999508063764

Confusion Matrix
[[479  70]
 [ 89 459]]
True label 0
0.8724954462659381  
0.12750455373406194  
True label 1
0.1624087591240876  
0.8375912408759124  

Train_result {'acc': [0.831889576409216], 'loss': [0.3864150632568225]}
3

Epoch 1/1
 - 424s - loss: 0.3262 - acc: 0.8593

Test accuracy: 76.02552415679125

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  318

choose_one :  779

F1score :  0.8018085908063302

AUC : 0.9322573890151967

Confusion Matrix
[[302 247]
 [ 16 532]]
True label 0
0.5500910746812386  
0.44990892531876137  
True label 1
0.029197080291970802  
0.9708029197080292  

Train_result {'acc': [0.8593050928356419], 'loss': [0.32618468023379155]}
4

Epoch 1/1
 - 424s - loss: 0.2897 - acc: 0.8840

Test accuracy: 88.14949863263446

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  593

choose_one :  504

F1score :  0.876425855513308

AUC : 0.9493521731615545

Confusion Matrix
[[506  43]
 [ 87 461]]
True label 0
0.9216757741347905  
0.07832422586520947  
True label 1
0.15875912408759124  
0.8412408759124088  

Train_result {'acc': [0.883960019044227], 'loss': [0.289671449111451]}
5

Epoch 1/1
 - 424s - loss: 0.2616 - acc: 0.8916

Test accuracy: 88.87876025524157

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  599

choose_one :  498

F1score :  0.8833652007648184

AUC : 0.950186470423996

Confusion Matrix
[[513  36]
 [ 86 462]]
True label 0
0.9344262295081968  
0.06557377049180328  
True label 1
0.15693430656934307  
0.843065693430657  

Train_result {'acc': [0.8915754402722137], 'loss': [0.2616357637538279]}
6

Epoch 1/1
 - 424s - loss: 0.2233 - acc: 0.9113

Test accuracy: 88.42297174111212

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  548

choose_one :  549

F1score :  0.8842297174111211

AUC : 0.9508745163734993

Confusion Matrix
[[485  64]
 [ 63 485]]
True label 0
0.8834244080145719  
0.11657559198542805  
True label 1
0.11496350364963503  
0.885036496350365  

Train_result {'acc': [0.9112803426996292], 'loss': [0.22334735696228386]}
7

Epoch 1/1
 - 424s - loss: 0.1969 - acc: 0.9253

Test accuracy: 87.0556061987238

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  497

choose_one :  600

F1score :  0.8763066202090594

AUC : 0.9469639556991477

Confusion Matrix
[[452  97]
 [ 45 503]]
True label 0
0.8233151183970856  
0.1766848816029144  
True label 1
0.08211678832116788  
0.9178832116788321  

Train_result {'acc': [0.9252736792003807], 'loss': [0.1969323170349633]}
8

Epoch 1/1
 - 424s - loss: 0.1656 - acc: 0.9349

Test accuracy: 87.87602552415679

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  612

choose_one :  485

F1score :  0.8712487899322362

AUC : 0.9498972916915959

Confusion Matrix
[[514  35]
 [ 98 450]]
True label 0
0.936247723132969  
0.06375227686703097  
True label 1
0.17883211678832117  
0.8211678832116789  

Train_result {'acc': [0.934888148500714], 'loss': [0.16558047046424773]}
9

Epoch 1/1
 - 425s - loss: 0.1419 - acc: 0.9465

Test accuracy: 90.2461257976299

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  550

choose_one :  547

F1score :  0.9022831050228309

AUC : 0.9570237193038438

Confusion Matrix
[[496  53]
 [ 54 494]]
True label 0
0.9034608378870674  
0.0965391621129326  
True label 1
0.09854014598540146  
0.9014598540145985  

Train_result {'acc': [0.9465016658733936], 'loss': [0.14193137167203376]}
10

Epoch 1/1
 - 424s - loss: 0.1179 - acc: 0.9571

Test accuracy: 89.88149498632635

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  568

choose_one :  529

F1score :  0.8969359331476322

AUC : 0.9500983872468856

Confusion Matrix
[[503  46]
 [ 65 483]]
True label 0
0.9162112932604736  
0.08378870673952642  
True label 1
0.11861313868613138  
0.8813868613138686  

Train_result {'acc': [0.9570680628272251], 'loss': [0.117894595660365]}
11

Epoch 1/1
 - 424s - loss: 0.1014 - acc: 0.9654

Test accuracy: 90.61075660893346

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  574

choose_one :  523

F1score :  0.9038281979458451

AUC : 0.956319053886961

Confusion Matrix
[[510  39]
 [ 64 484]]
True label 0
0.9289617486338798  
0.07103825136612021  
True label 1
0.11678832116788321  
0.8832116788321168  

Train_result {'acc': [0.9654450261780104], 'loss': [0.10141680945395389]}
12

Epoch 1/1
 - 424s - loss: 0.0833 - acc: 0.9723

Test accuracy: 89.51686417502279

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  580

choose_one :  517

F1score :  0.892018779342723

AUC : 0.9490663183226303

Confusion Matrix
[[507  42]
 [ 73 475]]
True label 0
0.9234972677595629  
0.07650273224043716  
True label 1
0.1332116788321168  
0.8667883211678832  

Train_result {'acc': [0.9722989052831985], 'loss': [0.08331373954924982]}
13

Epoch 1/1
 - 423s - loss: 0.0831 - acc: 0.9729

Test accuracy: 89.88149498632635

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  598

choose_one :  499

F1score :  0.8939828080229226

AUC : 0.9492856952920372

Confusion Matrix
[[518  31]
 [ 80 468]]
True label 0
0.9435336976320583  
0.056466302367941715  
True label 1
0.145985401459854  
0.8540145985401459  

Train_result {'acc': [0.9728700618866454], 'loss': [0.08307370935690397]}
14

Epoch 1/1
 - 424s - loss: 0.0608 - acc: 0.9801

Test accuracy: 90.2461257976299

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  584

choose_one :  513

F1score :  0.8991517436380773

AUC : 0.9492823713985614

Confusion Matrix
[[513  36]
 [ 71 477]]
True label 0
0.9344262295081968  
0.06557377049180328  
True label 1
0.12956204379562045  
0.8704379562043796  

Train_result {'acc': [0.9801047120418848], 'loss': [0.06078991711481888]}
15

Epoch 1/1
 - 424s - loss: 0.0591 - acc: 0.9808
Using TensorFlow backend.
merge_network_2_wordvec_model.py:530: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("ou..., inputs=[<tf.Tenso...)`
  model = Model(input=[input1, input2], output=output)

Test accuracy: 90.154968094804

data size :  11602

zero :  5802

one :  5800

train_zero :  5253

train_one :  5252

test_zero :  549

test_one :  548

choose_zero :  595

choose_one :  502

F1score :  0.8971428571428572

AUC : 0.9507930809833406

Confusion Matrix
[[518  31]
 [ 77 471]]
True label 0
0.9435336976320583  
0.056466302367941715  
True label 1
0.14051094890510948  
0.8594890510948905  

Train_result {'acc': [0.9807710613993337], 'loss': [0.05907556446156562]}
Saved model to disk



