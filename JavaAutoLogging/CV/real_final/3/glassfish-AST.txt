Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
balanced_auto_logging.py:358: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("de..., inputs=Tensor("in...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-08-02 03:49:54.585376: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-08-02 03:49:54.597222: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100085000 Hz
2019-08-02 03:49:54.599713: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x9464ad0 executing computations on platform Host. Devices:
2019-08-02 03:49:54.599767: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
zero : 
31687

one : 
7755
glassfish-AST
all data

Sentence length Average : 29

Under 10 : 21645
Over 10, Under 200 : 17117
Over 200, Under 400 : 544
Over 400 : 136

glassfish-AST
updated_train_data

Sentence length Average : 58

Under 10 : 0
Over 10, Under 200 : 15417
Over 200, Under 400 : 620
Over 400 : 0


Test_zero:  1182
Train_zero:  10811
zero:  11993
Test_one:  576
Train_one:  5226
one:  5802

Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 256)          0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 256)          0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            1026        dropout_3[0][0]                  
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 242s - loss: 0.5590 - acc: 0.7249

Test accuracy: 76.4093668690373

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  709

choose_one :  444

F1score :  0.7333333333333334

AUC : 0.8659568770460235

Confusion Matrix
[[507  70]
 [202 374]]
True label 0
0.878682842287695  
0.12131715771230503  
True label 1
0.3506944444444444  
0.6493055555555556  

Train_result {'acc': [0.724863675516963], 'loss': [0.5589710660018636]}
2

Epoch 1/1
 - 248s - loss: 0.4567 - acc: 0.7911

Test accuracy: 83.00086730268865

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  599

choose_one :  554

F1score :  0.8265486725663717

AUC : 0.9045033578856152

Confusion Matrix
[[490  87]
 [109 467]]
True label 0
0.8492201039861352  
0.15077989601386482  
True label 1
0.1892361111111111  
0.8107638888888888  

Train_result {'acc': [0.7910647661357727], 'loss': [0.45666874088557224]}
3

Epoch 1/1
 - 246s - loss: 0.3933 - acc: 0.8303

Test accuracy: 83.6947094535993

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  575

choose_one :  578

F1score :  0.8370883882149047

AUC : 0.9083817759483921

Confusion Matrix
[[482  95]
 [ 93 483]]
True label 0
0.8353552859618717  
0.16464471403812825  
True label 1
0.16145833333333334  
0.8385416666666666  

Train_result {'acc': [0.8302879556336381], 'loss': [0.393345369524469]}
4

Epoch 1/1
 - 247s - loss: 0.3596 - acc: 0.8457

Test accuracy: 83.86816999132697

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  523

choose_one :  630

F1score :  0.8457711442786069

AUC : 0.9198003923550935

Confusion Matrix
[[457 120]
 [ 66 510]]
True label 0
0.7920277296360485  
0.20797227036395147  
True label 1
0.11458333333333333  
0.8854166666666666  

Train_result {'acc': [0.8456902324748498], 'loss': [0.3595678002029974]}
5

Epoch 1/1
 - 247s - loss: 0.3383 - acc: 0.8562

Test accuracy: 85.42931483087598

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  661

choose_one :  492

F1score :  0.8426966292134832

AUC : 0.9294949330829964

Confusion Matrix
[[535  42]
 [126 450]]
True label 0
0.9272097053726169  
0.07279029462738301  
True label 1
0.21875  
0.78125  

Train_result {'acc': [0.8562135272284712], 'loss': [0.33829826080638303]}
6

Epoch 1/1
 - 246s - loss: 0.3129 - acc: 0.8709

Test accuracy: 85.94969644405897

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  555

choose_one :  598

F1score :  0.8620102214650767

AUC : 0.932082551030233

Confusion Matrix
[[485  92]
 [ 70 506]]
True label 0
0.8405545927209706  
0.15944540727902945  
True label 1
0.12152777777777778  
0.8784722222222222  

Train_result {'acc': [0.8708504735596679], 'loss': [0.3129049024148089]}
7

Epoch 1/1
 - 248s - loss: 0.2909 - acc: 0.8808

Test accuracy: 85.94969644405897

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  581

choose_one :  572

F1score :  0.8588850174216027

AUC : 0.936162562584248

Confusion Matrix
[[498  79]
 [ 83 493]]
True label 0
0.8630849220103987  
0.1369150779896014  
True label 1
0.1440972222222222  
0.8559027777777778  

Train_result {'acc': [0.8807997704179483], 'loss': [0.29094647260974904]}
8

Epoch 1/1
 - 246s - loss: 0.2673 - acc: 0.8881

Test accuracy: 87.85776235906332

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  621

choose_one :  532

F1score :  0.8736462093862816

AUC : 0.9401643438282303

Confusion Matrix
[[529  48]
 [ 92 484]]
True label 0
0.9168110918544194  
0.0831889081455806  
True label 1
0.1597222222222222  
0.8402777777777778  

Train_result {'acc': [0.8880704104141973], 'loss': [0.26730533549771474]}
9

Epoch 1/1
 - 249s - loss: 0.2476 - acc: 0.9009

Test accuracy: 87.68430182133564

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  575

choose_one :  578

F1score :  0.8769497400346621

AUC : 0.9421802787406124

Confusion Matrix
[[505  72]
 [ 70 506]]
True label 0
0.8752166377816292  
0.12478336221837089  
True label 1
0.12152777777777778  
0.8784722222222222  

Train_result {'acc': [0.9008896967605873], 'loss': [0.2476473435806587]}
10

Epoch 1/1
 - 246s - loss: 0.2280 - acc: 0.9079

Test accuracy: 87.85776235906332

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  611

choose_one :  542

F1score :  0.8747763864042934

AUC : 0.9422284204698632

Confusion Matrix
[[524  53]
 [ 87 489]]
True label 0
0.9081455805892548  
0.09185441941074524  
True label 1
0.15104166666666666  
0.8489583333333334  

Train_result {'acc': [0.9078733378148679], 'loss': [0.22799564559733618]}
11

Epoch 1/1
 - 248s - loss: 0.2062 - acc: 0.9177

Test accuracy: 87.5975715524718

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  568

choose_one :  585

F1score :  0.8768303186907838

AUC : 0.9412505415944541

Confusion Matrix
[[501  76]
 [ 67 509]]
True label 0
0.8682842287694974  
0.1317157712305026  
True label 1
0.11631944444444445  
0.8836805555555556  

Train_result {'acc': [0.9177269683458538], 'loss': [0.20618478384763103]}
12

Epoch 1/1
 - 246s - loss: 0.1913 - acc: 0.9274

Test accuracy: 88.37814397224632

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  587

choose_one :  566

F1score :  0.882661996497373

AUC : 0.943213821490468

Confusion Matrix
[[515  62]
 [ 72 504]]
True label 0
0.8925476603119584  
0.10745233968804159  
True label 1
0.125  
0.875  

Train_result {'acc': [0.9273892662507615], 'loss': [0.1913062082011084]}
13

Epoch 1/1
 - 248s - loss: 0.1702 - acc: 0.9338

Test accuracy: 88.11795316565481

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  596

choose_one :  557

F1score :  0.8790820829655781

AUC : 0.9403839904679376

Confusion Matrix
[[518  59]
 [ 78 498]]
True label 0
0.8977469670710572  
0.1022530329289428  
True label 1
0.13541666666666666  
0.8645833333333334  

Train_result {'acc': [0.9337989094154031], 'loss': [0.1701826830948299]}
14

Epoch 1/1
 - 249s - loss: 0.1571 - acc: 0.9413

Test accuracy: 87.33738074588031

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  643

choose_one :  510

F1score :  0.865561694290976

AUC : 0.9449755078952436

Confusion Matrix
[[537  40]
 [106 470]]
True label 0
0.9306759098786829  
0.06932409012131716  
True label 1
0.1840277777777778  
0.8159722222222222  

Train_result {'acc': [0.9412608820548368], 'loss': [0.1570614790405815]}
15

Epoch 1/1
 - 249s - loss: 0.1349 - acc: 0.9498

Test accuracy: 87.94449262792715

data size :  11606

zero :  5804

one :  5802

train_zero :  5227

train_one :  5226

test_zero :  577

test_one :  576

choose_zero :  552

choose_one :  601

F1score :  0.8819031435853866

AUC : 0.9435824066050452

Confusion Matrix
[[495  82]
 [ 57 519]]
True label 0
0.8578856152512998  
0.14211438474870017  
True label 1
0.09895833333333333  
0.9010416666666666  

Train_result {'acc': [0.9497751841690624], 'loss': [0.1348757060517492]}
Saved model to disk



