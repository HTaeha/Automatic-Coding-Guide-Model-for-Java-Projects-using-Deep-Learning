Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
doc_product.py:530: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("ou..., inputs=Tensor("in...)`
  model = Model(input=input1, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-08-03 06:40:15.376575: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-08-03 06:40:15.386558: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100085000 Hz
2019-08-03 06:40:15.388738: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xbb06f60 executing computations on platform Host. Devices:
2019-08-03 06:40:15.388776: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero : 
31687
one : 
7755

Second data
zero : 
31687
one : 
7755

glassfish-AST

Sentence length Average : 58

Under 10 : 0
Over 10, Under 200 : 15239
Over 200, Under 400 : 618
Over 400 : 0


glassfish-code

Sentence length Average : 74

Under 10 : 0
Over 10, Under 200 : 14749
Over 200, Under 400 : 1108
Over 400 : 0


Test_zero:  1169
Train_zero:  10648
zero:  11817
Test_one:  573
Train_one:  5209
one:  5782
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 800, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 800, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 256)          0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 256)          0           backwords_1[0][0]                
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
output (Dense)                  (None, 2)            1026        after_dp_1[0][0]                 
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 495s - loss: 0.5633 - acc: 0.7290

Test accuracy: 81.16826503923278

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  630

choose_one :  517

F1score :  0.801834862385321

AUC : 0.8887540969650534

Confusion Matrix
[[494  80]
 [136 437]]
True label 0
0.8606271777003485  
0.13937282229965156  
True label 1
0.23734729493891799  
0.7626527050610821  

Train_result {'loss': [0.5632883503880058], 'acc': [0.7289567137075736]}
2

Epoch 1/1
 - 502s - loss: 0.4250 - acc: 0.8088

Test accuracy: 82.99912816041848

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  703

choose_one :  444

F1score :  0.8082595870206489

AUC : 0.911326170105381

Confusion Matrix
[[541  33]
 [162 411]]
True label 0
0.9425087108013938  
0.05749128919860627  
True label 1
0.28272251308900526  
0.7172774869109948  

Train_result {'loss': [0.4250122421687573], 'acc': [0.8088108264263789]}
3

Epoch 1/1
 - 503s - loss: 0.3701 - acc: 0.8371

Test accuracy: 83.43504795117698

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  696

choose_one :  451

F1score :  0.8144531249999999

AUC : 0.923858778602745

Confusion Matrix
[[540  34]
 [156 417]]
True label 0
0.9407665505226481  
0.059233449477351915  
True label 1
0.27225130890052357  
0.7277486910994765  

Train_result {'loss': [0.37012827511523205], 'acc': [0.8371244841269997]}
4

Epoch 1/1
 - 503s - loss: 0.3344 - acc: 0.8611

Test accuracy: 86.48648648648648

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  589

choose_one :  558

F1score :  0.8629531388152077

AUC : 0.9310584915871597

Confusion Matrix
[[504  70]
 [ 85 488]]
True label 0
0.8780487804878049  
0.12195121951219512  
True label 1
0.14834205933682373  
0.8516579406631762  

Train_result {'loss': [0.33435379151351075], 'acc': [0.8611191093195124]}
5

Epoch 1/1
 - 503s - loss: 0.2995 - acc: 0.8766

Test accuracy: 86.39930252833479

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  650

choose_one :  497

F1score :  0.8542056074766355

AUC : 0.9396081507561523

Confusion Matrix
[[534  40]
 [116 457]]
True label 0
0.9303135888501742  
0.06968641114982578  
True label 1
0.2024432809773124  
0.7975567190226877  

Train_result {'loss': [0.29951420752166247], 'acc': [0.8765716479909044]}
6

Epoch 1/1
 - 507s - loss: 0.2769 - acc: 0.8868

Test accuracy: 87.44551002615518

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  568

choose_one :  579

F1score :  0.875

AUC : 0.9385652869243725

Confusion Matrix
[[499  75]
 [ 69 504]]
True label 0
0.8693379790940766  
0.13066202090592335  
True label 1
0.12041884816753927  
0.8795811518324608  

Train_result {'loss': [0.27689663995901515], 'acc': [0.8868413475781968]}
7

Epoch 1/1
 - 508s - loss: 0.2454 - acc: 0.9040

Test accuracy: 89.0148212728858

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  616

choose_one :  531

F1score :  0.8858695652173914

AUC : 0.9519796170287806

Confusion Matrix
[[532  42]
 [ 84 489]]
True label 0
0.926829268292683  
0.07317073170731707  
True label 1
0.14659685863874344  
0.8534031413612565  

Train_result {'loss': [0.2453761503367841], 'acc': [0.904021499155579]}
8

Epoch 1/1
 - 508s - loss: 0.2184 - acc: 0.9153

Test accuracy: 89.36355710549259

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  568

choose_one :  579

F1score :  0.8940972222222223

AUC : 0.95235966944561

Confusion Matrix
[[510  64]
 [ 58 515]]
True label 0
0.8885017421602788  
0.11149825783972125  
True label 1
0.1012216404886562  
0.8987783595113438  

Train_result {'loss': [0.21841376669199342], 'acc': [0.9152509837510295]}
9

Epoch 1/1
 - 507s - loss: 0.1929 - acc: 0.9267

Test accuracy: 89.36355710549259

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  608

choose_one :  539

F1score :  0.8902877697841728

AUC : 0.9474949985101946

Confusion Matrix
[[530  44]
 [ 78 495]]
True label 0
0.9233449477351916  
0.07665505226480836  
True label 1
0.13612565445026178  
0.8638743455497382  

Train_result {'loss': [0.1928835545575073], 'acc': [0.926672425416761]}
10

Epoch 1/1
 - 507s - loss: 0.1738 - acc: 0.9337

Test accuracy: 89.88666085440279

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  580

choose_one :  567

F1score :  0.8982456140350877

AUC : 0.9548832174933568

Confusion Matrix
[[519  55]
 [ 61 512]]
True label 0
0.9041811846689896  
0.09581881533101046  
True label 1
0.10645724258289703  
0.893542757417103  

Train_result {'loss': [0.17381571002868765], 'acc': [0.9336788559877571]}
11

Epoch 1/1
 - 508s - loss: 0.1510 - acc: 0.9449

Test accuracy: 89.7122929380994

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  600

choose_one :  547

F1score :  0.8946428571428572

AUC : 0.9548284899453333

Confusion Matrix
[[528  46]
 [ 72 501]]
True label 0
0.9198606271777003  
0.08013937282229965  
True label 1
0.1256544502617801  
0.8743455497382199  

Train_result {'loss': [0.15095763999837547], 'acc': [0.9449083405717662]}
12

Epoch 1/1
 - 507s - loss: 0.1270 - acc: 0.9518

Test accuracy: 90.32258064516128

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  601

choose_one :  546

F1score :  0.900804289544236

AUC : 0.9531653805692881

Confusion Matrix
[[532  42]
 [ 69 504]]
True label 0
0.926829268292683  
0.07317073170731707  
True label 1
0.12041884816753927  
0.8795811518324608  

Train_result {'loss': [0.12699638538964308], 'acc': [0.9518187925904598]}
13

Epoch 1/1
 - 507s - loss: 0.1147 - acc: 0.9573

Test accuracy: 90.49694856146469

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  587

choose_one :  560

F1score :  0.9037952338923213

AUC : 0.9554046494092465

Confusion Matrix
[[526  48]
 [ 61 512]]
True label 0
0.9163763066202091  
0.08362369337979095  
True label 1
0.10645724258289703  
0.893542757417103  

Train_result {'loss': [0.11470994892404912], 'acc': [0.9572895671369613]}
14

Epoch 1/1
 - 508s - loss: 0.1059 - acc: 0.9620

Test accuracy: 90.67131647776809

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  555

choose_one :  592

F1score :  0.9081545064377682

AUC : 0.9526743528467447

Confusion Matrix
[[511  63]
 [ 44 529]]
True label 0
0.8902439024390244  
0.10975609756097561  
True label 1
0.07678883071553229  
0.9232111692844677  

Train_result {'loss': [0.10588102777507212], 'acc': [0.9619925137169817]}
15

Epoch 1/1
 - 507s - loss: 0.0911 - acc: 0.9677

Test accuracy: 90.409764603313

data size :  11566

zero :  5784

one :  5782

train_zero :  5210

train_one :  5209

test_zero :  574

test_one :  573

choose_zero :  560

choose_one :  587

F1score :  0.9051724137931035

AUC : 0.9526545901210697

Confusion Matrix
[[512  62]
 [ 48 525]]
True label 0
0.89198606271777  
0.10801393728222997  
True label 1
0.08376963350785341  
0.9162303664921466  

Train_result {'loss': [0.09114520190395747], 'acc': [0.9676552451964657]}
Saved model to disk



