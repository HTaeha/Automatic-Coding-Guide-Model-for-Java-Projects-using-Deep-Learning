Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
balanced_auto_logging.py:358: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("de..., inputs=Tensor("in...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-08-04 05:59:34.142582: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-08-04 05:59:34.154191: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100085000 Hz
2019-08-04 05:59:34.156398: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x7b01cb0 executing computations on platform Host. Devices:
2019-08-04 05:59:34.156461: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
zero : 
31687

one : 
7755
glassfish-AST
all data

Sentence length Average : 29

Under 10 : 21645
Over 10, Under 200 : 17117
Over 200, Under 400 : 544
Over 400 : 136

glassfish-AST
updated_train_data

Sentence length Average : 58

Under 10 : 0
Over 10, Under 200 : 15379
Over 200, Under 400 : 612
Over 400 : 0


Test_zero:  1219
Train_zero:  10774
zero:  11993
Test_one:  586
Train_one:  5217
one:  5803

Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 256)          0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 256)          0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            1026        dropout_3[0][0]                  
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 239s - loss: 0.5636 - acc: 0.7188

Test accuracy: 75.44757033248082

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  631

choose_one :  542

F1score :  0.7446808510638296

AUC : 0.8264313248949073

Confusion Matrix
[[465 122]
 [166 420]]
True label 0
0.7921635434412265  
0.20783645655877342  
True label 1
0.2832764505119454  
0.7167235494880546  

Train_result {'loss': [0.5636309759335251], 'acc': [0.7188308576904647]}
2

Epoch 1/1
 - 244s - loss: 0.4540 - acc: 0.7980

Test accuracy: 76.21483375959079

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  708

choose_one :  465

F1score :  0.7345385347288297

AUC : 0.8528832904047304

Confusion Matrix
[[508  79]
 [200 386]]
True label 0
0.8654173764906303  
0.13458262350936967  
True label 1
0.3412969283276451  
0.658703071672355  

Train_result {'loss': [0.4540228812658564], 'acc': [0.7979875419262099]}
3

Epoch 1/1
 - 250s - loss: 0.3969 - acc: 0.8280

Test accuracy: 83.03495311167946

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  592

choose_one :  581

F1score :  0.8294772922022278

AUC : 0.9091842014989157

Confusion Matrix
[[490  97]
 [102 484]]
True label 0
0.8347529812606473  
0.16524701873935263  
True label 1
0.17406143344709898  
0.825938566552901  

Train_result {'loss': [0.3969363784213128], 'acc': [0.8279827503593675]}
4

Epoch 1/1
 - 249s - loss: 0.3666 - acc: 0.8409

Test accuracy: 79.19863597612958

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  467

choose_one :  706

F1score :  0.8111455108359134

AUC : 0.9005180503631004

Confusion Matrix
[[405 182]
 [ 62 524]]
True label 0
0.6899488926746167  
0.3100511073253833  
True label 1
0.10580204778156997  
0.89419795221843  

Train_result {'loss': [0.36660243706892826], 'acc': [0.8409199808365886]}
5

Epoch 1/1
 - 249s - loss: 0.3371 - acc: 0.8590

Test accuracy: 85.08098891730606

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  582

choose_one :  591

F1score :  0.8513169073916736

AUC : 0.9258507712612869

Confusion Matrix
[[497  90]
 [ 85 501]]
True label 0
0.8466780238500852  
0.15332197614991483  
True label 1
0.14505119453924914  
0.8549488054607508  

Train_result {'loss': [0.3370873862524951], 'acc': [0.8590321034978438]}
6

Epoch 1/1
 - 249s - loss: 0.3101 - acc: 0.8724

Test accuracy: 85.6777493606138

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  603

choose_one :  570

F1score :  0.8546712802768166

AUC : 0.9268973376513887

Confusion Matrix
[[511  76]
 [ 92 494]]
True label 0
0.8705281090289608  
0.12947189097103917  
True label 1
0.15699658703071673  
0.8430034129692833  

Train_result {'loss': [0.3101375334916229], 'acc': [0.8723526593195975]}
7

Epoch 1/1
 - 251s - loss: 0.2900 - acc: 0.8808

Test accuracy: 84.5694799658994

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  600

choose_one :  573

F1score :  0.8438308886971526

AUC : 0.9290762307330034

Confusion Matrix
[[503  84]
 [ 97 489]]
True label 0
0.8568994889267462  
0.14310051107325383  
True label 1
0.16552901023890784  
0.8344709897610921  

Train_result {'loss': [0.28998442802294394], 'acc': [0.8807858169621466]}
8

Epoch 1/1
 - 250s - loss: 0.2683 - acc: 0.8922

Test accuracy: 86.27450980392157

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  640

choose_one :  533

F1score :  0.8561215370866846

AUC : 0.9343454017942798

Confusion Matrix
[[533  54]
 [107 479]]
True label 0
0.9080068143100511  
0.0919931856899489  
True label 1
0.1825938566552901  
0.8174061433447098  

Train_result {'loss': [0.2683266641544339], 'acc': [0.8921897460469573]}
9

Epoch 1/1
 - 251s - loss: 0.2441 - acc: 0.9037

Test accuracy: 82.69394714407503

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  482

choose_one :  691

F1score :  0.841033672670321

AUC : 0.931073428260781

Confusion Matrix
[[433 154]
 [ 49 537]]
True label 0
0.737649063032368  
0.262350936967632  
True label 1
0.08361774744027303  
0.9163822525597269  

Train_result {'loss': [0.2440783010011206], 'acc': [0.9036895064714713]}
10

Epoch 1/1
 - 251s - loss: 0.2198 - acc: 0.9141

Test accuracy: 85.5924978687127

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  572

choose_one :  601

F1score :  0.8576242628475147

AUC : 0.9363033530824287

Confusion Matrix
[[495  92]
 [ 77 509]]
True label 0
0.8432708688245315  
0.1567291311754685  
True label 1
0.13139931740614336  
0.8686006825938567  

Train_result {'loss': [0.2197528520067971], 'acc': [0.9141351221906665]}
11

Epoch 1/1
 - 250s - loss: 0.1995 - acc: 0.9251

Test accuracy: 86.53026427962489

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  577

choose_one :  596

F1score :  0.8663282571912014

AUC : 0.9384822461640435

Confusion Matrix
[[503  84]
 [ 74 512]]
True label 0
0.8568994889267462  
0.14310051107325383  
True label 1
0.12627986348122866  
0.8737201365187713  

Train_result {'loss': [0.19951805699140077], 'acc': [0.9250598945855295]}
12

Epoch 1/1
 - 250s - loss: 0.1796 - acc: 0.9293

Test accuracy: 87.6385336743393

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  576

choose_one :  597

F1score :  0.8774302620456467

AUC : 0.9438560738643301

Confusion Matrix
[[509  78]
 [ 67 519]]
True label 0
0.8671209540034072  
0.13287904599659284  
True label 1
0.11433447098976109  
0.8856655290102389  

Train_result {'loss': [0.17956861708015132], 'acc': [0.929276473406804]}
13

Epoch 1/1
 - 250s - loss: 0.1589 - acc: 0.9399

Test accuracy: 89.08780903665814

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  583

choose_one :  590

F1score :  0.891156462585034

AUC : 0.9431118488758132

Confusion Matrix
[[521  66]
 [ 62 524]]
True label 0
0.8875638841567292  
0.11243611584327087  
True label 1
0.10580204778156997  
0.89419795221843  

Train_result {'loss': [0.1588942981831583], 'acc': [0.9399137517968376]}
14

Epoch 1/1
 - 248s - loss: 0.1479 - acc: 0.9450

Test accuracy: 87.21227621483376

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  597

choose_one :  576

F1score :  0.8709122203098106

AUC : 0.9468896628311947

Confusion Matrix
[[517  70]
 [ 80 506]]
True label 0
0.8807495741056218  
0.11925042589437819  
True label 1
0.13651877133105803  
0.863481228668942  

Train_result {'loss': [0.14792481195645707], 'acc': [0.9449928126497364]}
15

Epoch 1/1
 - 249s - loss: 0.1325 - acc: 0.9534

Test accuracy: 89.42881500426257

data size :  11608

zero :  5805

one :  5803

train_zero :  5218

train_one :  5217

test_zero :  587

test_one :  586

choose_zero :  595

choose_one :  578

F1score :  0.8934707903780069

AUC : 0.9460218848660685

Confusion Matrix
[[529  58]
 [ 66 520]]
True label 0
0.9011925042589438  
0.09880749574105621  
True label 1
0.11262798634812286  
0.8873720136518771  

Train_result {'loss': [0.1325328254427852], 'acc': [0.9534259702922856]}
Saved model to disk



