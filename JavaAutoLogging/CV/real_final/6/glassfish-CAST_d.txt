Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
doc_product.py:530: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("ou..., inputs=Tensor("in...)`
  model = Model(input=input1, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-08-05 08:52:18.914521: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-08-05 08:52:18.924663: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100085000 Hz
2019-08-05 08:52:18.926585: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0xbda61a0 executing computations on platform Host. Devices:
2019-08-05 08:52:18.926651: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero : 
31687
one : 
7755

Second data
zero : 
31687
one : 
7755

glassfish-AST

Sentence length Average : 58

Under 10 : 0
Over 10, Under 200 : 15208
Over 200, Under 400 : 609
Over 400 : 0


glassfish-code

Sentence length Average : 74

Under 10 : 0
Over 10, Under 200 : 14726
Over 200, Under 400 : 1091
Over 400 : 0


Test_zero:  1199
Train_zero:  10618
zero:  11817
Test_one:  584
Train_one:  5199
one:  5783
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 800, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 800, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
forwards_1 (LSTM)               (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
backwords_1 (LSTM)              (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
after_dp_forward_1 (Dropout)    (None, 256)          0           forwards_1[0][0]                 
__________________________________________________________________________________________________
after_dp_backward_1 (Dropout)   (None, 256)          0           backwords_1[0][0]                
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           after_dp_forward_1[0][0]         
                                                                 after_dp_backward_1[0][0]        
__________________________________________________________________________________________________
after_dp_1 (Dropout)            (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
output (Dense)                  (None, 2)            1026        after_dp_1[0][0]                 
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 492s - loss: 0.5526 - acc: 0.7406

Test accuracy: 79.29854576561164

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  675

choose_one :  494

F1score :  0.7755102040816326

AUC : 0.8626990399250674

Confusion Matrix
[[509  76]
 [166 418]]
True label 0
0.8700854700854701  
0.12991452991452992  
True label 1
0.2842465753424658  
0.7157534246575342  

Train_result {'acc': [0.7406481391581816], 'loss': [0.5525966910447441]}
2

Epoch 1/1
 - 492s - loss: 0.4367 - acc: 0.8073

Test accuracy: 81.69375534644996

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  615

choose_one :  554

F1score :  0.81195079086116

AUC : 0.895411837021426

Confusion Matrix
[[493  92]
 [122 462]]
True label 0
0.8427350427350427  
0.15726495726495726  
True label 1
0.2089041095890411  
0.791095890410959  

Train_result {'acc': [0.8072891623392187], 'loss': [0.43668048441874335]}
3

Epoch 1/1
 - 500s - loss: 0.3742 - acc: 0.8409

Test accuracy: 81.86484174508126

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  755

choose_one :  414

F1score :  0.7875751503006012

AUC : 0.9171657300081958

Confusion Matrix
[[564  21]
 [191 393]]
True label 0
0.9641025641025641  
0.035897435897435895  
True label 1
0.3270547945205479  
0.672945205479452  

Train_result {'acc': [0.840850081755824], 'loss': [0.37420645609522385]}
4

Epoch 1/1
 - 500s - loss: 0.3333 - acc: 0.8602

Test accuracy: 86.22754491017965

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  616

choose_one :  553

F1score :  0.8583992963940194

AUC : 0.9276504507668892

Confusion Matrix
[[520  65]
 [ 96 488]]
True label 0
0.8888888888888888  
0.1111111111111111  
True label 1
0.1643835616438356  
0.8356164383561644  

Train_result {'acc': [0.8601788632777324], 'loss': [0.33332941541363154]}
5

Epoch 1/1
 - 500s - loss: 0.2999 - acc: 0.8778

Test accuracy: 87.85286569717708

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  615

choose_one :  554

F1score :  0.875219683655536

AUC : 0.9324083830933146

Confusion Matrix
[[529  56]
 [ 86 498]]
True label 0
0.9042735042735043  
0.09572649572649573  
True label 1
0.14726027397260275  
0.8527397260273972  

Train_result {'acc': [0.8777767093047029], 'loss': [0.29988528350755933]}
6

Epoch 1/1
 - 501s - loss: 0.2745 - acc: 0.8922

Test accuracy: 86.3130881094953

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  553

choose_one :  616

F1score :  0.8666666666666666

AUC : 0.9371750965929048

Confusion Matrix
[[489  96]
 [ 64 520]]
True label 0
0.8358974358974359  
0.1641025641025641  
True label 1
0.1095890410958904  
0.8904109589041096  

Train_result {'acc': [0.8922011731954615], 'loss': [0.27452866103869467]}
7

Epoch 1/1
 - 500s - loss: 0.2440 - acc: 0.9048

Test accuracy: 87.68177929854576

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  581

choose_one :  588

F1score :  0.8771331058020476

AUC : 0.9478325137571711

Confusion Matrix
[[511  74]
 [ 70 514]]
True label 0
0.8735042735042735  
0.1264957264957265  
True label 1
0.11986301369863013  
0.8801369863013698  

Train_result {'acc': [0.9047985383267242], 'loss': [0.24395490041251067]}
8

Epoch 1/1
 - 504s - loss: 0.2095 - acc: 0.9185

Test accuracy: 88.366124893071

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  587

choose_one :  582

F1score :  0.8833619210977701

AUC : 0.944350778597354

Confusion Matrix
[[518  67]
 [ 69 515]]
True label 0
0.8854700854700854  
0.11452991452991453  
True label 1
0.11815068493150685  
0.8818493150684932  

Train_result {'acc': [0.9185498604775392], 'loss': [0.20954778723698853]}
9

Epoch 1/1
 - 504s - loss: 0.1913 - acc: 0.9277

Test accuracy: 88.5372112917023

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  579

choose_one :  590

F1score :  0.8858603066439524

AUC : 0.9491174920969441

Confusion Matrix
[[515  70]
 [ 64 520]]
True label 0
0.8803418803418803  
0.11965811965811966  
True label 1
0.1095890410958904  
0.8904109589041096  

Train_result {'acc': [0.927685354366728], 'loss': [0.1912899641150843]}
10

Epoch 1/1
 - 503s - loss: 0.1648 - acc: 0.9373

Test accuracy: 88.79384088964927

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  598

choose_one :  571

F1score :  0.8865800865800865

AUC : 0.951672813487882

Confusion Matrix
[[526  59]
 [ 72 512]]
True label 0
0.8991452991452992  
0.10085470085470086  
True label 1
0.1232876712328767  
0.8767123287671232  

Train_result {'acc': [0.937301663621502], 'loss': [0.16478912002069468]}
11

Epoch 1/1
 - 504s - loss: 0.1450 - acc: 0.9451

Test accuracy: 89.90590248075277

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  603

choose_one :  566

F1score :  0.8973913043478261

AUC : 0.9538798150099521

Confusion Matrix
[[535  50]
 [ 68 516]]
True label 0
0.9145299145299145  
0.08547008547008547  
True label 1
0.11643835616438356  
0.8835616438356164  

Train_result {'acc': [0.9450908740365352], 'loss': [0.14503075781980723]}
12

Epoch 1/1
 - 503s - loss: 0.1274 - acc: 0.9544

Test accuracy: 88.87938408896493

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  599

choose_one :  570

F1score :  0.8873483535528595

AUC : 0.9546335323732583

Confusion Matrix
[[527  58]
 [ 72 512]]
True label 0
0.9008547008547009  
0.09914529914529914  
True label 1
0.1232876712328767  
0.8767123287671232  

Train_result {'acc': [0.954418694019226], 'loss': [0.12737156147752912]}
13

Epoch 1/1
 - 504s - loss: 0.1132 - acc: 0.9592

Test accuracy: 89.73481608212147

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  639

choose_one :  530

F1score :  0.8922800718132854

AUC : 0.9530016976934786

Confusion Matrix
[[552  33]
 [ 87 497]]
True label 0
0.9435897435897436  
0.05641025641025641  
True label 1
0.14897260273972604  
0.851027397260274  

Train_result {'acc': [0.9592268486552106], 'loss': [0.11316528710373572]}
14

Epoch 1/1
 - 503s - loss: 0.0990 - acc: 0.9662

Test accuracy: 89.64927288280582

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  566

choose_one :  603

F1score :  0.8980623420387531

AUC : 0.952657768411193

Confusion Matrix
[[515  70]
 [ 51 533]]
True label 0
0.8803418803418803  
0.11965811965811966  
True label 1
0.08732876712328767  
0.9126712328767124  

Train_result {'acc': [0.9661505913170431], 'loss': [0.09903524118121948]}
15

Epoch 1/1
 - 503s - loss: 0.0898 - acc: 0.9686

Test accuracy: 88.5372112917023

data size :  11568

zero :  5785

one :  5783

train_zero :  5200

train_one :  5199

test_zero :  585

test_one :  584

choose_zero :  585

choose_one :  584

F1score :  0.8852739726027398

AUC : 0.9483710923779416

Confusion Matrix
[[518  67]
 [ 67 517]]
True label 0
0.8854700854700854  
0.11452991452991453  
True label 1
0.11472602739726027  
0.8852739726027398  

Train_result {'acc': [0.968554668718146], 'loss': [0.08977139006728037]}
Saved model to disk



