Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
2019-09-18 15:22:15.293408: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-09-18 15:22:15.327497: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-09-18 15:22:15.329268: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x8949e70 executing computations on platform Host. Devices:
2019-09-18 15:22:15.329326: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
Standard data
zero :  7797
one :  7830

First data
zero :  7797
one :  7830

hbase-AST
After set document size of train data, the number of zero and one label data :  7011 7054
After set document size of test data, the number of zero and one label data :  785 776

Sentence length Average : 64

Under 10 : 2076
Over 10, Under 30 : 3371
Over 30, Under 100 : 6966
Over 100, Under 150 : 1763
Over 150, Under 200 : 800
Over 200, Under 400 : 641
Over 400 : 9

After balance out data.
hbase-AST

Sentence length Average : 64

Under 10 : 2076
Over 10, Under 30 : 3371
Over 30, Under 100 : 6966
Over 100, Under 150 : 1763
Over 150, Under 200 : 800
Over 200, Under 400 : 641
Over 400 : 9

Loaded model from disk
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 741, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 741, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 64)           0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 64)           0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            258         dropout_3[0][0]                  
==================================================================================================
Total params: 135,938
Trainable params: 135,938
Non-trainable params: 0
__________________________________________________________________________________________________
(1561, 741, 200)

0~10

Test accuracy: 95.0

data size :  14165

test data size :  100

zero :  7059

one :  7106

train_zero :  7011

train_one :  7054

test_zero :  48

test_one :  52

choose_zero :  45

choose_one :  55

F1score :  0.9532710280373831

AUC :  0.9559294871794872

Confusion Matrix
[[44  4]
 [ 1 51]]
True label 0
0.9166666666666666  
0.08333333333333333  
True label 1
0.019230769230769232  
0.9807692307692307  

10~20

Test accuracy: 85.2112676056338

data size :  14207

test data size :  142

zero :  7088

one :  7119

train_zero :  7011

train_one :  7054

test_zero :  77

test_one :  65

choose_zero :  74

choose_one :  68

F1score :  0.8421052631578948

AUC :  0.9407592407592408

Confusion Matrix
[[65 12]
 [ 9 56]]
True label 0
0.8441558441558441  
0.15584415584415584  
True label 1
0.13846153846153847  
0.8615384615384616  

20~30

Test accuracy: 82.25108225108225

data size :  14296

test data size :  231

zero :  7132

one :  7164

train_zero :  7011

train_one :  7054

test_zero :  121

test_one :  110

choose_zero :  114

choose_one :  117

F1score :  0.8193832599118943

AUC :  0.9139744552967694

Confusion Matrix
[[97 24]
 [17 93]]
True label 0
0.8016528925619835  
0.19834710743801653  
True label 1
0.15454545454545454  
0.8454545454545455  

30~40

Test accuracy: 87.13450292397661

data size :  14236

test data size :  171

zero :  7093

one :  7143

train_zero :  7011

train_one :  7054

test_zero :  82

test_one :  89

choose_zero :  88

choose_one :  83

F1score :  0.8720930232558138

AUC :  0.9572485612496573

Confusion Matrix
[[74  8]
 [14 75]]
True label 0
0.9024390243902439  
0.0975609756097561  
True label 1
0.15730337078651685  
0.8426966292134831  

40~50

Test accuracy: 84.5528455284553

data size :  14188

test data size :  123

zero :  7076

one :  7112

train_zero :  7011

train_one :  7054

test_zero :  65

test_one :  58

choose_zero :  70

choose_one :  53

F1score :  0.8288288288288289

AUC :  0.910079575596817

Confusion Matrix
[[58  7]
 [12 46]]
True label 0
0.8923076923076924  
0.1076923076923077  
True label 1
0.20689655172413793  
0.7931034482758621  

50~60

Test accuracy: 84.67153284671532

data size :  14202

test data size :  137

zero :  7076

one :  7126

train_zero :  7011

train_one :  7054

test_zero :  65

test_one :  72

choose_zero :  70

choose_one :  67

F1score :  0.8489208633093526

AUC :  0.925

Confusion Matrix
[[57  8]
 [13 59]]
True label 0
0.8769230769230769  
0.12307692307692308  
True label 1
0.18055555555555555  
0.8194444444444444  

60~70

Test accuracy: 82.05128205128204

data size :  14182

test data size :  117

zero :  7067

one :  7115

train_zero :  7011

train_one :  7054

test_zero :  56

test_one :  61

choose_zero :  61

choose_one :  56

F1score :  0.8205128205128205

AUC :  0.9180327868852459

Confusion Matrix
[[48  8]
 [13 48]]
True label 0
0.8571428571428571  
0.14285714285714285  
True label 1
0.21311475409836064  
0.7868852459016393  

70~80

Test accuracy: 82.22222222222221

data size :  14155

test data size :  90

zero :  7053

one :  7102

train_zero :  7011

train_one :  7054

test_zero :  42

test_one :  48

choose_zero :  42

choose_one :  48

F1score :  0.8333333333333334

AUC :  0.9290674603174602

Confusion Matrix
[[34  8]
 [ 8 40]]
True label 0
0.8095238095238095  
0.19047619047619047  
True label 1
0.16666666666666666  
0.8333333333333334  

80~90

Test accuracy: 82.66666666666667

data size :  14140

test data size :  75

zero :  7053

one :  7087

train_zero :  7011

train_one :  7054

test_zero :  42

test_one :  33

choose_zero :  39

choose_one :  36

F1score :  0.8115942028985507

AUC :  0.9119769119769119

Confusion Matrix
[[34  8]
 [ 5 28]]
True label 0
0.8095238095238095  
0.19047619047619047  
True label 1
0.15151515151515152  
0.8484848484848485  

90~100

Test accuracy: 84.05797101449275

data size :  14134

test data size :  69

zero :  7044

one :  7090

train_zero :  7011

train_one :  7054

test_zero :  33

test_one :  36

choose_zero :  34

choose_one :  35

F1score :  0.8450704225352113

AUC :  0.8695286195286194

Confusion Matrix
[[28  5]
 [ 6 30]]
True label 0
0.8484848484848485  
0.15151515151515152  
True label 1
0.16666666666666666  
0.8333333333333334  

100~110

Test accuracy: 86.0

data size :  14115

test data size :  50

zero :  7039

one :  7076

train_zero :  7011

train_one :  7054

test_zero :  28

test_one :  22

choose_zero :  25

choose_one :  25

F1score :  0.8510638297872342

AUC :  0.9366883116883117

Confusion Matrix
[[23  5]
 [ 2 20]]
True label 0
0.8214285714285714  
0.17857142857142858  
True label 1
0.09090909090909091  
0.9090909090909091  

110~120

Test accuracy: 81.25

data size :  14113

test data size :  48

zero :  7036

one :  7077

train_zero :  7011

train_one :  7054

test_zero :  25

test_one :  23

choose_zero :  24

choose_one :  24

F1score :  0.8085106382978724

AUC :  0.8556521739130435

Confusion Matrix
[[20  5]
 [ 4 19]]
True label 0
0.8  
0.2  
True label 1
0.17391304347826086  
0.8260869565217391  /home/2014313303/.local/lib/python3.5/site-packages/sklearn/metrics/ranking.py:643: UndefinedMetricWarning: No negative samples in y_true, false positive value should be meaningless
  UndefinedMetricWarning)
/home/2014313303/.local/lib/python3.5/site-packages/sklearn/metrics/ranking.py:114: RuntimeWarning: invalid value encountered in less
  if np.any(dx < 0):
/home/2014313303/taeha/JavaAutoLogging/evaluation.py:50: RuntimeWarning: invalid value encountered in true_divide
  cm = cm.astype('float') / cm.sum(axis=1)[:, np.newaxis]
/home/2014313303/.local/lib/python3.5/site-packages/sklearn/metrics/classification.py:1143: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
  'precision', 'predicted', average, warn_for)
/home/2014313303/.local/lib/python3.5/site-packages/sklearn/metrics/classification.py:1145: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no true samples.
  'recall', 'true', average, warn_for)
/home/2014313303/.local/lib/python3.5/site-packages/sklearn/metrics/ranking.py:651: UndefinedMetricWarning: No positive samples in y_true, true positive value should be meaningless
  UndefinedMetricWarning)


120~130

Test accuracy: 91.42857142857143

data size :  14100

test data size :  35

zero :  7032

one :  7068

train_zero :  7011

train_one :  7054

test_zero :  21

test_one :  14

choose_zero :  20

choose_one :  15

F1score :  0.896551724137931

AUC :  0.9761904761904763

Confusion Matrix
[[19  2]
 [ 1 13]]
True label 0
0.9047619047619048  
0.09523809523809523  
True label 1
0.07142857142857142  
0.9285714285714286  

130~140

Test accuracy: 90.9090909090909

data size :  14087

test data size :  22

zero :  7021

one :  7066

train_zero :  7011

train_one :  7054

test_zero :  10

test_one :  12

choose_zero :  10

choose_one :  12

F1score :  0.9166666666666666

AUC :  0.9333333333333333

Confusion Matrix
[[ 9  1]
 [ 1 11]]
True label 0
0.9  
0.1  
True label 1
0.08333333333333333  
0.9166666666666666  

140~150

Test accuracy: 84.21052631578947

data size :  14084

test data size :  19

zero :  7016

one :  7068

train_zero :  7011

train_one :  7054

test_zero :  5

test_one :  14

choose_zero :  6

choose_one :  13

F1score :  0.888888888888889

AUC :  0.9428571428571428

Confusion Matrix
[[ 4  1]
 [ 2 12]]
True label 0
0.8  
0.2  
True label 1
0.14285714285714285  
0.8571428571428571  

150~160

Test accuracy: 88.88888888888889

data size :  14083

test data size :  18

zero :  7020

one :  7063

train_zero :  7011

train_one :  7054

test_zero :  9

test_one :  9

choose_zero :  9

choose_one :  9

F1score :  0.8888888888888888

AUC :  0.9506172839506173

Confusion Matrix
[[8 1]
 [1 8]]
True label 0
0.8888888888888888  
0.1111111111111111  
True label 1
0.1111111111111111  
0.8888888888888888  

160~170

Test accuracy: 91.30434782608695

data size :  14088

test data size :  23

zero :  7020

one :  7068

train_zero :  7011

train_one :  7054

test_zero :  9

test_one :  14

choose_zero :  9

choose_one :  14

F1score :  0.9285714285714286

AUC :  0.9761904761904762

Confusion Matrix
[[ 8  1]
 [ 1 13]]
True label 0
0.8888888888888888  
0.1111111111111111  
True label 1
0.07142857142857142  
0.9285714285714286  

170~180

Test accuracy: 77.77777777777779

data size :  14074

test data size :  9

zero :  7015

one :  7059

train_zero :  7011

train_one :  7054

test_zero :  4

test_one :  5

choose_zero :  2

choose_one :  7

F1score :  0.8333333333333333

AUC :  1.0

Confusion Matrix
[[2 2]
 [0 5]]
True label 0
0.5  
0.5  
True label 1
0.0  
1.0  

180~190

Test accuracy: 78.57142857142857

data size :  14079

test data size :  14

zero :  7020

one :  7059

train_zero :  7011

train_one :  7054

test_zero :  9

test_one :  5

choose_zero :  10

choose_one :  4

F1score :  0.6666666666666665

AUC :  0.7555555555555555

Confusion Matrix
[[8 1]
 [2 3]]
True label 0
0.8888888888888888  
0.1111111111111111  
True label 1
0.4  
0.6  

190~200

Test accuracy: 100.0

data size :  14074

test data size :  9

zero :  7015

one :  7059

train_zero :  7011

train_one :  7054

test_zero :  4

test_one :  5

choose_zero :  4

choose_one :  5

F1score :  1.0

AUC :  1.0

Confusion Matrix
[[4 0]
 [0 5]]
True label 0
1.0  
0.0  
True label 1
0.0  
1.0  

200~210

Test accuracy: 57.14285714285714

data size :  14072

test data size :  7

zero :  7015

one :  7057

train_zero :  7011

train_one :  7054

test_zero :  4

test_one :  3

choose_zero :  1

choose_one :  6

F1score :  0.6666666666666666

AUC :  1.0

Confusion Matrix
[[1 3]
 [0 3]]
True label 0
0.25  
0.75  
True label 1
0.0  
1.0  

210~220

Test accuracy: 40.0

data size :  14070

test data size :  5

zero :  7015

one :  7055

train_zero :  7011

train_one :  7054

test_zero :  4

test_one :  1

choose_zero :  3

choose_one :  2

F1score :  0.0

AUC :  0.5

Confusion Matrix
[[2 2]
 [1 0]]
True label 0
0.5  
0.5  
True label 1
1.0  
0.0  

220~230

Test accuracy: 42.857142857142854

data size :  14072

test data size :  7

zero :  7015

one :  7057

train_zero :  7011

train_one :  7054

test_zero :  4

test_one :  3

choose_zero :  4

choose_one :  3

F1score :  0.3333333333333333

AUC :  0.5833333333333334

Confusion Matrix
[[2 2]
 [2 1]]
True label 0
0.5  
0.5  
True label 1
0.6666666666666666  
0.3333333333333333  

230~240

Test accuracy: 87.5

data size :  14073

test data size :  8

zero :  7015

one :  7058

train_zero :  7011

train_one :  7054

test_zero :  4

test_one :  4

choose_zero :  3

choose_one :  5

F1score :  0.888888888888889

AUC :  1.0

Confusion Matrix
[[3 1]
 [0 4]]
True label 0
0.75  
0.25  
True label 1
0.0  
1.0  

240~250

Test accuracy: 83.33333333333334

data size :  14071

test data size :  6

zero :  7013

one :  7058

train_zero :  7011

train_one :  7054

test_zero :  2

test_one :  4

choose_zero :  3

choose_one :  3

F1score :  0.8571428571428571

AUC :  1.0

Confusion Matrix
[[2 0]
 [1 3]]
True label 0
1.0  
0.0  
True label 1
0.25  
0.75  

250~260

Test accuracy: 87.5

data size :  14073

test data size :  8

zero :  7014

one :  7059

train_zero :  7011

train_one :  7054

test_zero :  3

test_one :  5

choose_zero :  4

choose_one :  4

F1score :  0.888888888888889

AUC :  1.0

Confusion Matrix
[[3 0]
 [1 4]]
True label 0
1.0  
0.0  
True label 1
0.2  
0.8  

260~270

Test accuracy: 80.0

data size :  14070

test data size :  5

zero :  7014

one :  7056

train_zero :  7011

train_one :  7054

test_zero :  3

test_one :  2

choose_zero :  4

choose_one :  1

F1score :  0.6666666666666666

AUC :  0.8333333333333334

Confusion Matrix
[[3 0]
 [1 1]]
True label 0
1.0  
0.0  
True label 1
0.5  
0.5  

270~280

Test accuracy: 33.33333333333333

data size :  14068

test data size :  3

zero :  7011

one :  7057

train_zero :  7011

train_one :  7054

test_zero :  0

test_one :  3

choose_zero :  2

choose_one :  1

F1score :  0.5

AUC :  nan

Confusion Matrix
[[0 0]
 [2 1]]
True label 0
nan  
nan  
True label 1
0.6666666666666666  
0.3333333333333333  

280~290

Test accuracy: 66.66666666666666

data size :  14068

test data size :  3

zero :  7013

one :  7055

train_zero :  7011

train_one :  7054

test_zero :  2

test_one :  1

choose_zero :  3

choose_one :  0

F1score :  0.0

AUC :  1.0

Confusion Matrix
[[2 0]
 [1 0]]
True label 0
1.0  
0.0  
True label 1
1.0  
0.0  

290~300

300~310

Test accuracy: 50.0

data size :  14067

test data size :  2

zero :  7013

one :  7054

train_zero :  7011

train_one :  7054

test_zero :  2

test_one :  0

choose_zero :  1

choose_one :  1

F1score :  0.0

AUC :  nan

Confusion Matrix
[[1 1]
 [0 0]]
True label 0
0.5  
0.5  
True label 1
nan  
nan  

310~320

Test accuracy: 0.0

data size :  14066

test data size :  1

zero :  7011

one :  7055

train_zero :  7011

train_one :  7054

test_zero :  0

test_one :  1

choose_zero :  1

choose_one :  0

F1score :  0.0

AUC :  nan

Confusion Matrix
[[0 0]
 [1 0]]
True label 0
nan  
nan  
True label 1
1.0  
0.0  

320~330

Test accuracy: 100.0

data size :  14066

test data size :  1

zero :  7012

one :  7054

train_zero :  7011

train_one :  7054

test_zero :  1

test_one :  0

choose_zero :  1

choose_one :  0

F1score :  0.0

AUC :  nan

Confusion Matrix
[[1]]
True label 0
1.0  
 

330~340

Test accuracy: 100.0

data size :  14067

test data size :  2

zero :  7012

one :  7055

train_zero :  7011

train_one :  7054

test_zero :  1

test_one :  1

choose_zero :  1

choose_one :  1

F1score :  1.0

AUC :  1.0

Confusion Matrix
[[1 0]
 [0 1]]
True label 0
1.0  
0.0  
True label 1
0.0  
1.0  

340~350

Test accuracy: 100.0

data size :  14066

test data size :  1

zero :  7011

one :  7055

train_zero :  7011

train_one :  7054

test_zero :  0

test_one :  1

choose_zero :  0

choose_one :  1

F1score :  1.0

AUC :  nan

Confusion Matrix
[[1]]
True label 0
1.0  
 

350~360

360~370

370~380

380~390

390~400

400~410
