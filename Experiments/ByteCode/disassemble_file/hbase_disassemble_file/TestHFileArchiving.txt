Compiled from "TestHFileArchiving.java"
public class org.apache.hadoop.hbase.backup.TestHFileArchiving {
  public static final org.apache.hadoop.hbase.HBaseClassTestRule CLASS_RULE;

  public org.junit.rules.TestName name;

  public org.apache.hadoop.hbase.backup.TestHFileArchiving();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/junit/rules/TestName
       8: dup
       9: invokespecial #3                  // Method org/junit/rules/TestName."<init>":()V
      12: putfield      #4                  // Field name:Lorg/junit/rules/TestName;
      15: return

  public static void setupCluster() throws java.lang.Exception;
    Code:
       0: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
       3: invokevirtual #6                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
       6: invokestatic  #7                  // Method setupConf:(Lorg/apache/hadoop/conf/Configuration;)V
       9: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      12: invokevirtual #8                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.startMiniCluster:()Lorg/apache/hadoop/hbase/MiniHBaseCluster;
      15: pop
      16: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      19: invokevirtual #9                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.getMiniHBaseCluster:()Lorg/apache/hadoop/hbase/MiniHBaseCluster;
      22: invokevirtual #10                 // Method org/apache/hadoop/hbase/MiniHBaseCluster.getMaster:()Lorg/apache/hadoop/hbase/master/HMaster;
      25: invokevirtual #11                 // Method org/apache/hadoop/hbase/master/HMaster.getHFileCleaner:()Lorg/apache/hadoop/hbase/master/cleaner/HFileCleaner;
      28: iconst_1
      29: invokevirtual #12                 // Method org/apache/hadoop/hbase/master/cleaner/HFileCleaner.cancel:(Z)V
      32: return

  public void tearDown() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #22                 // Method clearArchiveDirectory:()V
       4: goto          33
       7: astore_1
       8: new           #24                 // class java/lang/StringBuilder
      11: dup
      12: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
      15: ldc           #26                 // String Failure to delete archive directory:
      17: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: aload_1
      21: invokevirtual #28                 // Method java/io/IOException.getMessage:()Ljava/lang/String;
      24: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      27: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      30: invokestatic  #30                 // Method org/junit/Assert.fail:(Ljava/lang/String;)V
      33: return
    Exception table:
       from    to  target type
           0     4     7   Class java/io/IOException

  public static void cleanupTest() throws java.lang.Exception;
    Code:
       0: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
       3: invokevirtual #31                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.shutdownMiniCluster:()V
       6: goto          10
       9: astore_0
      10: return
    Exception table:
       from    to  target type
           0     6     9   Class java/lang/Exception

  public void testRemoveRegionDirOnArchive() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field name:Lorg/junit/rules/TestName;
       4: invokevirtual #33                 // Method org/junit/rules/TestName.getMethodName:()Ljava/lang/String;
       7: invokestatic  #34                 // Method org/apache/hadoop/hbase/TableName.valueOf:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/TableName;
      10: astore_1
      11: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      14: aload_1
      15: getstatic     #35                 // Field TEST_FAM:[B
      18: invokevirtual #36                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.createTable:(Lorg/apache/hadoop/hbase/TableName;[B)Lorg/apache/hadoop/hbase/client/Table;
      21: pop
      22: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      25: invokevirtual #37                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getAdmin:()Lorg/apache/hadoop/hbase/client/Admin;
      28: astore_2
      29: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      32: invokevirtual #38                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getHBaseCluster:()Lorg/apache/hadoop/hbase/MiniHBaseCluster;
      35: aload_1
      36: invokevirtual #39                 // Method org/apache/hadoop/hbase/MiniHBaseCluster.getRegions:(Lorg/apache/hadoop/hbase/TableName;)Ljava/util/List;
      39: astore_3
      40: lconst_1
      41: aload_3
      42: invokeinterface #40,  1           // InterfaceMethod java/util/List.size:()I
      47: i2l
      48: invokestatic  #41                 // Method org/junit/Assert.assertEquals:(JJ)V
      51: aload_3
      52: iconst_0
      53: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      58: checkcast     #43                 // class org/apache/hadoop/hbase/regionserver/HRegion
      61: astore        4
      63: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      66: aload         4
      68: getstatic     #35                 // Field TEST_FAM:[B
      71: invokevirtual #44                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.loadRegion:(Lorg/apache/hadoop/hbase/regionserver/HRegion;[B)I
      74: pop
      75: aload_2
      76: aload_1
      77: invokeinterface #45,  2           // InterfaceMethod org/apache/hadoop/hbase/client/Admin.disableTable:(Lorg/apache/hadoop/hbase/TableName;)V
      82: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      85: invokevirtual #46                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getTestFileSystem:()Lorg/apache/hadoop/fs/FileSystem;
      88: astore        5
      90: aload         4
      92: invokevirtual #47                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getRegionFileSystem:()Lorg/apache/hadoop/hbase/regionserver/HRegionFileSystem;
      95: invokevirtual #48                 // Method org/apache/hadoop/hbase/regionserver/HRegionFileSystem.getTableDir:()Lorg/apache/hadoop/fs/Path;
      98: invokevirtual #49                 // Method org/apache/hadoop/fs/Path.getParent:()Lorg/apache/hadoop/fs/Path;
     101: astore        6
     103: aload         6
     105: aload         4
     107: invokevirtual #50                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getRegionInfo:()Lorg/apache/hadoop/hbase/client/RegionInfo;
     110: invokestatic  #51                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getRegionDir:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/hbase/client/RegionInfo;)Lorg/apache/hadoop/fs/Path;
     113: astore        7
     115: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     118: invokevirtual #6                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
     121: aload         5
     123: aload         4
     125: invokevirtual #50                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getRegionInfo:()Lorg/apache/hadoop/hbase/client/RegionInfo;
     128: invokestatic  #52                 // Method org/apache/hadoop/hbase/backup/HFileArchiver.archiveRegion:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/hbase/client/RegionInfo;)V
     131: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     134: invokevirtual #6                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
     137: aload         4
     139: invokestatic  #53                 // Method org/apache/hadoop/hbase/util/HFileArchiveTestingUtil.getRegionArchiveDir:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/regionserver/HRegion;)Lorg/apache/hadoop/fs/Path;
     142: astore        8
     144: aload         5
     146: aload         8
     148: invokevirtual #54                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     151: invokestatic  #55                 // Method org/junit/Assert.assertTrue:(Z)V
     154: aload         5
     156: aload         8
     158: new           #56                 // class org/apache/hadoop/hbase/backup/TestHFileArchiving$1
     161: dup
     162: aload_0
     163: invokespecial #57                 // Method org/apache/hadoop/hbase/backup/TestHFileArchiving$1."<init>":(Lorg/apache/hadoop/hbase/backup/TestHFileArchiving;)V
     166: invokevirtual #58                 // Method org/apache/hadoop/fs/FileSystem.listStatus:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/PathFilter;)[Lorg/apache/hadoop/fs/FileStatus;
     169: astore        9
     171: aload         9
     173: arraylength
     174: iconst_1
     175: if_icmpne     182
     178: iconst_1
     179: goto          183
     182: iconst_0
     183: invokestatic  #55                 // Method org/junit/Assert.assertTrue:(Z)V
     186: aload         5
     188: aload         9
     190: iconst_0
     191: aaload
     192: invokevirtual #59                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     195: invokevirtual #60                 // Method org/apache/hadoop/fs/FileSystem.listStatus:(Lorg/apache/hadoop/fs/Path;)[Lorg/apache/hadoop/fs/FileStatus;
     198: astore        10
     200: aload         10
     202: arraylength
     203: ifle          210
     206: iconst_1
     207: goto          211
     210: iconst_0
     211: invokestatic  #55                 // Method org/junit/Assert.assertTrue:(Z)V
     214: aload         5
     216: aload         7
     218: invokevirtual #54                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     221: invokestatic  #61                 // Method org/junit/Assert.assertFalse:(Z)V
     224: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     227: aload_1
     228: invokevirtual #62                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.deleteTable:(Lorg/apache/hadoop/hbase/TableName;)V
     231: return

  public void testDeleteRegionWithNoStoreFiles() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field name:Lorg/junit/rules/TestName;
       4: invokevirtual #33                 // Method org/junit/rules/TestName.getMethodName:()Ljava/lang/String;
       7: invokestatic  #34                 // Method org/apache/hadoop/hbase/TableName.valueOf:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/TableName;
      10: astore_1
      11: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      14: aload_1
      15: getstatic     #35                 // Field TEST_FAM:[B
      18: invokevirtual #36                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.createTable:(Lorg/apache/hadoop/hbase/TableName;[B)Lorg/apache/hadoop/hbase/client/Table;
      21: pop
      22: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      25: invokevirtual #38                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getHBaseCluster:()Lorg/apache/hadoop/hbase/MiniHBaseCluster;
      28: aload_1
      29: invokevirtual #39                 // Method org/apache/hadoop/hbase/MiniHBaseCluster.getRegions:(Lorg/apache/hadoop/hbase/TableName;)Ljava/util/List;
      32: astore_2
      33: lconst_1
      34: aload_2
      35: invokeinterface #40,  1           // InterfaceMethod java/util/List.size:()I
      40: i2l
      41: invokestatic  #41                 // Method org/junit/Assert.assertEquals:(JJ)V
      44: aload_2
      45: iconst_0
      46: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      51: checkcast     #43                 // class org/apache/hadoop/hbase/regionserver/HRegion
      54: astore_3
      55: aload_3
      56: invokevirtual #47                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getRegionFileSystem:()Lorg/apache/hadoop/hbase/regionserver/HRegionFileSystem;
      59: invokevirtual #63                 // Method org/apache/hadoop/hbase/regionserver/HRegionFileSystem.getFileSystem:()Lorg/apache/hadoop/fs/FileSystem;
      62: astore        4
      64: aload         4
      66: invokevirtual #64                 // Method org/apache/hadoop/fs/FileSystem.getConf:()Lorg/apache/hadoop/conf/Configuration;
      69: invokestatic  #65                 // Method org/apache/hadoop/hbase/util/FSUtils.getRootDir:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/fs/Path;
      72: astore        5
      74: aload         5
      76: aload_3
      77: invokevirtual #50                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getRegionInfo:()Lorg/apache/hadoop/hbase/client/RegionInfo;
      80: invokestatic  #51                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getRegionDir:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/hbase/client/RegionInfo;)Lorg/apache/hadoop/fs/Path;
      83: astore        6
      85: aload         4
      87: aload         6
      89: aconst_null
      90: invokestatic  #66                 // Method org/apache/hadoop/hbase/util/FSUtils.listStatus:(Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/PathFilter;)[Lorg/apache/hadoop/fs/FileStatus;
      93: astore        7
      95: ldc           #67                 // String No files in the region directory
      97: aload         7
      99: invokestatic  #68                 // Method org/junit/Assert.assertNotNull:(Ljava/lang/String;Ljava/lang/Object;)V
     102: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     105: invokeinterface #70,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     110: ifeq          195
     113: new           #71                 // class java/util/ArrayList
     116: dup
     117: invokespecial #72                 // Method java/util/ArrayList."<init>":()V
     120: astore        8
     122: aload         7
     124: astore        9
     126: aload         9
     128: arraylength
     129: istore        10
     131: iconst_0
     132: istore        11
     134: iload         11
     136: iload         10
     138: if_icmpge     167
     141: aload         9
     143: iload         11
     145: aaload
     146: astore        12
     148: aload         8
     150: aload         12
     152: invokevirtual #59                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     155: invokeinterface #73,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     160: pop
     161: iinc          11, 1
     164: goto          134
     167: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     170: new           #24                 // class java/lang/StringBuilder
     173: dup
     174: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
     177: ldc           #74                 // String Current files:
     179: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: aload         8
     184: invokevirtual #75                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     187: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     190: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     195: new           #77                 // class org/apache/hadoop/hbase/util/FSUtils$DirFilter
     198: dup
     199: aload         4
     201: invokespecial #78                 // Method org/apache/hadoop/hbase/util/FSUtils$DirFilter."<init>":(Lorg/apache/hadoop/fs/FileSystem;)V
     204: astore        8
     206: new           #79                 // class org/apache/hadoop/hbase/backup/TestHFileArchiving$2
     209: dup
     210: aload_0
     211: aload         8
     213: invokespecial #80                 // Method org/apache/hadoop/hbase/backup/TestHFileArchiving$2."<init>":(Lorg/apache/hadoop/hbase/backup/TestHFileArchiving;Lorg/apache/hadoop/fs/PathFilter;)V
     216: astore        9
     218: aload         4
     220: aload         6
     222: aload         9
     224: invokestatic  #66                 // Method org/apache/hadoop/hbase/util/FSUtils.listStatus:(Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/PathFilter;)[Lorg/apache/hadoop/fs/FileStatus;
     227: astore        10
     229: aload         10
     231: astore        11
     233: aload         11
     235: arraylength
     236: istore        12
     238: iconst_0
     239: istore        13
     241: iload         13
     243: iload         12
     245: if_icmpge     283
     248: aload         11
     250: iload         13
     252: aaload
     253: astore        14
     255: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     258: ldc           #81                 // String Deleting store for test
     260: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     265: aload         4
     267: aload         14
     269: invokevirtual #59                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     272: iconst_1
     273: invokevirtual #82                 // Method org/apache/hadoop/fs/FileSystem.delete:(Lorg/apache/hadoop/fs/Path;Z)Z
     276: pop
     277: iinc          13, 1
     280: goto          241
     283: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     286: invokevirtual #6                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
     289: aload         4
     291: aload_3
     292: invokevirtual #50                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getRegionInfo:()Lorg/apache/hadoop/hbase/client/RegionInfo;
     295: invokestatic  #52                 // Method org/apache/hadoop/hbase/backup/HFileArchiver.archiveRegion:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/hbase/client/RegionInfo;)V
     298: new           #24                 // class java/lang/StringBuilder
     301: dup
     302: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
     305: ldc           #83                 // String Region directory (
     307: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     310: aload         6
     312: invokevirtual #75                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     315: ldc           #84                 // String ), still exists.
     317: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     320: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     323: aload         4
     325: aload         6
     327: invokevirtual #54                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     330: invokestatic  #85                 // Method org/junit/Assert.assertFalse:(Ljava/lang/String;Z)V
     333: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     336: aload_1
     337: invokevirtual #62                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.deleteTable:(Lorg/apache/hadoop/hbase/TableName;)V
     340: return

  public void testArchiveRegions() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field name:Lorg/junit/rules/TestName;
       4: invokevirtual #33                 // Method org/junit/rules/TestName.getMethodName:()Ljava/lang/String;
       7: invokestatic  #34                 // Method org/apache/hadoop/hbase/TableName.valueOf:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/TableName;
      10: astore_1
      11: aload_0
      12: aload_1
      13: invokespecial #100                // Method initTableForArchivingRegions:(Lorg/apache/hadoop/hbase/TableName;)Ljava/util/List;
      16: astore_2
      17: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      20: invokevirtual #46                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getTestFileSystem:()Lorg/apache/hadoop/fs/FileSystem;
      23: astore_3
      24: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      27: invokevirtual #6                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      30: invokestatic  #65                 // Method org/apache/hadoop/hbase/util/FSUtils.getRootDir:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/fs/Path;
      33: astore        4
      35: aload         4
      37: aload_2
      38: iconst_0
      39: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      44: checkcast     #43                 // class org/apache/hadoop/hbase/regionserver/HRegion
      47: invokevirtual #50                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getRegionInfo:()Lorg/apache/hadoop/hbase/client/RegionInfo;
      50: invokeinterface #101,  1          // InterfaceMethod org/apache/hadoop/hbase/client/RegionInfo.getTable:()Lorg/apache/hadoop/hbase/TableName;
      55: invokestatic  #102                // Method org/apache/hadoop/hbase/util/FSUtils.getTableDir:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/hbase/TableName;)Lorg/apache/hadoop/fs/Path;
      58: astore        5
      60: aload_2
      61: invokeinterface #103,  1          // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      66: aload         5
      68: invokedynamic #104,  0            // InvokeDynamic #0:apply:(Lorg/apache/hadoop/fs/Path;)Ljava/util/function/Function;
      73: invokeinterface #105,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      78: invokestatic  #106                // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      81: invokeinterface #107,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      86: checkcast     #108                // class java/util/List
      89: astore        6
      91: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      94: invokevirtual #6                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      97: aload_3
      98: aload         4
     100: aload         5
     102: aload         6
     104: invokestatic  #109                // Method org/apache/hadoop/hbase/backup/HFileArchiver.archiveRegions:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;Ljava/util/List;)V
     107: aload_2
     108: invokeinterface #110,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     113: astore        7
     115: aload         7
     117: invokeinterface #111,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     122: ifeq          217
     125: aload         7
     127: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     132: checkcast     #43                 // class org/apache/hadoop/hbase/regionserver/HRegion
     135: astore        8
     137: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     140: invokevirtual #6                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
     143: aload         8
     145: invokestatic  #53                 // Method org/apache/hadoop/hbase/util/HFileArchiveTestingUtil.getRegionArchiveDir:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/regionserver/HRegion;)Lorg/apache/hadoop/fs/Path;
     148: astore        9
     150: aload_3
     151: aload         9
     153: invokevirtual #54                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     156: invokestatic  #55                 // Method org/junit/Assert.assertTrue:(Z)V
     159: aload_3
     160: aload         9
     162: invokedynamic #113,  0            // InvokeDynamic #1:accept:()Lorg/apache/hadoop/fs/PathFilter;
     167: invokevirtual #58                 // Method org/apache/hadoop/fs/FileSystem.listStatus:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/PathFilter;)[Lorg/apache/hadoop/fs/FileStatus;
     170: astore        10
     172: aload         10
     174: arraylength
     175: iconst_1
     176: if_icmpne     183
     179: iconst_1
     180: goto          184
     183: iconst_0
     184: invokestatic  #55                 // Method org/junit/Assert.assertTrue:(Z)V
     187: aload_3
     188: aload         10
     190: iconst_0
     191: aaload
     192: invokevirtual #59                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     195: invokevirtual #60                 // Method org/apache/hadoop/fs/FileSystem.listStatus:(Lorg/apache/hadoop/fs/Path;)[Lorg/apache/hadoop/fs/FileStatus;
     198: astore        11
     200: aload         11
     202: arraylength
     203: ifle          210
     206: iconst_1
     207: goto          211
     210: iconst_0
     211: invokestatic  #55                 // Method org/junit/Assert.assertTrue:(Z)V
     214: goto          115
     217: aload         6
     219: invokeinterface #110,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     224: astore        7
     226: aload         7
     228: invokeinterface #111,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     233: ifeq          260
     236: aload         7
     238: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     243: checkcast     #114                // class org/apache/hadoop/fs/Path
     246: astore        8
     248: aload_3
     249: aload         8
     251: invokevirtual #54                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     254: invokestatic  #61                 // Method org/junit/Assert.assertFalse:(Z)V
     257: goto          226
     260: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     263: aload_1
     264: invokevirtual #62                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.deleteTable:(Lorg/apache/hadoop/hbase/TableName;)V
     267: return

  public void testArchiveRegionsWhenPermissionDenied() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field name:Lorg/junit/rules/TestName;
       4: invokevirtual #33                 // Method org/junit/rules/TestName.getMethodName:()Ljava/lang/String;
       7: invokestatic  #34                 // Method org/apache/hadoop/hbase/TableName.valueOf:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/TableName;
      10: astore_1
      11: aload_0
      12: aload_1
      13: invokespecial #100                // Method initTableForArchivingRegions:(Lorg/apache/hadoop/hbase/TableName;)Ljava/util/List;
      16: astore_2
      17: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      20: invokevirtual #6                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      23: invokestatic  #65                 // Method org/apache/hadoop/hbase/util/FSUtils.getRootDir:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/fs/Path;
      26: astore_3
      27: aload_3
      28: aload_2
      29: iconst_0
      30: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      35: checkcast     #43                 // class org/apache/hadoop/hbase/regionserver/HRegion
      38: invokevirtual #50                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getRegionInfo:()Lorg/apache/hadoop/hbase/client/RegionInfo;
      41: invokeinterface #101,  1          // InterfaceMethod org/apache/hadoop/hbase/client/RegionInfo.getTable:()Lorg/apache/hadoop/hbase/TableName;
      46: invokestatic  #102                // Method org/apache/hadoop/hbase/util/FSUtils.getTableDir:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/hbase/TableName;)Lorg/apache/hadoop/fs/Path;
      49: astore        4
      51: aload_2
      52: invokeinterface #103,  1          // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      57: aload         4
      59: invokedynamic #115,  0            // InvokeDynamic #2:apply:(Lorg/apache/hadoop/fs/Path;)Ljava/util/function/Function;
      64: invokeinterface #105,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      69: invokestatic  #106                // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      72: invokeinterface #107,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      77: checkcast     #108                // class java/util/List
      80: astore        5
      82: ldc           #116                // String foo1234
      84: iconst_1
      85: anewarray     #117                // class java/lang/String
      88: dup
      89: iconst_0
      90: ldc           #118                // String group1
      92: aastore
      93: invokestatic  #119                // Method org/apache/hadoop/security/UserGroupInformation.createUserForTesting:(Ljava/lang/String;[Ljava/lang/String;)Lorg/apache/hadoop/security/UserGroupInformation;
      96: astore        6
      98: aload         6
     100: aload_3
     101: aload         4
     103: aload         5
     105: invokedynamic #120,  0            // InvokeDynamic #3:run:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;Ljava/util/List;)Ljava/security/PrivilegedExceptionAction;
     110: invokevirtual #121                // Method org/apache/hadoop/security/UserGroupInformation.doAs:(Ljava/security/PrivilegedExceptionAction;)Ljava/lang/Object;
     113: pop
     114: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     117: aload_1
     118: invokevirtual #62                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.deleteTable:(Lorg/apache/hadoop/hbase/TableName;)V
     121: goto          157
     124: astore        7
     126: aload         7
     128: invokevirtual #122                // Method java/io/IOException.getCause:()Ljava/lang/Throwable;
     131: invokevirtual #123                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
     134: ldc           #124                // String Permission denied
     136: invokevirtual #125                // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     139: invokestatic  #55                 // Method org/junit/Assert.assertTrue:(Z)V
     142: aload         7
     144: athrow
     145: astore        8
     147: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     150: aload_1
     151: invokevirtual #62                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.deleteTable:(Lorg/apache/hadoop/hbase/TableName;)V
     154: aload         8
     156: athrow
     157: return
    Exception table:
       from    to  target type
          98   114   124   Class java/io/IOException
          98   114   145   any
         124   147   145   any

  public void testArchiveOnTableDelete() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field name:Lorg/junit/rules/TestName;
       4: invokevirtual #33                 // Method org/junit/rules/TestName.getMethodName:()Ljava/lang/String;
       7: invokestatic  #34                 // Method org/apache/hadoop/hbase/TableName.valueOf:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/TableName;
      10: astore_1
      11: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      14: aload_1
      15: getstatic     #35                 // Field TEST_FAM:[B
      18: invokevirtual #36                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.createTable:(Lorg/apache/hadoop/hbase/TableName;[B)Lorg/apache/hadoop/hbase/client/Table;
      21: pop
      22: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      25: invokevirtual #38                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getHBaseCluster:()Lorg/apache/hadoop/hbase/MiniHBaseCluster;
      28: aload_1
      29: invokevirtual #39                 // Method org/apache/hadoop/hbase/MiniHBaseCluster.getRegions:(Lorg/apache/hadoop/hbase/TableName;)Ljava/util/List;
      32: astore_2
      33: lconst_1
      34: aload_2
      35: invokeinterface #40,  1           // InterfaceMethod java/util/List.size:()I
      40: i2l
      41: invokestatic  #41                 // Method org/junit/Assert.assertEquals:(JJ)V
      44: aload_2
      45: iconst_0
      46: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      51: checkcast     #43                 // class org/apache/hadoop/hbase/regionserver/HRegion
      54: astore_3
      55: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      58: aload_1
      59: invokevirtual #126                // Method org/apache/hadoop/hbase/HBaseTestingUtility.getRSForFirstRegionInTable:(Lorg/apache/hadoop/hbase/TableName;)Lorg/apache/hadoop/hbase/regionserver/HRegionServer;
      62: astore        4
      64: aload         4
      66: invokevirtual #127                // Method org/apache/hadoop/hbase/regionserver/HRegionServer.getFileSystem:()Lorg/apache/hadoop/fs/FileSystem;
      69: astore        5
      71: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
      74: ldc           #128                // String -------Loading table
      76: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      81: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      84: aload_3
      85: getstatic     #35                 // Field TEST_FAM:[B
      88: invokevirtual #44                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.loadRegion:(Lorg/apache/hadoop/hbase/regionserver/HRegion;[B)I
      91: pop
      92: aload         4
      94: aload_1
      95: invokevirtual #129                // Method org/apache/hadoop/hbase/regionserver/HRegionServer.getRegions:(Lorg/apache/hadoop/hbase/TableName;)Ljava/util/List;
      98: astore        6
     100: ldc           #130                // String More that 1 region for test table.
     102: lconst_1
     103: aload         6
     105: invokeinterface #40,  1           // InterfaceMethod java/util/List.size:()I
     110: i2l
     111: invokestatic  #131                // Method org/junit/Assert.assertEquals:(Ljava/lang/String;JJ)V
     114: aload         6
     116: iconst_0
     117: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     122: checkcast     #43                 // class org/apache/hadoop/hbase/regionserver/HRegion
     125: astore_3
     126: aload_3
     127: invokevirtual #132                // Method org/apache/hadoop/hbase/regionserver/HRegion.waitForFlushesAndCompactions:()V
     130: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     133: invokevirtual #37                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getAdmin:()Lorg/apache/hadoop/hbase/client/Admin;
     136: aload_1
     137: invokeinterface #45,  2           // InterfaceMethod org/apache/hadoop/hbase/client/Admin.disableTable:(Lorg/apache/hadoop/hbase/TableName;)V
     142: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     145: ldc           #133                // String Disabled table
     147: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     152: aload_0
     153: invokespecial #22                 // Method clearArchiveDirectory:()V
     156: aload_3
     157: invokevirtual #134                // Method org/apache/hadoop/hbase/regionserver/HRegion.getTableDescriptor:()Lorg/apache/hadoop/hbase/client/TableDescriptor;
     160: invokeinterface #135,  1          // InterfaceMethod org/apache/hadoop/hbase/client/TableDescriptor.getColumnFamilyNames:()Ljava/util/Set;
     165: iconst_0
     166: anewarray     #86                 // class "[B"
     169: invokeinterface #136,  2          // InterfaceMethod java/util/Set.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     174: checkcast     #137                // class "[[B"
     177: astore        7
     179: aload_3
     180: aload         7
     182: invokevirtual #138                // Method org/apache/hadoop/hbase/regionserver/HRegion.getStoreFileList:([[B)Ljava/util/List;
     185: astore        8
     187: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     190: aload_1
     191: invokevirtual #62                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.deleteTable:(Lorg/apache/hadoop/hbase/TableName;)V
     194: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     197: ldc           #139                // String Deleted table
     199: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     204: aload_0
     205: aload         5
     207: aload         8
     209: ldc2_w        #140                // long 30000l
     212: invokespecial #142                // Method assertArchiveFiles:(Lorg/apache/hadoop/fs/FileSystem;Ljava/util/List;J)V
     215: return

  public void testArchiveOnTableFamilyDelete() throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field name:Lorg/junit/rules/TestName;
       4: invokevirtual #33                 // Method org/junit/rules/TestName.getMethodName:()Ljava/lang/String;
       7: invokestatic  #34                 // Method org/apache/hadoop/hbase/TableName.valueOf:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/TableName;
      10: astore_1
      11: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      14: aload_1
      15: iconst_2
      16: anewarray     #86                 // class "[B"
      19: dup
      20: iconst_0
      21: getstatic     #35                 // Field TEST_FAM:[B
      24: aastore
      25: dup
      26: iconst_1
      27: ldc           #154                // String fam2
      29: invokestatic  #88                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      32: aastore
      33: invokevirtual #155                // Method org/apache/hadoop/hbase/HBaseTestingUtility.createTable:(Lorg/apache/hadoop/hbase/TableName;[[B)Lorg/apache/hadoop/hbase/client/Table;
      36: pop
      37: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      40: invokevirtual #38                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getHBaseCluster:()Lorg/apache/hadoop/hbase/MiniHBaseCluster;
      43: aload_1
      44: invokevirtual #39                 // Method org/apache/hadoop/hbase/MiniHBaseCluster.getRegions:(Lorg/apache/hadoop/hbase/TableName;)Ljava/util/List;
      47: astore_2
      48: lconst_1
      49: aload_2
      50: invokeinterface #40,  1           // InterfaceMethod java/util/List.size:()I
      55: i2l
      56: invokestatic  #41                 // Method org/junit/Assert.assertEquals:(JJ)V
      59: aload_2
      60: iconst_0
      61: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      66: checkcast     #43                 // class org/apache/hadoop/hbase/regionserver/HRegion
      69: astore_3
      70: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      73: aload_1
      74: invokevirtual #126                // Method org/apache/hadoop/hbase/HBaseTestingUtility.getRSForFirstRegionInTable:(Lorg/apache/hadoop/hbase/TableName;)Lorg/apache/hadoop/hbase/regionserver/HRegionServer;
      77: astore        4
      79: aload         4
      81: invokevirtual #127                // Method org/apache/hadoop/hbase/regionserver/HRegionServer.getFileSystem:()Lorg/apache/hadoop/fs/FileSystem;
      84: astore        5
      86: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
      89: ldc           #128                // String -------Loading table
      91: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      96: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      99: aload_3
     100: getstatic     #35                 // Field TEST_FAM:[B
     103: invokevirtual #44                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.loadRegion:(Lorg/apache/hadoop/hbase/regionserver/HRegion;[B)I
     106: pop
     107: aload         4
     109: aload_1
     110: invokevirtual #129                // Method org/apache/hadoop/hbase/regionserver/HRegionServer.getRegions:(Lorg/apache/hadoop/hbase/TableName;)Ljava/util/List;
     113: astore        6
     115: ldc           #130                // String More that 1 region for test table.
     117: lconst_1
     118: aload         6
     120: invokeinterface #40,  1           // InterfaceMethod java/util/List.size:()I
     125: i2l
     126: invokestatic  #131                // Method org/junit/Assert.assertEquals:(Ljava/lang/String;JJ)V
     129: aload         6
     131: iconst_0
     132: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     137: checkcast     #43                 // class org/apache/hadoop/hbase/regionserver/HRegion
     140: astore_3
     141: aload_3
     142: invokevirtual #132                // Method org/apache/hadoop/hbase/regionserver/HRegion.waitForFlushesAndCompactions:()V
     145: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     148: invokevirtual #37                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getAdmin:()Lorg/apache/hadoop/hbase/client/Admin;
     151: aload_1
     152: invokeinterface #45,  2           // InterfaceMethod org/apache/hadoop/hbase/client/Admin.disableTable:(Lorg/apache/hadoop/hbase/TableName;)V
     157: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     160: ldc           #133                // String Disabled table
     162: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     167: aload_0
     168: invokespecial #22                 // Method clearArchiveDirectory:()V
     171: aload_3
     172: invokevirtual #134                // Method org/apache/hadoop/hbase/regionserver/HRegion.getTableDescriptor:()Lorg/apache/hadoop/hbase/client/TableDescriptor;
     175: invokeinterface #135,  1          // InterfaceMethod org/apache/hadoop/hbase/client/TableDescriptor.getColumnFamilyNames:()Ljava/util/Set;
     180: iconst_0
     181: anewarray     #86                 // class "[B"
     184: invokeinterface #136,  2          // InterfaceMethod java/util/Set.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     189: checkcast     #137                // class "[[B"
     192: astore        7
     194: aload_3
     195: aload         7
     197: invokevirtual #138                // Method org/apache/hadoop/hbase/regionserver/HRegion.getStoreFileList:([[B)Ljava/util/List;
     200: astore        8
     202: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     205: invokevirtual #37                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getAdmin:()Lorg/apache/hadoop/hbase/client/Admin;
     208: aload_1
     209: getstatic     #35                 // Field TEST_FAM:[B
     212: invokeinterface #156,  3          // InterfaceMethod org/apache/hadoop/hbase/client/Admin.deleteColumnFamily:(Lorg/apache/hadoop/hbase/TableName;[B)V
     217: aload_0
     218: aload         5
     220: aload         8
     222: ldc2_w        #140                // long 30000l
     225: invokespecial #142                // Method assertArchiveFiles:(Lorg/apache/hadoop/fs/FileSystem;Ljava/util/List;J)V
     228: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
     231: aload_1
     232: invokevirtual #62                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.deleteTable:(Lorg/apache/hadoop/hbase/TableName;)V
     235: return

  public void testCleaningRace() throws java.lang.Exception;
    Code:
       0: ldc2_w        #157                // long 20000l
       3: lstore_1
       4: new           #159                // class org/apache/hadoop/hbase/ChoreService
       7: dup
       8: ldc           #160                // String TEST_SERVER_NAME
      10: invokespecial #161                // Method org/apache/hadoop/hbase/ChoreService."<init>":(Ljava/lang/String;)V
      13: astore_3
      14: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      17: invokevirtual #9                  // Method org/apache/hadoop/hbase/HBaseTestingUtility.getMiniHBaseCluster:()Lorg/apache/hadoop/hbase/MiniHBaseCluster;
      20: invokevirtual #10                 // Method org/apache/hadoop/hbase/MiniHBaseCluster.getMaster:()Lorg/apache/hadoop/hbase/master/HMaster;
      23: invokevirtual #162                // Method org/apache/hadoop/hbase/master/HMaster.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      26: astore        4
      28: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      31: ldc           #163                // String testCleaningRace
      33: invokevirtual #164                // Method org/apache/hadoop/hbase/HBaseTestingUtility.getDataTestDirOnTestFS:(Ljava/lang/String;)Lorg/apache/hadoop/fs/Path;
      36: astore        5
      38: getstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      41: invokevirtual #46                 // Method org/apache/hadoop/hbase/HBaseTestingUtility.getTestFileSystem:()Lorg/apache/hadoop/fs/FileSystem;
      44: astore        6
      46: new           #114                // class org/apache/hadoop/fs/Path
      49: dup
      50: aload         5
      52: ldc           #165                // String archive
      54: invokespecial #166                // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
      57: astore        7
      59: new           #114                // class org/apache/hadoop/fs/Path
      62: dup
      63: new           #114                // class org/apache/hadoop/fs/Path
      66: dup
      67: ldc           #167                // String ./
      69: invokespecial #168                // Method org/apache/hadoop/fs/Path."<init>":(Ljava/lang/String;)V
      72: aload_0
      73: getfield      #4                  // Field name:Lorg/junit/rules/TestName;
      76: invokevirtual #33                 // Method org/junit/rules/TestName.getMethodName:()Ljava/lang/String;
      79: invokestatic  #34                 // Method org/apache/hadoop/hbase/TableName.valueOf:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/TableName;
      82: invokestatic  #102                // Method org/apache/hadoop/hbase/util/FSUtils.getTableDir:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/hbase/TableName;)Lorg/apache/hadoop/fs/Path;
      85: ldc           #169                // String abcdef
      87: invokespecial #166                // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
      90: astore        8
      92: new           #114                // class org/apache/hadoop/fs/Path
      95: dup
      96: aload         8
      98: ldc           #170                // String cf
     100: invokespecial #166                // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
     103: astore        9
     105: new           #114                // class org/apache/hadoop/fs/Path
     108: dup
     109: aload         5
     111: aload         8
     113: invokespecial #171                // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)V
     116: astore        10
     118: aload         6
     120: aload         10
     122: invokevirtual #172                // Method org/apache/hadoop/fs/FileSystem.mkdirs:(Lorg/apache/hadoop/fs/Path;)Z
     125: pop
     126: new           #173                // class org/apache/hadoop/hbase/util/StoppableImplementation
     129: dup
     130: invokespecial #174                // Method org/apache/hadoop/hbase/util/StoppableImplementation."<init>":()V
     133: astore        11
     135: aload_0
     136: aload         11
     138: aload         4
     140: aload         6
     142: aload         7
     144: invokespecial #175                // Method getHFileCleaner:(Lorg/apache/hadoop/hbase/Stoppable;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;)Lorg/apache/hadoop/hbase/master/cleaner/HFileCleaner;
     147: astore        12
     149: ldc           #176                // String cleaner should not be null
     151: aload         12
     153: invokestatic  #68                 // Method org/junit/Assert.assertNotNull:(Ljava/lang/String;Ljava/lang/Object;)V
     156: aload_3
     157: aload         12
     159: invokevirtual #177                // Method org/apache/hadoop/hbase/ChoreService.scheduleChore:(Lorg/apache/hadoop/hbase/ScheduledChore;)Z
     162: pop
     163: invokestatic  #143                // Method java/lang/System.currentTimeMillis:()J
     166: lstore        13
     168: lconst_0
     169: lstore        15
     171: invokestatic  #143                // Method java/lang/System.currentTimeMillis:()J
     174: lload         13
     176: lsub
     177: ldc2_w        #157                // long 20000l
     180: lcmp
     181: ifge          378
     184: new           #114                // class org/apache/hadoop/fs/Path
     187: dup
     188: aload         9
     190: lload         15
     192: invokestatic  #178                // Method java/lang/String.valueOf:(J)Ljava/lang/String;
     195: invokespecial #166                // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
     198: astore        17
     200: new           #114                // class org/apache/hadoop/fs/Path
     203: dup
     204: aload         5
     206: aload         17
     208: invokespecial #171                // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)V
     211: astore        18
     213: new           #114                // class org/apache/hadoop/fs/Path
     216: dup
     217: aload         7
     219: aload         17
     221: invokespecial #171                // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)V
     224: astore        19
     226: aload         6
     228: aload         18
     230: invokevirtual #179                // Method org/apache/hadoop/fs/FileSystem.createNewFile:(Lorg/apache/hadoop/fs/Path;)Z
     233: pop
     234: aload         6
     236: aload         5
     238: aload         10
     240: invokevirtual #49                 // Method org/apache/hadoop/fs/Path.getParent:()Lorg/apache/hadoop/fs/Path;
     243: aload         10
     245: invokestatic  #180                // Method org/apache/hadoop/hbase/backup/HFileArchiver.archiveRegion:(Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)Z
     248: pop
     249: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     252: new           #24                 // class java/lang/StringBuilder
     255: dup
     256: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
     259: ldc           #181                // String hfile=
     261: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     264: lload         15
     266: invokevirtual #182                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     269: ldc           #183                // String  should be in the archive
     271: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     274: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     277: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     282: aload         6
     284: aload         19
     286: invokevirtual #54                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     289: invokestatic  #55                 // Method org/junit/Assert.assertTrue:(Z)V
     292: aload         6
     294: aload         18
     296: invokevirtual #54                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     299: invokestatic  #61                 // Method org/junit/Assert.assertFalse:(Z)V
     302: goto          369
     305: astore        20
     307: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     310: new           #24                 // class java/lang/StringBuilder
     313: dup
     314: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
     317: ldc           #181                // String hfile=
     319: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     322: lload         15
     324: invokevirtual #182                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     327: ldc           #184                // String  should be in the source location
     329: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     332: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     335: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     340: aload         6
     342: aload         19
     344: invokevirtual #54                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     347: invokestatic  #61                 // Method org/junit/Assert.assertFalse:(Z)V
     350: aload         6
     352: aload         18
     354: invokevirtual #54                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     357: invokestatic  #55                 // Method org/junit/Assert.assertTrue:(Z)V
     360: aload         6
     362: aload         18
     364: iconst_0
     365: invokevirtual #82                 // Method org/apache/hadoop/fs/FileSystem.delete:(Lorg/apache/hadoop/fs/Path;Z)Z
     368: pop
     369: lload         15
     371: lconst_1
     372: ladd
     373: lstore        15
     375: goto          171
     378: aload         11
     380: ldc           #185                // String test end
     382: invokeinterface #186,  2          // InterfaceMethod org/apache/hadoop/hbase/Stoppable.stop:(Ljava/lang/String;)V
     387: aload         12
     389: iconst_1
     390: invokevirtual #12                 // Method org/apache/hadoop/hbase/master/cleaner/HFileCleaner.cancel:(Z)V
     393: aload_3
     394: invokevirtual #187                // Method org/apache/hadoop/hbase/ChoreService.shutdown:()V
     397: aload         6
     399: aload         5
     401: iconst_1
     402: invokevirtual #82                 // Method org/apache/hadoop/fs/FileSystem.delete:(Lorg/apache/hadoop/fs/Path;Z)Z
     405: pop
     406: goto          442
     409: astore        21
     411: aload         11
     413: ldc           #185                // String test end
     415: invokeinterface #186,  2          // InterfaceMethod org/apache/hadoop/hbase/Stoppable.stop:(Ljava/lang/String;)V
     420: aload         12
     422: iconst_1
     423: invokevirtual #12                 // Method org/apache/hadoop/hbase/master/cleaner/HFileCleaner.cancel:(Z)V
     426: aload_3
     427: invokevirtual #187                // Method org/apache/hadoop/hbase/ChoreService.shutdown:()V
     430: aload         6
     432: aload         5
     434: iconst_1
     435: invokevirtual #82                 // Method org/apache/hadoop/fs/FileSystem.delete:(Lorg/apache/hadoop/fs/Path;Z)Z
     438: pop
     439: aload         21
     441: athrow
     442: return
    Exception table:
       from    to  target type
         234   302   305   Class java/io/IOException
         156   378   409   any
         409   411   409   any

  static {};
    Code:
       0: ldc           #205                // class org/apache/hadoop/hbase/backup/TestHFileArchiving
       2: invokestatic  #206                // Method org/apache/hadoop/hbase/HBaseClassTestRule.forClass:(Ljava/lang/Class;)Lorg/apache/hadoop/hbase/HBaseClassTestRule;
       5: putstatic     #207                // Field CLASS_RULE:Lorg/apache/hadoop/hbase/HBaseClassTestRule;
       8: ldc           #205                // class org/apache/hadoop/hbase/backup/TestHFileArchiving
      10: invokestatic  #208                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      13: putstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
      16: new           #209                // class org/apache/hadoop/hbase/HBaseTestingUtility
      19: dup
      20: invokespecial #210                // Method org/apache/hadoop/hbase/HBaseTestingUtility."<init>":()V
      23: putstatic     #5                  // Field UTIL:Lorg/apache/hadoop/hbase/HBaseTestingUtility;
      26: ldc           #211                // String fam
      28: invokestatic  #88                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      31: putstatic     #35                 // Field TEST_FAM:[B
      34: return
}
