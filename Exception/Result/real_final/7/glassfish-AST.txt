Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
balanced_auto_exception.py:357: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("de..., inputs=Tensor("in...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-07-21 08:38:48.457338: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-07-21 08:38:48.467331: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2099830000 Hz
2019-07-21 08:38:48.469252: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x6ace3c0 executing computations on platform Host. Devices:
2019-07-21 08:38:48.469292: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
zero : 
25926

one : 
13545
glassfish-AST
all data

Sentence length Average : 30

Under 10 : 21109
Over 10, Under 200 : 17583
Over 200, Under 400 : 621
Over 400 : 158

glassfish-AST
updated_train_data

Sentence length Average : 58

Under 10 : 0
Over 10, Under 200 : 15792
Over 200, Under 400 : 706
Over 400 : 0


Test_zero:  958
Train_zero:  8654
zero:  9612
Test_one:  905
Train_one:  7844
one:  8749

Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 256)          0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 256)          0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            1026        dropout_3[0][0]                  
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 356s - loss: 0.6575 - acc: 0.6105

Test accuracy: 69.35394809497515

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  783

choose_one :  1028

F1score :  0.7128815312984996

AUC : 0.7517531984437695

Confusion Matrix
[[567 339]
 [216 689]]
True label 0
0.6258278145695364  
0.3741721854304636  
True label 1
0.23867403314917127  
0.7613259668508288  

Train_result {'acc': [0.6104914271202375], 'loss': [0.6575365657977813]}
Saved model to disk



2

Epoch 1/1
 - 353s - loss: 0.5692 - acc: 0.7030

Test accuracy: 72.66703478741027

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  827

choose_one :  984

F1score :  0.7379565907887771

AUC : 0.8110850926298585

Confusion Matrix
[[619 287]
 [208 697]]
True label 0
0.6832229580573952  
0.31677704194260486  
True label 1
0.22983425414364642  
0.7701657458563536  

Train_result {'acc': [0.7029766078219906], 'loss': [0.5692412332493395]}
Saved model to disk



3

Epoch 1/1
 - 379s - loss: 0.5001 - acc: 0.7536

Test accuracy: 76.03533959138598

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  1064

choose_one :  747

F1score :  0.7372881355932204

AUC : 0.8426121742099935

Confusion Matrix
[[768 138]
 [296 609]]
True label 0
0.847682119205298  
0.152317880794702  
True label 1
0.3270718232044199  
0.6729281767955801  

Train_result {'acc': [0.7536490534883558], 'loss': [0.5000883276022311]}
Saved model to disk



4

Epoch 1/1
 - 380s - loss: 0.4527 - acc: 0.7857

Test accuracy: 77.47101049144119

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  726

choose_one :  1085

F1score :  0.7949748743718593

AUC : 0.8726866927664556

Confusion Matrix
[[612 294]
 [114 791]]
True label 0
0.6754966887417219  
0.32450331125827814  
True label 1
0.12596685082872927  
0.8740331491712707  

Train_result {'acc': [0.785709732941501], 'loss': [0.4527475082936604]}
Saved model to disk



5

Epoch 1/1
 - 379s - loss: 0.4119 - acc: 0.8120

Test accuracy: 78.96189950303699

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  975

choose_one :  836

F1score :  0.7811602527283171

AUC : 0.8746673496517996

Confusion Matrix
[[750 156]
 [225 680]]
True label 0
0.8278145695364238  
0.17218543046357615  
True label 1
0.24861878453038674  
0.7513812154696132  

Train_result {'acc': [0.811970170190529], 'loss': [0.41194228400645516]}
Saved model to disk



6

Epoch 1/1
 - 380s - loss: 0.3834 - acc: 0.8265

Test accuracy: 81.00496963003864

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  842

choose_one :  969

F1score :  0.816435432230523

AUC : 0.8908626346151501

Confusion Matrix
[[702 204]
 [140 765]]
True label 0
0.7748344370860927  
0.2251655629139073  
True label 1
0.15469613259668508  
0.8453038674033149  

Train_result {'acc': [0.8265026451692017], 'loss': [0.38341042007335596]}
Saved model to disk



7

Epoch 1/1
 - 377s - loss: 0.3498 - acc: 0.8458

Test accuracy: 81.06018774157924

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  785

choose_one :  1026

F1score :  0.8223718280683583

AUC : 0.8948654153403339

Confusion Matrix
[[674 232]
 [111 794]]
True label 0
0.7439293598233996  
0.2560706401766004  
True label 1
0.12265193370165746  
0.8773480662983425  

Train_result {'acc': [0.8457518006322398], 'loss': [0.34978730653180123]}
Saved model to disk



8

Epoch 1/1
 - 380s - loss: 0.3221 - acc: 0.8567

Test accuracy: 82.49585864163446

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  969

choose_one :  842

F1score :  0.8185460789925588

AUC : 0.9055285207273791

Confusion Matrix
[[779 127]
 [190 715]]
True label 0
0.8598233995584988  
0.1401766004415011  
True label 1
0.20994475138121546  
0.7900552486187845  

Train_result {'acc': [0.8566511568652945], 'loss': [0.32208954187703565]}
Saved model to disk



9

Epoch 1/1
 - 378s - loss: 0.3010 - acc: 0.8720

Test accuracy: 82.66151297625622

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  964

choose_one :  847

F1score :  0.8207762557077626

AUC : 0.9074847852865489

Confusion Matrix
[[778 128]
 [186 719]]
True label 0
0.8587196467991169  
0.141280353200883  
True label 1
0.20552486187845304  
0.7944751381215469  

Train_result {'acc': [0.8720122378774686], 'loss': [0.30096548812226315]}
Saved model to disk



10

Epoch 1/1
 - 379s - loss: 0.2689 - acc: 0.8833

Test accuracy: 81.9436775262286

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  825

choose_one :  986

F1score :  0.8270756213643574

AUC : 0.9048979790957765

Confusion Matrix
[[702 204]
 [123 782]]
True label 0
0.7748344370860927  
0.2251655629139073  
True label 1
0.13591160220994475  
0.8640883977900552  

Train_result {'acc': [0.8832940276702919], 'loss': [0.2689151117986912]}
Saved model to disk



11

Epoch 1/1
 - 379s - loss: 0.2469 - acc: 0.8962

Test accuracy: 83.15847598012148

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  837

choose_one :  974

F1score :  0.8376796168174561

AUC : 0.913688973448953

Confusion Matrix
[[719 187]
 [118 787]]
True label 0
0.7935982339955849  
0.206401766004415  
True label 1
0.13038674033149172  
0.8696132596685083  

Train_result {'acc': [0.8961692905895599], 'loss': [0.24687189940334436]}
Saved model to disk



12

Epoch 1/1
 - 378s - loss: 0.2221 - acc: 0.9093

Test accuracy: 82.10933186085036

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  844

choose_one :  967

F1score :  0.8269230769230769

AUC : 0.90599075530838

Confusion Matrix
[[713 193]
 [131 774]]
True label 0
0.7869757174392936  
0.2130242825607064  
True label 1
0.14475138121546963  
0.8552486187845304  

Train_result {'acc': [0.909299509217873], 'loss': [0.2220794545968941]}
Saved model to disk



13

Epoch 1/1
 - 382s - loss: 0.2060 - acc: 0.9140

Test accuracy: 83.48978464936499

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  943

choose_one :  868

F1score :  0.8313592780597856

AUC : 0.9130883124169138

Confusion Matrix
[[775 131]
 [168 737]]
True label 0
0.8554083885209713  
0.1445916114790287  
True label 1
0.1856353591160221  
0.8143646408839779  

Train_result {'acc': [0.9139524507654793], 'loss': [0.20599443017600622]}
Saved model to disk



14

Epoch 1/1
 - 382s - loss: 0.1903 - acc: 0.9241

Test accuracy: 83.26891220320265

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  873

choose_one :  938

F1score :  0.8355941399891481

AUC : 0.9094392204212554

Confusion Matrix
[[738 168]
 [135 770]]
True label 0
0.8145695364238411  
0.18543046357615894  
True label 1
0.14917127071823205  
0.850828729281768  

Train_result {'acc': [0.92408693990939], 'loss': [0.19034918739444798]}
Saved model to disk



15

Epoch 1/1
 - 379s - loss: 0.1682 - acc: 0.9336

Test accuracy: 83.21369409166206

data size :  17500

zero :  8751

one :  8749

train_zero :  7845

train_one :  7844

test_zero :  906

test_one :  905

choose_zero :  944

choose_one :  867

F1score :  0.8284424379232507

AUC : 0.9098447428439014

Confusion Matrix
[[773 133]
 [171 734]]
True label 0
0.8532008830022075  
0.1467991169977925  
True label 1
0.18895027624309393  
0.8110497237569061  

Train_result {'acc': [0.9336477787022502], 'loss': [0.16818568251129015]}
Saved model to disk



