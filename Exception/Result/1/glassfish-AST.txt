Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3368: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
balanced_auto_exception.py:350: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("de..., inputs=Tensor("in...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-07-01 21:19:04.812857: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-07-01 21:19:04.818612: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100220000 Hz
2019-07-01 21:19:04.820923: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x95d5c40 executing computations on platform Host. Devices:
2019-07-01 21:19:04.820969: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
zero : 
25742

one : 
13729
glassfish-AST
all data

Sentence length Average : 33

Under 10 : 19609
Over 10, Under 200 : 18956
Over 200, Under 400 : 722
Over 400 : 184

glassfish-AST
updated_train_data

Sentence length Average : 61

Under 10 : 0
Over 10, Under 200 : 17107
Over 200, Under 400 : 811
Over 400 : 0


Test_zero:  1043
Train_zero:  9576
zero:  10619
Test_one:  901
Train_one:  8342
one:  9243

Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 400, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 400, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 256)          467968      masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 256)          0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 256)          0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 512)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 512)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            1026        dropout_3[0][0]                  
==================================================================================================
Total params: 936,962
Trainable params: 936,962
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1
 - 378s - loss: 0.5281 - acc: 0.7147

Test accuracy: 77.87021630615641

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  1091

choose_one :  712

F1score :  0.7526348419094854

AUC : 0.8661920359492163

Confusion Matrix
[[797 105]
 [294 607]]
True label 0
0.8835920177383592  
0.1164079822616408  
True label 1
0.3263041065482797  
0.6736958934517203  

Train_result {'acc': [0.7147138148180053], 'loss': [0.5281012569675554]}
Saved model to disk



2

Epoch 1/1
 - 374s - loss: 0.4409 - acc: 0.7760

Test accuracy: 79.14586799778147

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  974

choose_one :  829

F1score :  0.7826589595375723

AUC : 0.8872354196249055

Confusion Matrix
[[750 152]
 [224 677]]
True label 0
0.8314855875831486  
0.16851441241685144  
True label 1
0.2486126526082131  
0.7513873473917869  

Train_result {'acc': [0.7759664369265333], 'loss': [0.4409404494875307]}
Saved model to disk



3

Epoch 1/1
 - 376s - loss: 0.3965 - acc: 0.8074

Test accuracy: 81.03161397670549

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  894

choose_one :  909

F1score :  0.8110497237569061

AUC : 0.8978838491845719

Confusion Matrix
[[727 175]
 [167 734]]
True label 0
0.8059866962305987  
0.19401330376940132  
True label 1
0.1853496115427303  
0.8146503884572697  

Train_result {'acc': [0.8073718909271327], 'loss': [0.39650505725087826]}
Saved model to disk



4

Epoch 1/1
 - 405s - loss: 0.3620 - acc: 0.8282

Test accuracy: 80.97615085967831

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  811

choose_one :  992

F1score :  0.8188061278394083

AUC : 0.9084350721420644

Confusion Matrix
[[685 217]
 [126 775]]
True label 0
0.7594235033259423  
0.24057649667405764  
True label 1
0.13984461709211987  
0.8601553829078802  

Train_result {'acc': [0.8282289481641719], 'loss': [0.362016184338203]}
Saved model to disk



5

Epoch 1/1
 - 406s - loss: 0.3331 - acc: 0.8456

Test accuracy: 83.80476982806434

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  936

choose_one :  867

F1score :  0.834841628959276

AUC : 0.918470730969039

Confusion Matrix
[[773 129]
 [163 738]]
True label 0
0.8569844789356984  
0.14301552106430154  
True label 1
0.18091009988901222  
0.8190899001109878  

Train_result {'acc': [0.8456098291914657], 'loss': [0.3331196025098767]}
Saved model to disk



6

Epoch 1/1
 - 403s - loss: 0.3043 - acc: 0.8639

Test accuracy: 83.58291735995563

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  892

choose_one :  911

F1score :  0.8366445916114792

AUC : 0.9222359487241325

Confusion Matrix
[[749 153]
 [143 758]]
True label 0
0.8303769401330376  
0.1696230598669623  
True label 1
0.15871254162042175  
0.8412874583795783  

Train_result {'acc': [0.8639496553862277], 'loss': [0.304326376660984]}
Saved model to disk



7

Epoch 1/1
 - 404s - loss: 0.2854 - acc: 0.8720

Test accuracy: 83.74930671103716

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  997

choose_one :  806

F1score :  0.8283538371411834

AUC : 0.9199128339785062

Confusion Matrix
[[803  99]
 [194 707]]
True label 0
0.8902439024390244  
0.10975609756097561  
True label 1
0.2153163152053274  
0.7846836847946725  

Train_result {'acc': [0.8719808210967935], 'loss': [0.28539771297206984]}
Saved model to disk



8

Epoch 1/1
 - 405s - loss: 0.2646 - acc: 0.8809

Test accuracy: 85.02495840266224

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  950

choose_one :  853

F1score :  0.8460661345496009

AUC : 0.9272783874039932

Confusion Matrix
[[791 111]
 [159 742]]
True label 0
0.876940133037694  
0.12305986696230599  
True label 1
0.17647058823529413  
0.8235294117647058  

Train_result {'acc': [0.8809109979023074], 'loss': [0.2645980964565763]}
Saved model to disk



9

Epoch 1/1
 - 403s - loss: 0.2424 - acc: 0.8949

Test accuracy: 84.96949528563505

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  1035

choose_one :  768

F1score :  0.8376273217495506

AUC : 0.9260540764019284

Confusion Matrix
[[833  69]
 [202 699]]
True label 0
0.9235033259423503  
0.07649667405764966  
True label 1
0.2241953385127636  
0.7758046614872364  

Train_result {'acc': [0.8949355708791854], 'loss': [0.24235548347922403]}
Saved model to disk



10

Epoch 1/1
 - 406s - loss: 0.2205 - acc: 0.9053

Test accuracy: 84.96949528563505

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  965

choose_one :  838

F1score :  0.8441633122484187

AUC : 0.9223343857896252

Confusion Matrix
[[798 104]
 [167 734]]
True label 0
0.88470066518847  
0.11529933481152993  
True label 1
0.1853496115427303  
0.8146503884572697  

Train_result {'acc': [0.9053041654216125], 'loss': [0.22050474990725266]}
Saved model to disk



11

Epoch 1/1
 - 403s - loss: 0.2029 - acc: 0.9139

Test accuracy: 85.52412645590682

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  955

choose_one :  848

F1score :  0.8507718696397941

AUC : 0.9255409731980478

Confusion Matrix
[[798 104]
 [157 744]]
True label 0
0.88470066518847  
0.11529933481152993  
True label 1
0.17425083240843509  
0.8257491675915649  

Train_result {'acc': [0.9138747377884328], 'loss': [0.20292706613970046]}
Saved model to disk



12

Epoch 1/1
 - 405s - loss: 0.1876 - acc: 0.9241

Test accuracy: 86.07875762617859

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  1019

choose_one :  784

F1score :  0.8510385756676557

AUC : 0.9275035621913075

Confusion Matrix
[[835  67]
 [184 717]]
True label 0
0.9257206208425721  
0.07427937915742794  
True label 1
0.20421753607103219  
0.7957824639289678  

Train_result {'acc': [0.9241234641893916], 'loss': [0.18758857926236036]}
Saved model to disk



13

Epoch 1/1
 - 403s - loss: 0.1638 - acc: 0.9323

Test accuracy: 85.579589572934

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  966

choose_one :  837

F1score :  0.8504027617951669

AUC : 0.928714338096867

Confusion Matrix
[[804  98]
 [162 739]]
True label 0
0.8913525498891353  
0.10864745011086474  
True label 1
0.17980022197558268  
0.8201997780244173  

Train_result {'acc': [0.9322744980557149], 'loss': [0.1638394980363443]}
Saved model to disk



14

Epoch 1/1
 - 404s - loss: 0.1505 - acc: 0.9385

Test accuracy: 85.579589572934

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  1002

choose_one :  801

F1score :  0.8472385428907168

AUC : 0.9263961452045153

Confusion Matrix
[[822  80]
 [180 721]]
True label 0
0.9113082039911308  
0.08869179600886919  
True label 1
0.1997780244173141  
0.8002219755826859  

Train_result {'acc': [0.938507641601391], 'loss': [0.15053327229696725]}
Saved model to disk



15

Epoch 1/1
 - 405s - loss: 0.1443 - acc: 0.9442

Test accuracy: 86.02329450915141

data size :  18488

zero :  9245

one :  9243

train_zero :  8343

train_one :  8342

test_zero :  902

test_one :  901

choose_zero :  948

choose_one :  855

F1score :  0.8564920273348519

AUC : 0.9296144220144653

Confusion Matrix
[[799 103]
 [149 752]]
True label 0
0.885809312638581  
0.11419068736141907  
True label 1
0.16537180910099888  
0.8346281908990011  

Train_result {'acc': [0.9442013784872403], 'loss': [0.1442952648336601]}
Saved model to disk



