Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
/home/2014313303/taeha/JavaAutoException/model.py:159: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=Tensor("in..., outputs=Tensor("de...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-10-10 04:17:25.183992: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-10 04:17:25.194125: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-10 04:17:25.197405: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x6d387a0 executing computations on platform Host. Devices:
2019-10-10 04:17:25.197468: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero :  10049
one :  10279

hbase-AST
After set document size of train data, the number of zero and one label data :  44 56
After set document size of test data, the number of zero and one label data :  10005 10223

Sentence length Average : 30

Under 10 : 7492
Over 10, Under 30 : 6294
Over 30, Under 100 : 5232
Over 100, Under 150 : 774
Over 150, Under 200 : 347
Over 200, Under 400 : 186
Over 400 : 3

After balance out data.
hbase-AST

Sentence length Average : 30

Under 10 : 7492
Over 10, Under 30 : 6294
Over 30, Under 100 : 5232
Over 100, Under 150 : 774
Over 150, Under 200 : 347
Over 200, Under 400 : 186
Over 400 : 3

621
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 621, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 621, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 64)           0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 64)           0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            258         dropout_3[0][0]                  
==================================================================================================
Total params: 135,938
Trainable params: 135,938
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 1s - loss: 0.6968 - acc: 0.5312
100/100 [==============================] - 4s 37ms/step - loss: 0.7172 - acc: 0.5400

Test accuracy: 53.9994067629029

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  17034

choose_one :  3194

F1score :  0.3064768577178206

AUC :  0.5382470556759182

Confusion Matrix
[[8867 1138]
 [8167 2056]]
True label 0
0.8862568715642178  
0.1137431284357821  
True label 1
0.7988848674557371  
0.20111513254426294  

Train_result {'acc': [0.5400000095367432], 'loss': [0.7171795654296875]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.7735 - acc: 0.5000
100/100 [==============================] - 2s 15ms/step - loss: 0.7327 - acc: 0.5300

Test accuracy: 57.326478149100254

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  3251

choose_one :  16977

F1score :  0.6826470588235294

AUC :  0.6514775137130643

Confusion Matrix
[[2312 7693]
 [ 939 9284]]
True label 0
0.23108445777111444  
0.7689155422288856  
True label 1
0.09185170693534188  
0.9081482930646582  

Train_result {'acc': [0.5299999928474426], 'loss': [0.7327262878417968]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6477 - acc: 0.6094
100/100 [==============================] - 2s 16ms/step - loss: 0.6557 - acc: 0.6300

Test accuracy: 55.90765275855251

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  1548

choose_one :  18680

F1score :  0.6914161159741202

AUC :  0.6649420716620073

Confusion Matrix
[[1317 8688]
 [ 231 9992]]
True label 0
0.13163418290854573  
0.8683658170914542  
True label 1
0.022596106817959503  
0.9774038931820405  

Train_result {'acc': [0.6300000071525573], 'loss': [0.655719747543335]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6196 - acc: 0.6719
100/100 [==============================] - 2s 18ms/step - loss: 0.6248 - acc: 0.6200

Test accuracy: 59.93177773383429

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  5154

choose_one :  15074

F1score :  0.6796062774242005

AUC :  0.6851396418586168

Confusion Matrix
[[3527 6478]
 [1627 8596]]
True label 0
0.3525237381309345  
0.6474762618690655  
True label 1
0.15915093416805243  
0.8408490658319475  

Train_result {'acc': [0.6200000047683716], 'loss': [0.6248340892791748]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5687 - acc: 0.6875
100/100 [==============================] - 2s 17ms/step - loss: 0.5654 - acc: 0.7000

Test accuracy: 57.934546173620724

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  2542

choose_one :  17686

F1score :  0.6951162707370383

AUC :  0.6947496270450317

Confusion Matrix
[[2019 7986]
 [ 523 9700]]
True label 0
0.20179910044977512  
0.7982008995502249  
True label 1
0.051159150934168056  
0.948840849065832  

Train_result {'acc': [0.6999999952316284], 'loss': [0.5654310131072998]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6498 - acc: 0.6094
100/100 [==============================] - 2s 19ms/step - loss: 0.6344 - acc: 0.6000

Test accuracy: 60.742535099861584

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  4850

choose_one :  15378

F1score :  0.6898168040310925

AUC :  0.6972732991813786

Confusion Matrix
[[3457 6548]
 [1393 8830]]
True label 0
0.3455272363818091  
0.654472763618191  
True label 1
0.13626137141739217  
0.8637386285826079  

Train_result {'acc': [0.5999999928474427], 'loss': [0.6343572449684143]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4941 - acc: 0.7500
100/100 [==============================] - 2s 15ms/step - loss: 0.5753 - acc: 0.6700

Test accuracy: 64.5738580185881

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  9621

choose_one :  10607

F1score :  0.6559769563130101

AUC :  0.697919107549815

Confusion Matrix
[[6230 3775]
 [3391 6832]]
True label 0
0.6226886556721639  
0.3773113443278361  
True label 1
0.33170302259610684  
0.6682969774038932  

Train_result {'acc': [0.6700000047683716], 'loss': [0.5753384327888489]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5864 - acc: 0.7031
100/100 [==============================] - 2s 16ms/step - loss: 0.5525 - acc: 0.7000

Test accuracy: 64.03005734625272

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  6533

choose_one :  13695

F1score :  0.6957939627059119

AUC :  0.7109605815306179

Confusion Matrix
[[4631 5374]
 [1902 8321]]
True label 0
0.4628685657171414  
0.5371314342828586  
True label 1
0.18605106133228994  
0.8139489386677101  

Train_result {'acc': [0.6999999904632568], 'loss': [0.5524812924861908]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5041 - acc: 0.7188
100/100 [==============================] - 2s 20ms/step - loss: 0.5418 - acc: 0.7000

Test accuracy: 60.34210005932371

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  4963

choose_one :  15265

F1score :  0.6852636534839924

AUC :  0.713926251195052

Confusion Matrix
[[3473 6532]
 [1490 8733]]
True label 0
0.3471264367816092  
0.6528735632183909  
True label 1
0.14574977990805046  
0.8542502200919495  

Train_result {'acc': [0.7000000071525574], 'loss': [0.5418029117584229]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5274 - acc: 0.7344
100/100 [==============================] - 1s 15ms/step - loss: 0.5421 - acc: 0.7000

Test accuracy: 62.76448487245403

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  5943

choose_one :  14285

F1score :  0.6926717806430553

AUC :  0.7161634774904438

Confusion Matrix
[[4208 5797]
 [1735 8488]]
True label 0
0.4205897051474263  
0.5794102948525737  
True label 1
0.16971534774528024  
0.8302846522547197  

Train_result {'acc': [0.7000000023841858], 'loss': [0.5421441555023193]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5261 - acc: 0.7344
100/100 [==============================] - 2s 20ms/step - loss: 0.5472 - acc: 0.7300

Test accuracy: 60.47063476369389

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  4777

choose_one :  15451

F1score :  0.6885565163200126

AUC :  0.7085557534252535

Confusion Matrix
[[3393 6612]
 [1384 8839]]
True label 0
0.3391304347826087  
0.6608695652173913  
True label 1
0.13538100361928984  
0.8646189963807102  

Train_result {'acc': [0.7299999952316284], 'loss': [0.5472263050079346]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5369 - acc: 0.7500
100/100 [==============================] - 2s 17ms/step - loss: 0.5503 - acc: 0.7400

Test accuracy: 61.222068420011865

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  5145

choose_one :  15083

F1score :  0.6900339840354066

AUC :  0.7146570801462225

Confusion Matrix
[[3653 6352]
 [1492 8731]]
True label 0
0.3651174412793603  
0.6348825587206397  
True label 1
0.14594541719651766  
0.8540545828034823  

Train_result {'acc': [0.7399999952316284], 'loss': [0.5503341531753541]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4985 - acc: 0.7656
100/100 [==============================] - 2s 17ms/step - loss: 0.5155 - acc: 0.7400

Test accuracy: 65.88392327466877

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  10036

choose_one :  10192

F1score :  0.661964241978937

AUC :  0.7207209268299432

Confusion Matrix
[[6570 3435]
 [3466 6757]]
True label 0
0.656671664167916  
0.34332833583208394  
True label 1
0.33903942091362615  
0.6609605790863738  

Train_result {'acc': [0.7399999904632568], 'loss': [0.5154671692848205]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5503 - acc: 0.7031
100/100 [==============================] - 2s 17ms/step - loss: 0.4776 - acc: 0.7800

Test accuracy: 65.0533913387384

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  8014

choose_one :  12214

F1score :  0.6849400543744707

AUC :  0.7202491388561808

Confusion Matrix
[[5475 4530]
 [2539 7684]]
True label 0
0.5472263868065967  
0.4527736131934033  
True label 1
0.24836153770908737  
0.7516384622909127  

Train_result {'acc': [0.7800000071525574], 'loss': [0.47757707715034486]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4690 - acc: 0.7812
100/100 [==============================] - 2s 17ms/step - loss: 0.4709 - acc: 0.7900

Test accuracy: 66.07178168874826

data size :  20328

zero :  10049

one :  10279

train_zero :  44

train_one :  56

test_zero :  10005

test_one :  10223

choose_zero :  10642

choose_one :  9586

F1score :  0.653541319602201

AUC :  0.7179125735967974

Confusion Matrix
[[6892 3113]
 [3750 6473]]
True label 0
0.688855572213893  
0.31114442778610696  
True label 1
0.36681991587596596  
0.633180084124034  

Train_result {'acc': [0.7900000095367432], 'loss': [0.4709338140487671]}
Saved model to disk


[[53.9994067629029, 1], [57.326478149100254, 2], [55.90765275855251, 3], [59.93177773383429, 4], [57.934546173620724, 5], [60.742535099861584, 6], [64.5738580185881, 7], [64.03005734625272, 8], [60.34210005932371, 9], [62.76448487245403, 10], [60.47063476369389, 11], [61.222068420011865, 12], [65.88392327466877, 13], [65.0533913387384, 14], [66.07178168874826, 15]]
max accuracy :  [66.07178168874826, 15]
