Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
/home/2014313303/taeha/JavaAutoException/model.py:159: UserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=Tensor("in..., outputs=Tensor("de...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-10-14 19:14:15.260871: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-14 19:14:15.285963: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-14 19:14:15.288529: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x6e26540 executing computations on platform Host. Devices:
2019-10-14 19:14:15.288612: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero :  10792
one :  10820

glassfish-code
After set document size of train data, the number of zero and one label data :  53 47
After set document size of test data, the number of zero and one label data :  10739 10773

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
glassfish-code

Sentence length Average : 31

Under 10 : 5630
Over 10, Under 30 : 8221
Over 30, Under 100 : 6586
Over 100, Under 150 : 962
Over 150, Under 200 : 213
Over 200, Under 400 : 0
Over 400 : 0

175
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 175, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 175, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 64)           0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 64)           0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            258         dropout_3[0][0]                  
==================================================================================================
Total params: 135,938
Trainable params: 135,938
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 1s - loss: 0.6699 - acc: 0.6250
100/100 [==============================] - 3s 27ms/step - loss: 0.7636 - acc: 0.5500

Test accuracy: 50.24172554853106

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  20261

choose_one :  1251

F1score :  0.10978043912175647

AUC :  0.6110567768363668

Confusion Matrix
[[10148   591]
 [10113   660]]
True label 0
0.944966942918335  
0.05503305708166496  
True label 1
0.9387357282094124  
0.06126427179058758  

Train_result {'loss': [0.7635837984085083], 'acc': [0.5499999964237213]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.7204 - acc: 0.5625
100/100 [==============================] - 1s 5ms/step - loss: 0.6997 - acc: 0.5800

Test accuracy: 58.61844551878021

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  16537

choose_one :  4975

F1score :  0.43472186944373886

AUC :  0.6321223506217372

Confusion Matrix
[[9187 1552]
 [7350 3423]]
True label 0
0.8554800260731912  
0.14451997392680882  
True label 1
0.682261208576998  
0.31773879142300193  

Train_result {'loss': [0.6997159242630004], 'acc': [0.5799999976158142]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6197 - acc: 0.6875
100/100 [==============================] - 1s 6ms/step - loss: 0.6234 - acc: 0.6900

Test accuracy: 58.2140200818148

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  4998

choose_one :  16514

F1score :  0.670575732033569

AUC :  0.6427643916743329

Confusion Matrix
[[3374 7365]
 [1624 9149]]
True label 0
0.3141819536269671  
0.6858180463730329  
True label 1
0.1507472384665367  
0.8492527615334633  

Train_result {'loss': [0.6233721947669983], 'acc': [0.6899999904632569]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6103 - acc: 0.6562
100/100 [==============================] - 1s 6ms/step - loss: 0.6163 - acc: 0.6500

Test accuracy: 59.19951654890294

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9554

choose_one :  11958

F1score :  0.6138753244467907

AUC :  0.6497772731242148

Confusion Matrix
[[5758 4981]
 [3796 6977]]
True label 0
0.5361765527516529  
0.4638234472483471  
True label 1
0.35236238745010673  
0.6476376125498933  

Train_result {'loss': [0.6163035774230957], 'acc': [0.6500000023841858]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.6095 - acc: 0.6406
100/100 [==============================] - 0s 4ms/step - loss: 0.6027 - acc: 0.6500

Test accuracy: 59.3622164373373

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  14567

choose_one :  6945

F1score :  0.5066034541144598

AUC :  0.6495615307871994

Confusion Matrix
[[8282 2457]
 [6285 4488]]
True label 0
0.7712077474625197  
0.2287922525374802  
True label 1
0.5834029518240045  
0.4165970481759955  

Train_result {'loss': [0.602696418762207], 'acc': [0.6500000071525573]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5378 - acc: 0.7656
100/100 [==============================] - 0s 4ms/step - loss: 0.5377 - acc: 0.7500

Test accuracy: 61.17980661956117

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  7964

choose_one :  13548

F1score :  0.6566341844496526

AUC :  0.6607752010832764

Confusion Matrix
[[5176 5563]
 [2788 7985]]
True label 0
0.4819815625290995  
0.5180184374709005  
True label 1
0.25879513598811843  
0.7412048640118816  

Train_result {'loss': [0.5377034306526184], 'acc': [0.7499999952316284]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5193 - acc: 0.7500
100/100 [==============================] - 1s 6ms/step - loss: 0.5618 - acc: 0.7200

Test accuracy: 58.75325399776868

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  14982

choose_one :  6530

F1score :  0.4871987516615615

AUC :  0.6528051988237278

Confusion Matrix
[[8424 2315]
 [6558 4215]]
True label 0
0.7844305801285035  
0.21556941987149641  
True label 1
0.6087440824282929  
0.391255917571707  

Train_result {'loss': [0.561846113204956], 'acc': [0.7200000071525574]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4831 - acc: 0.7969
100/100 [==============================] - 0s 4ms/step - loss: 0.5228 - acc: 0.7600

Test accuracy: 60.817218296764594

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  4872

choose_one :  16640

F1score :  0.692518148323788

AUC :  0.6636844661204144

Confusion Matrix
[[3591 7148]
 [1281 9492]]
True label 0
0.334388676785548  
0.665611323214452  
True label 1
0.1189083820662768  
0.8810916179337231  

Train_result {'loss': [0.5227628111839294], 'acc': [0.7599999904632568]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5813 - acc: 0.6406
100/100 [==============================] - 0s 4ms/step - loss: 0.5356 - acc: 0.7100

Test accuracy: 59.59929341762737

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  13608

choose_one :  7904

F1score :  0.5346683086148739

AUC :  0.6594582864164305

Confusion Matrix
[[7828 2911]
 [5780 4993]]
True label 0
0.7289319303473322  
0.27106806965266783  
True label 1
0.5365265014387821  
0.46347349856121783  

Train_result {'loss': [0.5356044793128967], 'acc': [0.7099999928474426]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4842 - acc: 0.8125
100/100 [==============================] - 0s 4ms/step - loss: 0.4949 - acc: 0.7800

Test accuracy: 59.18092227593901

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  4256

choose_one :  17256

F1score :  0.6867173284812158

AUC :  0.6677409614229501

Confusion Matrix
[[3107 7632]
 [1149 9624]]
True label 0
0.2893193034733215  
0.7106806965266784  
True label 1
0.10665552770815928  
0.8933444722918407  

Train_result {'loss': [0.49487814664840696], 'acc': [0.7799999952316284]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4849 - acc: 0.7344
100/100 [==============================] - 0s 5ms/step - loss: 0.4997 - acc: 0.7100

Test accuracy: 59.34827073261435

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  14000

choose_one :  7512

F1score :  0.5217391304347825

AUC :  0.6667443734961211

Confusion Matrix
[[7997 2742]
 [6003 4770]]
True label 0
0.7446689635906509  
0.2553310364093491  
True label 1
0.5572263993316625  
0.4427736006683375  

Train_result {'loss': [0.4997362923622131], 'acc': [0.7100000071525574]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4622 - acc: 0.7344
100/100 [==============================] - 0s 4ms/step - loss: 0.4507 - acc: 0.7500

Test accuracy: 61.226292301971

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  9940

choose_one :  11572

F1score :  0.6267173864399195

AUC :  0.6711044310897608

Confusion Matrix
[[6169 4570]
 [3771 7002]]
True label 0
0.5744482726510848  
0.42555172734891517  
True label 1
0.35004177109440265  
0.6499582289055973  

Train_result {'loss': [0.45069198846817016], 'acc': [0.7500000047683716]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4264 - acc: 0.7969
100/100 [==============================] - 0s 5ms/step - loss: 0.4170 - acc: 0.7900

Test accuracy: 62.04908888062477

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  6179

choose_one :  15333

F1score :  0.6872749559488239

AUC :  0.6715033895347329

Confusion Matrix
[[4377 6362]
 [1802 8971]]
True label 0
0.40757984914796536  
0.5924201508520346  
True label 1
0.16727002691914972  
0.8327299730808503  

Train_result {'loss': [0.4169958305358887], 'acc': [0.7900000047683716]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4702 - acc: 0.7656
100/100 [==============================] - 0s 5ms/step - loss: 0.4465 - acc: 0.7900

Test accuracy: 61.08218668650056

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  10843

choose_one :  10669

F1score :  0.6095513478220316

AUC :  0.672197992645027

Confusion Matrix
[[6605 4134]
 [4238 6535]]
True label 0
0.6150479560480492  
0.3849520439519508  
True label 1
0.3933908846189548  
0.6066091153810452  

Train_result {'loss': [0.4464771544933319], 'acc': [0.7899999928474426]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.3823 - acc: 0.8281
100/100 [==============================] - 1s 5ms/step - loss: 0.4420 - acc: 0.7900

Test accuracy: 62.45816288583116

data size :  21612

zero :  10792

one :  10820

train_zero :  53

train_one :  47

test_zero :  10739

test_one :  10773

choose_zero :  6757

choose_one :  14755

F1score :  0.6836414916953932

AUC :  0.6724008256216654

Confusion Matrix
[[4710 6029]
 [2047 8726]]
True label 0
0.43858832293509636  
0.5614116770649036  
True label 1
0.19001206720504965  
0.8099879327949503  

Train_result {'loss': [0.44203667402267455], 'acc': [0.7899999952316284]}
Saved model to disk


[[50.24172554853106, 1], [58.61844551878021, 2], [58.2140200818148, 3], [59.19951654890294, 4], [59.3622164373373, 5], [61.17980661956117, 6], [58.75325399776868, 7], [60.817218296764594, 8], [59.59929341762737, 9], [59.18092227593901, 10], [59.34827073261435, 11], [61.226292301971, 12], [62.04908888062477, 13], [61.08218668650056, 14], [62.45816288583116, 15]]
max accuracy :  [62.45816288583116, 15]
