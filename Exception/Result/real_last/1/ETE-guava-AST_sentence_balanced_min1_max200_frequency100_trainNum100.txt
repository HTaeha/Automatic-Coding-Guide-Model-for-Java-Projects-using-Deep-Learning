Using TensorFlow backend.
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /usr/local/lib/python3.5/dist-packages/keras/backend/tensorflow_backend.py:3445: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
/home/2014313303/taeha/JavaAutoException/model.py:159: UserWarning: Update your `Model` call to the Keras 2 API: `Model(outputs=Tensor("de..., inputs=Tensor("in...)`
  model = Model(input=inputs, output=output)
WARNING:tensorflow:From /home/2014313303/.local/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-10-14 23:33:56.767654: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-10-14 23:33:56.774008: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100005000 Hz
2019-10-14 23:33:56.775790: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x8434190 executing computations on platform Host. Devices:
2019-10-14 23:33:56.775835: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
First data
zero :  9884
one :  9718

guava-AST
After set document size of train data, the number of zero and one label data :  55 45
After set document size of test data, the number of zero and one label data :  9829 9673

Sentence length Average : 27

Under 10 : 6120
Over 10, Under 30 : 7121
Over 30, Under 100 : 5710
Over 100, Under 150 : 587
Over 150, Under 200 : 64
Over 200, Under 400 : 0
Over 400 : 0

After balance out data.
guava-AST

Sentence length Average : 27

Under 10 : 6120
Over 10, Under 30 : 7121
Over 30, Under 100 : 5710
Over 100, Under 150 : 587
Over 150, Under 200 : 64
Over 200, Under 400 : 0
Over 400 : 0

193
Count model parameter.
Get a short summary of each layer dimensions and parameters.
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            (None, 193, 200)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, 193, 200)     0           input_1[0][0]                    
__________________________________________________________________________________________________
lstm_1 (LSTM)                   (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
lstm_2 (LSTM)                   (None, 64)           67840       masking_1[0][0]                  
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 64)           0           lstm_1[0][0]                     
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 64)           0           lstm_2[0][0]                     
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 128)          0           dropout_1[0][0]                  
                                                                 dropout_2[0][0]                  
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 128)          0           concatenate_1[0][0]              
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 2)            258         dropout_3[0][0]                  
==================================================================================================
Total params: 135,938
Trainable params: 135,938
Non-trainable params: 0
__________________________________________________________________________________________________
1

Epoch 1/1

 64/100 [==================>...........] - ETA: 1s - loss: 0.7182 - acc: 0.5469
100/100 [==============================] - 2s 23ms/step - loss: 0.7114 - acc: 0.5700

Test accuracy: 50.16408573479643

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  19256

choose_one :  246

F1score :  0.020163322915616493

AUC :  0.7033547780559402

Confusion Matrix
[[9683  146]
 [9573  100]]
True label 0
0.9851459965408486  
0.01485400345915149  
True label 1
0.989661945621834  
0.010338054378166029  

Train_result {'loss': [0.7113896632194519], 'acc': [0.5699999976158142]}
Saved model to disk


2

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.7386 - acc: 0.5312
100/100 [==============================] - 1s 6ms/step - loss: 0.7422 - acc: 0.5400

Test accuracy: 55.86093733976002

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  16027

choose_one :  3475

F1score :  0.345299665348342

AUC :  0.7077386169202028

Confusion Matrix
[[8624 1205]
 [7403 2270]]
True label 0
0.8774036015871401  
0.12259639841285991  
True label 1
0.7653261656156312  
0.23467383438436887  

Train_result {'loss': [0.742187659740448], 'acc': [0.5400000095367432]}
Saved model to disk


3

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5719 - acc: 0.6719
100/100 [==============================] - 1s 5ms/step - loss: 0.5985 - acc: 0.6400

Test accuracy: 67.33155573787303

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8912

choose_one :  10590

F1score :  0.6855845629965946

AUC :  0.7072608934184669

Confusion Matrix
[[6185 3644]
 [2727 6946]]
True label 0
0.629260352019534  
0.370739647980466  
True label 1
0.2819187428925876  
0.7180812571074123  

Train_result {'loss': [0.5985083389282226], 'acc': [0.6399999928474426]}
Saved model to disk


4

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5452 - acc: 0.7656
100/100 [==============================] - 1s 9ms/step - loss: 0.5616 - acc: 0.7500

Test accuracy: 64.75233309404163

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  10601

choose_one :  8901

F1score :  0.6299127813072037

AUC :  0.7126038500370182

Confusion Matrix
[[6778 3051]
 [3823 5850]]
True label 0
0.6895920236036219  
0.31040797639637807  
True label 1
0.3952238188772873  
0.6047761811227127  

Train_result {'loss': [0.5615937232971191], 'acc': [0.7499999952316284]}
Saved model to disk


5

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5642 - acc: 0.7500
100/100 [==============================] - 1s 8ms/step - loss: 0.5287 - acc: 0.7900

Test accuracy: 68.03404778997026

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7915

choose_one :  11587

F1score :  0.7067732831608655

AUC :  0.7048635092312598

Confusion Matrix
[[5755 4074]
 [2160 7513]]
True label 0
0.5855122596398413  
0.41448774036015873  
True label 1
0.22330197456838624  
0.7766980254316138  

Train_result {'loss': [0.5286516737937927], 'acc': [0.7899999976158142]}
Saved model to disk


6

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5148 - acc: 0.7969
100/100 [==============================] - 1s 9ms/step - loss: 0.5163 - acc: 0.7800

Test accuracy: 68.25966567531535

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7653

choose_one :  11849

F1score :  0.7123873245980857

AUC :  0.7186884771250748

Confusion Matrix
[[5646 4183]
 [2007 7666]]
True label 0
0.5744226269203377  
0.4255773730796622  
True label 1
0.2074847513697922  
0.7925152486302078  

Train_result {'loss': [0.5162782001495362], 'acc': [0.78]}
Saved model to disk


7

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5417 - acc: 0.7500
100/100 [==============================] - 1s 8ms/step - loss: 0.5160 - acc: 0.7700

Test accuracy: 67.5725566608553

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  7037

choose_one :  12465

F1score :  0.7143373385129641

AUC :  0.7067183532923484

Confusion Matrix
[[5271 4558]
 [1766 7907]]
True label 0
0.5362702207752569  
0.4637297792247431  
True label 1
0.18257004031841206  
0.8174299596815879  

Train_result {'loss': [0.5160166728496551], 'acc': [0.7700000095367432]}
Saved model to disk


8

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5533 - acc: 0.7500
100/100 [==============================] - 1s 11ms/step - loss: 0.5731 - acc: 0.7300

Test accuracy: 67.53666290636858

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  5408

choose_one :  14094

F1score :  0.7336222493373166

AUC :  0.7035162016896455

Confusion Matrix
[[4453 5376]
 [ 955 8718]]
True label 0
0.4530471055041205  
0.5469528944958796  
True label 1
0.09872841931148559  
0.9012715806885144  

Train_result {'loss': [0.5730577659606934], 'acc': [0.7299999904632568]}
Saved model to disk


9

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5491 - acc: 0.7500
100/100 [==============================] - 1s 11ms/step - loss: 0.5340 - acc: 0.7500

Test accuracy: 67.47513075581992

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  6518

choose_one :  12984

F1score :  0.7200423710111666

AUC :  0.7182162176779215

Confusion Matrix
[[5002 4827]
 [1516 8157]]
True label 0
0.5089022281005189  
0.4910977718994811  
True label 1
0.156724904372997  
0.843275095627003  

Train_result {'loss': [0.5340050196647644], 'acc': [0.75]}
Saved model to disk


10

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4738 - acc: 0.7969
100/100 [==============================] - 1s 8ms/step - loss: 0.4917 - acc: 0.7700

Test accuracy: 67.82381294226234

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  6516

choose_one :  12986

F1score :  0.7230680965620724

AUC :  0.7194212284063481

Confusion Matrix
[[5035 4794]
 [1481 8192]]
True label 0
0.512259639841286  
0.487740360158714  
True label 1
0.1531065853406389  
0.8468934146593611  

Train_result {'loss': [0.4916867756843567], 'acc': [0.7699999952316284]}
Saved model to disk


11

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.5306 - acc: 0.7344
100/100 [==============================] - 1s 12ms/step - loss: 0.4827 - acc: 0.8100

Test accuracy: 67.99302635627114

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  6737

choose_one :  12765

F1score :  0.7218112131205989

AUC :  0.7269687548740655

Confusion Matrix
[[5162 4667]
 [1575 8098]]
True label 0
0.5251805880557534  
0.4748194119442466  
True label 1
0.16282435645611495  
0.8371756435438851  

Train_result {'loss': [0.48269194722175596], 'acc': [0.8099999904632569]}
Saved model to disk


12

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4943 - acc: 0.7812
100/100 [==============================] - 1s 7ms/step - loss: 0.4756 - acc: 0.7800

Test accuracy: 69.51594708235052

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  8556

choose_one :  10946

F1score :  0.7116736990154713

AUC :  0.7373057311663899

Confusion Matrix
[[6220 3609]
 [2336 7337]]
True label 0
0.6328212432597415  
0.3671787567402584  
True label 1
0.24149695027395843  
0.7585030497260415  

Train_result {'loss': [0.47563331365585326], 'acc': [0.7800000047683716]}
Saved model to disk


13

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4913 - acc: 0.7656
100/100 [==============================] - 1s 6ms/step - loss: 0.4808 - acc: 0.7700

Test accuracy: 66.06501897241309

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  9031

choose_one :  10471

F1score :  0.6714654487688642

AUC :  0.7311791954633475

Confusion Matrix
[[6121 3708]
 [2910 6763]]
True label 0
0.6227490080374403  
0.3772509919625598  
True label 1
0.3008373824046314  
0.6991626175953686  

Train_result {'loss': [0.4807654905319214], 'acc': [0.7700000047683716]}
Saved model to disk


14

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4483 - acc: 0.7812
100/100 [==============================] - 1s 6ms/step - loss: 0.4486 - acc: 0.8000

Test accuracy: 65.69069838990873

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  12428

choose_one :  7074

F1score :  0.6004657550606078

AUC :  0.7444068669881985

Confusion Matrix
[[7783 2046]
 [4645 5028]]
True label 0
0.7918404720724387  
0.2081595279275613  
True label 1
0.480202625865812  
0.5197973741341879  

Train_result {'loss': [0.44864059567451475], 'acc': [0.7999999928474426]}
Saved model to disk


15

Epoch 1/1

 64/100 [==================>...........] - ETA: 0s - loss: 0.4947 - acc: 0.8125
100/100 [==============================] - 1s 9ms/step - loss: 0.4880 - acc: 0.8100

Test accuracy: 64.83437596143985

data size :  19602

zero :  9884

one :  9718

train_zero :  55

train_one :  45

test_zero :  9829

test_one :  9673

choose_zero :  13739

choose_one :  5763

F1score :  0.555713915522156

AUC :  0.7540586592501654

Confusion Matrix
[[8355 1474]
 [5384 4289]]
True label 0
0.850035608912402  
0.14996439108759793  
True label 1
0.556600847720459  
0.44339915227954096  

Train_result {'loss': [0.48798967480659483], 'acc': [0.8100000095367431]}
Saved model to disk


[[50.16408573479643, 1], [55.86093733976002, 2], [67.33155573787303, 3], [64.75233309404163, 4], [68.03404778997026, 5], [68.25966567531535, 6], [67.5725566608553, 7], [67.53666290636858, 8], [67.47513075581992, 9], [67.82381294226234, 10], [67.99302635627114, 11], [69.51594708235052, 12], [66.06501897241309, 13], [65.69069838990873, 14], [64.83437596143985, 15]]
max accuracy :  [69.51594708235052, 12]
