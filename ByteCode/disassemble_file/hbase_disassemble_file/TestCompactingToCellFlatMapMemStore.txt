Compiled from "TestCompactingToCellFlatMapMemStore.java"
public class org.apache.hadoop.hbase.regionserver.TestCompactingToCellFlatMapMemStore extends org.apache.hadoop.hbase.regionserver.TestCompactingMemStore {
  public static final org.apache.hadoop.hbase.HBaseClassTestRule CLASS_RULE;

  public final boolean toCellChunkMap;

  org.apache.hadoop.conf.Configuration conf;

  public static java.lang.Object[] data();
    Code:
       0: iconst_2
       1: anewarray     #1                  // class java/lang/Object
       4: dup
       5: iconst_0
       6: ldc           #2                  // String CHUNK_MAP
       8: aastore
       9: dup
      10: iconst_1
      11: ldc           #3                  // String ARRAY_MAP
      13: aastore
      14: areturn

  public org.apache.hadoop.hbase.regionserver.TestCompactingToCellFlatMapMemStore(java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore."<init>":()V
       4: aload_1
       5: ldc           #2                  // String CHUNK_MAP
       7: if_acmpne     18
      10: aload_0
      11: iconst_1
      12: putfield      #5                  // Field toCellChunkMap:Z
      15: goto          23
      18: aload_0
      19: iconst_0
      20: putfield      #5                  // Field toCellChunkMap:Z
      23: return

  public void tearDown() throws java.lang.Exception;
    Code:
       0: getstatic     #6                  // Field chunkCreator:Lorg/apache/hadoop/hbase/regionserver/ChunkCreator;
       3: invokevirtual #7                  // Method org/apache/hadoop/hbase/regionserver/ChunkCreator.clearChunksInPool:()V
       6: return

  public void setUp() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #8                  // Method compactingSetUp:()V
       4: aload_0
       5: invokestatic  #9                  // Method org/apache/hadoop/hbase/HBaseConfiguration.create:()Lorg/apache/hadoop/conf/Configuration;
       8: putfield      #10                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
      11: aload_0
      12: getfield      #10                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
      15: ldc           #12                 // String hbase.hregion.compacting.memstore.type
      17: getstatic     #13                 // Field org/apache/hadoop/hbase/MemoryCompactionPolicy.EAGER:Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;
      20: invokestatic  #14                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
      23: invokevirtual #15                 // Method org/apache/hadoop/conf/Configuration.set:(Ljava/lang/String;Ljava/lang/String;)V
      26: aload_0
      27: getfield      #10                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
      30: ldc           #16                 // String hbase.memstore.inmemoryflush.threshold.factor
      32: ldc2_w        #17                 // double 0.02d
      35: invokevirtual #19                 // Method org/apache/hadoop/conf/Configuration.setDouble:(Ljava/lang/String;D)V
      38: aload_0
      39: new           #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
      42: dup
      43: aload_0
      44: getfield      #10                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
      47: getstatic     #21                 // Field org/apache/hadoop/hbase/CellComparatorImpl.COMPARATOR:Lorg/apache/hadoop/hbase/CellComparatorImpl;
      50: aload_0
      51: getfield      #22                 // Field store:Lorg/apache/hadoop/hbase/regionserver/HStore;
      54: aload_0
      55: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
      58: getstatic     #13                 // Field org/apache/hadoop/hbase/MemoryCompactionPolicy.EAGER:Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;
      61: invokespecial #24                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore."<init>":(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/CellComparator;Lorg/apache/hadoop/hbase/regionserver/HStore;Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;)V
      64: putfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      67: return

  public void testCompaction1Bucket() throws java.io.IOException;
    Code:
       0: iconst_0
       1: istore_1
       2: iconst_4
       3: anewarray     #26                 // class java/lang/String
       6: dup
       7: iconst_0
       8: ldc           #27                 // String A
      10: aastore
      11: dup
      12: iconst_1
      13: ldc           #27                 // String A
      15: aastore
      16: dup
      17: iconst_2
      18: ldc           #28                 // String B
      20: aastore
      21: dup
      22: iconst_3
      23: ldc           #29                 // String C
      25: aastore
      26: astore_2
      27: aload_0
      28: getfield      #5                  // Field toCellChunkMap:Z
      31: ifeq          50
      34: aload_0
      35: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      38: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      41: getstatic     #30                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.CHUNK_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      44: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      47: goto          63
      50: aload_0
      51: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      54: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      57: getstatic     #32                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.ARRAY_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      60: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      63: aload_0
      64: aload_0
      65: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      68: aload_2
      69: invokespecial #33                 // Method addRowsByKeysDataSize:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)J
      72: lstore_3
      73: aload_0
      74: invokespecial #34                 // Method cellBeforeFlushSize:()J
      77: lstore        5
      79: aload_0
      80: invokespecial #35                 // Method cellAfterFlushSize:()J
      83: lstore        7
      85: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
      88: ldc2_w        #37                 // long 4l
      91: lload         5
      93: lmul
      94: ladd
      95: lstore        9
      97: lload_3
      98: aload_0
      99: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     102: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     105: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     108: lload         9
     110: aload_0
     111: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     114: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     117: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     120: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     123: ldc2_w        #37                 // long 4l
     126: aload_0
     127: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     130: invokevirtual #42                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getActive:()Lorg/apache/hadoop/hbase/regionserver/MutableSegment;
     133: invokevirtual #43                 // Method org/apache/hadoop/hbase/regionserver/MutableSegment.getCellsCount:()I
     136: i2l
     137: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     140: aload_0
     141: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     144: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     147: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     150: lconst_0
     151: aload_0
     152: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     155: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     158: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     161: i2l
     162: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     165: lload_3
     166: ldc2_w        #47                 // long 3l
     169: lmul
     170: ldc2_w        #37                 // long 4l
     173: ldiv
     174: lstore_3
     175: lload_3
     176: aload_0
     177: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     180: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     183: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     186: ldc2_w        #47                 // long 3l
     189: lload         7
     191: lmul
     192: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     195: ladd
     196: aload_0
     197: getfield      #5                  // Field toCellChunkMap:Z
     200: ifeq          209
     203: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     206: goto          212
     209: getstatic     #50                 // Field org/apache/hadoop/hbase/regionserver/CellArrayImmutableSegment.DEEP_OVERHEAD_CAM:J
     212: ladd
     213: lstore        9
     215: lload         9
     217: aload_0
     218: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     221: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     224: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     227: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     230: aload_0
     231: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     234: invokevirtual #51                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSegments:()Ljava/util/List;
     237: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     242: astore        11
     244: aload         11
     246: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     251: ifeq          277
     254: aload         11
     256: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     261: checkcast     #55                 // class org/apache/hadoop/hbase/regionserver/Segment
     264: astore        12
     266: iload_1
     267: aload         12
     269: invokevirtual #56                 // Method org/apache/hadoop/hbase/regionserver/Segment.getCellsCount:()I
     272: iadd
     273: istore_1
     274: goto          244
     277: ldc2_w        #47                 // long 3l
     280: iload_1
     281: i2l
     282: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     285: aload_0
     286: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     289: invokevirtual #57                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getFlushableSize:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;
     292: astore        11
     294: aload_0
     295: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     298: invokevirtual #58                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.snapshot:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSnapshot;
     301: astore        12
     303: aload_0
     304: getfield      #59                 // Field region:Lorg/apache/hadoop/hbase/regionserver/HRegion;
     307: aload         11
     309: invokevirtual #60                 // Method org/apache/hadoop/hbase/regionserver/HRegion.decrMemStoreSize:(Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;)V
     312: aload_0
     313: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     316: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     319: astore        13
     321: ldc2_w        #47                 // long 3l
     324: aload         13
     326: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     329: i2l
     330: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     333: lconst_0
     334: aload_0
     335: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     338: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     341: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     344: aload_0
     345: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     348: aload         12
     350: invokevirtual #61                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getId:()J
     353: invokevirtual #62                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.clearSnapshot:(J)V
     356: return

  public void testCompaction2Buckets() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field toCellChunkMap:Z
       4: ifeq          23
       7: aload_0
       8: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      11: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      14: getstatic     #30                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.CHUNK_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      17: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      20: goto          36
      23: aload_0
      24: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      27: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      30: getstatic     #32                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.ARRAY_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      33: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      36: iconst_4
      37: anewarray     #26                 // class java/lang/String
      40: dup
      41: iconst_0
      42: ldc           #27                 // String A
      44: aastore
      45: dup
      46: iconst_1
      47: ldc           #27                 // String A
      49: aastore
      50: dup
      51: iconst_2
      52: ldc           #28                 // String B
      54: aastore
      55: dup
      56: iconst_3
      57: ldc           #29                 // String C
      59: aastore
      60: astore_1
      61: iconst_3
      62: anewarray     #26                 // class java/lang/String
      65: dup
      66: iconst_0
      67: ldc           #27                 // String A
      69: aastore
      70: dup
      71: iconst_1
      72: ldc           #28                 // String B
      74: aastore
      75: dup
      76: iconst_2
      77: ldc           #63                 // String D
      79: aastore
      80: astore_2
      81: aload_0
      82: aload_0
      83: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      86: aload_1
      87: invokespecial #33                 // Method addRowsByKeysDataSize:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)J
      90: lstore_3
      91: aload_0
      92: invokespecial #34                 // Method cellBeforeFlushSize:()J
      95: lstore        5
      97: aload_0
      98: invokespecial #35                 // Method cellAfterFlushSize:()J
     101: lstore        7
     103: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     106: ldc2_w        #37                 // long 4l
     109: lload         5
     111: lmul
     112: ladd
     113: lstore        9
     115: lload_3
     116: aload_0
     117: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     120: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     123: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     126: lload         9
     128: aload_0
     129: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     132: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     135: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     138: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     141: aload_0
     142: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     145: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     148: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     151: iconst_0
     152: istore        11
     154: aload_0
     155: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     158: invokevirtual #51                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSegments:()Ljava/util/List;
     161: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     166: astore        12
     168: aload         12
     170: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     175: ifeq          203
     178: aload         12
     180: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     185: checkcast     #55                 // class org/apache/hadoop/hbase/regionserver/Segment
     188: astore        13
     190: iload         11
     192: aload         13
     194: invokevirtual #56                 // Method org/apache/hadoop/hbase/regionserver/Segment.getCellsCount:()I
     197: iadd
     198: istore        11
     200: goto          168
     203: ldc2_w        #47                 // long 3l
     206: iload         11
     208: i2l
     209: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     212: lconst_0
     213: aload_0
     214: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     217: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     220: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     223: i2l
     224: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     227: lload_3
     228: ldc2_w        #47                 // long 3l
     231: lmul
     232: ldc2_w        #37                 // long 4l
     235: ldiv
     236: lstore_3
     237: ldc2_w        #47                 // long 3l
     240: lload         7
     242: lmul
     243: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     246: ladd
     247: aload_0
     248: getfield      #5                  // Field toCellChunkMap:Z
     251: ifeq          260
     254: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     257: goto          263
     260: getstatic     #50                 // Field org/apache/hadoop/hbase/regionserver/CellArrayImmutableSegment.DEEP_OVERHEAD_CAM:J
     263: ladd
     264: lstore        9
     266: lload_3
     267: aload_0
     268: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     271: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     274: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     277: lload         9
     279: aload_0
     280: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     283: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     286: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     289: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     292: aload_0
     293: aload_0
     294: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     297: aload_2
     298: invokespecial #33                 // Method addRowsByKeysDataSize:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)J
     301: lstore        12
     303: ldc2_w        #47                 // long 3l
     306: lload         5
     308: lmul
     309: lstore        14
     311: lload_3
     312: lload         12
     314: ladd
     315: aload_0
     316: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     319: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     322: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     325: lload         9
     327: lload         14
     329: ladd
     330: aload_0
     331: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     334: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     337: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     340: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     343: aload_0
     344: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     347: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     350: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     353: lconst_0
     354: aload_0
     355: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     358: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     361: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     364: i2l
     365: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     368: iconst_0
     369: istore        11
     371: aload_0
     372: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     375: invokevirtual #51                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSegments:()Ljava/util/List;
     378: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     383: astore        16
     385: aload         16
     387: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     392: ifeq          420
     395: aload         16
     397: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     402: checkcast     #55                 // class org/apache/hadoop/hbase/regionserver/Segment
     405: astore        17
     407: iload         11
     409: aload         17
     411: invokevirtual #56                 // Method org/apache/hadoop/hbase/regionserver/Segment.getCellsCount:()I
     414: iadd
     415: istore        11
     417: goto          385
     420: ldc2_w        #37                 // long 4l
     423: iload         11
     425: i2l
     426: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     429: lload         12
     431: ldc2_w        #47                 // long 3l
     434: ldiv
     435: lstore        12
     437: lload_3
     438: lload         12
     440: ladd
     441: aload_0
     442: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     445: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     448: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     451: lconst_1
     452: lload         7
     454: lmul
     455: lstore        14
     457: lload         9
     459: lload         14
     461: ladd
     462: aload_0
     463: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     466: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     469: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     472: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     475: aload_0
     476: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     479: invokevirtual #57                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getFlushableSize:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;
     482: astore        16
     484: aload_0
     485: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     488: invokevirtual #58                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.snapshot:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSnapshot;
     491: astore        17
     493: aload_0
     494: getfield      #59                 // Field region:Lorg/apache/hadoop/hbase/regionserver/HRegion;
     497: aload         16
     499: invokevirtual #60                 // Method org/apache/hadoop/hbase/regionserver/HRegion.decrMemStoreSize:(Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;)V
     502: aload_0
     503: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     506: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     509: astore        18
     511: ldc2_w        #37                 // long 4l
     514: aload         18
     516: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     519: i2l
     520: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     523: lconst_0
     524: aload_0
     525: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     528: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     531: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     534: aload_0
     535: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     538: aload         17
     540: invokevirtual #61                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getId:()J
     543: invokevirtual #62                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.clearSnapshot:(J)V
     546: return

  public void testCompaction3Buckets() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field toCellChunkMap:Z
       4: ifeq          23
       7: aload_0
       8: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      11: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      14: getstatic     #30                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.CHUNK_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      17: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      20: goto          36
      23: aload_0
      24: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      27: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      30: getstatic     #32                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.ARRAY_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      33: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      36: iconst_4
      37: anewarray     #26                 // class java/lang/String
      40: dup
      41: iconst_0
      42: ldc           #27                 // String A
      44: aastore
      45: dup
      46: iconst_1
      47: ldc           #27                 // String A
      49: aastore
      50: dup
      51: iconst_2
      52: ldc           #28                 // String B
      54: aastore
      55: dup
      56: iconst_3
      57: ldc           #29                 // String C
      59: aastore
      60: astore_1
      61: iconst_3
      62: anewarray     #26                 // class java/lang/String
      65: dup
      66: iconst_0
      67: ldc           #27                 // String A
      69: aastore
      70: dup
      71: iconst_1
      72: ldc           #28                 // String B
      74: aastore
      75: dup
      76: iconst_2
      77: ldc           #63                 // String D
      79: aastore
      80: astore_2
      81: iconst_3
      82: anewarray     #26                 // class java/lang/String
      85: dup
      86: iconst_0
      87: ldc           #63                 // String D
      89: aastore
      90: dup
      91: iconst_1
      92: ldc           #28                 // String B
      94: aastore
      95: dup
      96: iconst_2
      97: ldc           #28                 // String B
      99: aastore
     100: astore_3
     101: aload_0
     102: aload_0
     103: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     106: aload_1
     107: invokespecial #33                 // Method addRowsByKeysDataSize:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)J
     110: lstore        4
     112: aload_0
     113: invokespecial #34                 // Method cellBeforeFlushSize:()J
     116: lstore        6
     118: aload_0
     119: invokespecial #35                 // Method cellAfterFlushSize:()J
     122: lstore        8
     124: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     127: ldc2_w        #37                 // long 4l
     130: lload         6
     132: lmul
     133: ladd
     134: lstore        10
     136: lload         4
     138: aload_0
     139: getfield      #59                 // Field region:Lorg/apache/hadoop/hbase/regionserver/HRegion;
     142: invokevirtual #64                 // Method org/apache/hadoop/hbase/regionserver/HRegion.getMemStoreDataSize:()J
     145: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     148: lload         10
     150: aload_0
     151: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     154: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     157: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     160: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     163: aload_0
     164: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     167: invokevirtual #57                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getFlushableSize:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;
     170: astore        12
     172: aload_0
     173: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     176: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     179: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     182: lconst_0
     183: aload_0
     184: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     187: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     190: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     193: i2l
     194: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     197: lload         4
     199: ldc2_w        #47                 // long 3l
     202: lmul
     203: ldc2_w        #37                 // long 4l
     206: ldiv
     207: lstore        4
     209: ldc2_w        #47                 // long 3l
     212: lload         8
     214: lmul
     215: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     218: ladd
     219: aload_0
     220: getfield      #5                  // Field toCellChunkMap:Z
     223: ifeq          232
     226: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     229: goto          235
     232: getstatic     #50                 // Field org/apache/hadoop/hbase/regionserver/CellArrayImmutableSegment.DEEP_OVERHEAD_CAM:J
     235: ladd
     236: lstore        10
     238: lload         4
     240: aload_0
     241: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     244: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     247: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     250: lload         10
     252: aload_0
     253: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     256: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     259: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     262: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     265: aload_0
     266: aload_0
     267: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     270: aload_2
     271: invokespecial #33                 // Method addRowsByKeysDataSize:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)J
     274: lstore        13
     276: ldc2_w        #47                 // long 3l
     279: lload         6
     281: lmul
     282: lstore        15
     284: lload         4
     286: lload         13
     288: ladd
     289: aload_0
     290: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     293: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     296: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     299: lload         10
     301: lload         15
     303: ladd
     304: aload_0
     305: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     308: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     311: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     314: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     317: aload_0
     318: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     321: checkcast     #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
     324: invokevirtual #65                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore.disableCompaction:()V
     327: aload_0
     328: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     331: invokevirtual #57                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getFlushableSize:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;
     334: astore        12
     336: aload_0
     337: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     340: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     343: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     346: lload         15
     348: getstatic     #66                 // Field org/apache/hadoop/hbase/regionserver/CSLMImmutableSegment.DEEP_OVERHEAD_CSLM:J
     351: ladd
     352: lstore        15
     354: lconst_0
     355: aload_0
     356: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     359: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     362: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     365: i2l
     366: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     369: lload         4
     371: lload         13
     373: ladd
     374: aload_0
     375: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     378: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     381: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     384: lload         10
     386: lload         15
     388: ladd
     389: aload_0
     390: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     393: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     396: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     399: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     402: aload_0
     403: aload_0
     404: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     407: aload_3
     408: invokespecial #33                 // Method addRowsByKeysDataSize:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)J
     411: lstore        17
     413: ldc2_w        #47                 // long 3l
     416: lload         6
     418: lmul
     419: lstore        19
     421: lload         4
     423: lload         13
     425: ladd
     426: lload         17
     428: ladd
     429: aload_0
     430: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     433: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     436: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     439: lload         10
     441: lload         15
     443: ladd
     444: lload         19
     446: ladd
     447: aload_0
     448: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     451: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     454: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     457: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     460: aload_0
     461: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     464: checkcast     #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
     467: invokevirtual #67                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore.enableCompaction:()V
     470: aload_0
     471: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     474: invokevirtual #57                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getFlushableSize:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;
     477: astore        12
     479: aload_0
     480: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     483: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     486: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     489: aload_0
     490: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     493: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     496: invokevirtual #68                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.isMemStoreFlushingInMemory:()Z
     499: ifeq          511
     502: ldc2_w        #69                 // long 10l
     505: invokestatic  #71                 // Method org/apache/hadoop/hbase/util/Threads.sleep:(J)V
     508: goto          489
     511: lconst_0
     512: aload_0
     513: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     516: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     519: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     522: i2l
     523: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     526: lload         13
     528: ldc2_w        #47                 // long 3l
     531: ldiv
     532: lstore        13
     534: lconst_0
     535: lstore        17
     537: lload         4
     539: lload         13
     541: ladd
     542: lload         17
     544: ladd
     545: aload_0
     546: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     549: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     552: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     555: ldc2_w        #37                 // long 4l
     558: lload         8
     560: lmul
     561: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     564: ladd
     565: aload_0
     566: getfield      #5                  // Field toCellChunkMap:Z
     569: ifeq          578
     572: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     575: goto          581
     578: getstatic     #50                 // Field org/apache/hadoop/hbase/regionserver/CellArrayImmutableSegment.DEEP_OVERHEAD_CAM:J
     581: ladd
     582: lstore        21
     584: lload         21
     586: aload_0
     587: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     590: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     593: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     596: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     599: aload_0
     600: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     603: invokevirtual #57                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getFlushableSize:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;
     606: astore        12
     608: aload_0
     609: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     612: invokevirtual #58                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.snapshot:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSnapshot;
     615: astore        23
     617: aload_0
     618: getfield      #59                 // Field region:Lorg/apache/hadoop/hbase/regionserver/HRegion;
     621: aload         12
     623: invokevirtual #72                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSize.getDataSize:()J
     626: aload         12
     628: invokevirtual #73                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSize.getHeapSize:()J
     631: aload         12
     633: invokevirtual #74                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSize.getOffHeapSize:()J
     636: aload         12
     638: invokevirtual #75                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSize.getCellsCount:()I
     641: invokevirtual #76                 // Method org/apache/hadoop/hbase/regionserver/HRegion.decrMemStoreSize:(JJJI)V
     644: aload_0
     645: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     648: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     651: astore        24
     653: ldc2_w        #37                 // long 4l
     656: aload         24
     658: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     661: i2l
     662: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     665: lconst_0
     666: aload_0
     667: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     670: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     673: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     676: aload_0
     677: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     680: aload         23
     682: invokevirtual #61                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getId:()J
     685: invokevirtual #62                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.clearSnapshot:(J)V
     688: return

  public void testMerging() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field toCellChunkMap:Z
       4: ifeq          20
       7: aload_0
       8: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      11: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      14: getstatic     #30                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.CHUNK_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      17: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      20: bipush        6
      22: anewarray     #26                 // class java/lang/String
      25: dup
      26: iconst_0
      27: ldc           #27                 // String A
      29: aastore
      30: dup
      31: iconst_1
      32: ldc           #27                 // String A
      34: aastore
      35: dup
      36: iconst_2
      37: ldc           #28                 // String B
      39: aastore
      40: dup
      41: iconst_3
      42: ldc           #29                 // String C
      44: aastore
      45: dup
      46: iconst_4
      47: ldc           #77                 // String F
      49: aastore
      50: dup
      51: iconst_5
      52: ldc           #78                 // String H
      54: aastore
      55: astore_1
      56: bipush        6
      58: anewarray     #26                 // class java/lang/String
      61: dup
      62: iconst_0
      63: ldc           #27                 // String A
      65: aastore
      66: dup
      67: iconst_1
      68: ldc           #28                 // String B
      70: aastore
      71: dup
      72: iconst_2
      73: ldc           #63                 // String D
      75: aastore
      76: dup
      77: iconst_3
      78: ldc           #79                 // String G
      80: aastore
      81: dup
      82: iconst_4
      83: ldc           #80                 // String I
      85: aastore
      86: dup
      87: iconst_5
      88: ldc           #81                 // String J
      90: aastore
      91: astore_2
      92: iconst_4
      93: anewarray     #26                 // class java/lang/String
      96: dup
      97: iconst_0
      98: ldc           #63                 // String D
     100: aastore
     101: dup
     102: iconst_1
     103: ldc           #28                 // String B
     105: aastore
     106: dup
     107: iconst_2
     108: ldc           #28                 // String B
     110: aastore
     111: dup
     112: iconst_3
     113: ldc           #82                 // String E
     115: aastore
     116: astore_3
     117: getstatic     #83                 // Field org/apache/hadoop/hbase/MemoryCompactionPolicy.BASIC:Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;
     120: astore        4
     122: aload_0
     123: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     126: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
     129: ldc           #12                 // String hbase.hregion.compacting.memstore.type
     131: aload         4
     133: invokestatic  #14                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
     136: invokevirtual #15                 // Method org/apache/hadoop/conf/Configuration.set:(Ljava/lang/String;Ljava/lang/String;)V
     139: aload_0
     140: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     143: checkcast     #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
     146: aload         4
     148: aload_0
     149: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     152: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
     155: invokevirtual #85                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore.initiateType:(Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;Lorg/apache/hadoop/conf/Configuration;)V
     158: aload_0
     159: aload_0
     160: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     163: aload_1
     164: invokespecial #33                 // Method addRowsByKeysDataSize:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)J
     167: pop2
     168: aload_0
     169: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     172: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     175: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     178: aload_0
     179: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     182: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     185: invokevirtual #68                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.isMemStoreFlushingInMemory:()Z
     188: ifeq          200
     191: ldc2_w        #69                 // long 10l
     194: invokestatic  #71                 // Method org/apache/hadoop/hbase/util/Threads.sleep:(J)V
     197: goto          178
     200: lconst_0
     201: aload_0
     202: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     205: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     208: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     211: i2l
     212: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     215: aload_0
     216: aload_0
     217: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     220: aload_2
     221: invokespecial #33                 // Method addRowsByKeysDataSize:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)J
     224: pop2
     225: iconst_0
     226: istore        5
     228: aload_0
     229: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     232: invokevirtual #51                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSegments:()Ljava/util/List;
     235: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     240: astore        6
     242: aload         6
     244: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     249: ifeq          277
     252: aload         6
     254: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     259: checkcast     #55                 // class org/apache/hadoop/hbase/regionserver/Segment
     262: astore        7
     264: iload         5
     266: aload         7
     268: invokevirtual #56                 // Method org/apache/hadoop/hbase/regionserver/Segment.getCellsCount:()I
     271: iadd
     272: istore        5
     274: goto          242
     277: ldc2_w        #86                 // long 12l
     280: iload         5
     282: i2l
     283: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     286: aload_0
     287: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     290: checkcast     #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
     293: invokevirtual #65                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore.disableCompaction:()V
     296: aload_0
     297: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     300: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     303: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     306: lconst_0
     307: aload_0
     308: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     311: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     314: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     317: i2l
     318: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     321: iconst_0
     322: istore        6
     324: aload_0
     325: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     328: invokevirtual #51                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSegments:()Ljava/util/List;
     331: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     336: astore        7
     338: aload         7
     340: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     345: ifeq          373
     348: aload         7
     350: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     355: checkcast     #55                 // class org/apache/hadoop/hbase/regionserver/Segment
     358: astore        8
     360: iload         6
     362: aload         8
     364: invokevirtual #56                 // Method org/apache/hadoop/hbase/regionserver/Segment.getCellsCount:()I
     367: iadd
     368: istore        6
     370: goto          338
     373: ldc2_w        #86                 // long 12l
     376: iload         6
     378: i2l
     379: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     382: aload_0
     383: aload_0
     384: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     387: aload_3
     388: invokespecial #33                 // Method addRowsByKeysDataSize:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)J
     391: pop2
     392: iconst_0
     393: istore        7
     395: aload_0
     396: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     399: invokevirtual #51                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSegments:()Ljava/util/List;
     402: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     407: astore        8
     409: aload         8
     411: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     416: ifeq          444
     419: aload         8
     421: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     426: checkcast     #55                 // class org/apache/hadoop/hbase/regionserver/Segment
     429: astore        9
     431: iload         7
     433: aload         9
     435: invokevirtual #56                 // Method org/apache/hadoop/hbase/regionserver/Segment.getCellsCount:()I
     438: iadd
     439: istore        7
     441: goto          409
     444: ldc2_w        #88                 // long 16l
     447: iload         7
     449: i2l
     450: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     453: aload_0
     454: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     457: checkcast     #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
     460: invokevirtual #67                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore.enableCompaction:()V
     463: aload_0
     464: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     467: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     470: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     473: aload_0
     474: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     477: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     480: invokevirtual #68                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.isMemStoreFlushingInMemory:()Z
     483: ifeq          495
     486: ldc2_w        #69                 // long 10l
     489: invokestatic  #71                 // Method org/apache/hadoop/hbase/util/Threads.sleep:(J)V
     492: goto          473
     495: lconst_0
     496: aload_0
     497: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     500: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     503: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     506: i2l
     507: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     510: iconst_0
     511: istore        8
     513: aload_0
     514: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     517: invokevirtual #51                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSegments:()Ljava/util/List;
     520: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     525: astore        9
     527: aload         9
     529: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     534: ifeq          562
     537: aload         9
     539: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     544: checkcast     #55                 // class org/apache/hadoop/hbase/regionserver/Segment
     547: astore        10
     549: iload         8
     551: aload         10
     553: invokevirtual #56                 // Method org/apache/hadoop/hbase/regionserver/Segment.getCellsCount:()I
     556: iadd
     557: istore        8
     559: goto          527
     562: ldc2_w        #88                 // long 16l
     565: iload         8
     567: i2l
     568: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     571: aload_0
     572: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     575: invokevirtual #58                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.snapshot:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSnapshot;
     578: astore        9
     580: aload_0
     581: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     584: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     587: astore        10
     589: aload_0
     590: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     593: aload         9
     595: invokevirtual #61                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getId:()J
     598: invokevirtual #62                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.clearSnapshot:(J)V
     601: return

  public void testTimeRangeAfterCompaction() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field toCellChunkMap:Z
       4: ifeq          20
       7: aload_0
       8: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      11: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      14: getstatic     #30                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.CHUNK_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      17: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      20: aload_0
      21: iconst_1
      22: invokespecial #90                 // Method testTimeRange:(Z)V
      25: return

  public void testTimeRangeAfterMerge() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field toCellChunkMap:Z
       4: ifeq          20
       7: aload_0
       8: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      11: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      14: getstatic     #30                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.CHUNK_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      17: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      20: getstatic     #83                 // Field org/apache/hadoop/hbase/MemoryCompactionPolicy.BASIC:Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;
      23: astore_1
      24: aload_0
      25: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      28: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      31: ldc           #12                 // String hbase.hregion.compacting.memstore.type
      33: aload_1
      34: invokestatic  #14                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
      37: invokevirtual #15                 // Method org/apache/hadoop/conf/Configuration.set:(Ljava/lang/String;Ljava/lang/String;)V
      40: aload_0
      41: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      44: checkcast     #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
      47: aload_1
      48: aload_0
      49: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      52: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      55: invokevirtual #85                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore.initiateType:(Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;Lorg/apache/hadoop/conf/Configuration;)V
      58: aload_0
      59: iconst_0
      60: invokespecial #90                 // Method testTimeRange:(Z)V
      63: return

  public void testCountOfCellsAfterFlatteningByScan() throws java.io.IOException;
    Code:
       0: iconst_3
       1: anewarray     #26                 // class java/lang/String
       4: dup
       5: iconst_0
       6: ldc           #27                 // String A
       8: aastore
       9: dup
      10: iconst_1
      11: ldc           #28                 // String B
      13: aastore
      14: dup
      15: iconst_2
      16: ldc           #29                 // String C
      18: aastore
      19: astore_1
      20: aload_0
      21: aload_0
      22: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      25: aload_1
      26: invokespecial #117                // Method addRowsByKeysWith50Cols:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)V
      29: aload_0
      30: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      33: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      36: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
      39: aload_0
      40: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      43: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      46: invokevirtual #68                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.isMemStoreFlushingInMemory:()Z
      49: ifeq          61
      52: ldc2_w        #69                 // long 10l
      55: invokestatic  #71                 // Method org/apache/hadoop/hbase/util/Threads.sleep:(J)V
      58: goto          39
      61: aload_0
      62: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      65: ldc2_w        #119                // long 9223372036854775807l
      68: invokevirtual #121                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getScanners:(J)Ljava/util/List;
      71: astore_2
      72: iconst_0
      73: istore_3
      74: iconst_0
      75: istore        4
      77: iload         4
      79: aload_2
      80: invokeinterface #122,  1          // InterfaceMethod java/util/List.size:()I
      85: if_icmpge     139
      88: aload_2
      89: iload         4
      91: invokeinterface #123,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      96: checkcast     #124                // class org/apache/hadoop/hbase/regionserver/KeyValueScanner
      99: getstatic     #125                // Field org/apache/hadoop/hbase/KeyValue.LOWESTKEY:Lorg/apache/hadoop/hbase/KeyValue;
     102: invokeinterface #126,  2          // InterfaceMethod org/apache/hadoop/hbase/regionserver/KeyValueScanner.seek:(Lorg/apache/hadoop/hbase/Cell;)Z
     107: pop
     108: aload_2
     109: iload         4
     111: invokeinterface #123,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     116: checkcast     #124                // class org/apache/hadoop/hbase/regionserver/KeyValueScanner
     119: invokeinterface #127,  1          // InterfaceMethod org/apache/hadoop/hbase/regionserver/KeyValueScanner.next:()Lorg/apache/hadoop/hbase/Cell;
     124: ifnull        133
     127: iinc          3, 1
     130: goto          108
     133: iinc          4, 1
     136: goto          77
     139: ldc           #128                // String the count should be
     141: ldc2_w        #129                // long 150l
     144: iload_3
     145: i2l
     146: invokestatic  #131                // Method org/junit/Assert.assertEquals:(Ljava/lang/String;JJ)V
     149: iconst_0
     150: istore        4
     152: iload         4
     154: aload_2
     155: invokeinterface #122,  1          // InterfaceMethod java/util/List.size:()I
     160: if_icmpge     185
     163: aload_2
     164: iload         4
     166: invokeinterface #123,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     171: checkcast     #124                // class org/apache/hadoop/hbase/regionserver/KeyValueScanner
     174: invokeinterface #132,  1          // InterfaceMethod org/apache/hadoop/hbase/regionserver/KeyValueScanner.close:()V
     179: iinc          4, 1
     182: goto          152
     185: return

  public void testCountOfCellsAfterFlatteningByIterator() throws java.io.IOException;
    Code:
       0: iconst_3
       1: anewarray     #26                 // class java/lang/String
       4: dup
       5: iconst_0
       6: ldc           #27                 // String A
       8: aastore
       9: dup
      10: iconst_1
      11: ldc           #28                 // String B
      13: aastore
      14: dup
      15: iconst_2
      16: ldc           #29                 // String C
      18: aastore
      19: astore_1
      20: aload_0
      21: aload_0
      22: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      25: aload_1
      26: invokespecial #117                // Method addRowsByKeysWith50Cols:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)V
      29: aload_0
      30: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      33: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      36: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
      39: aload_0
      40: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      43: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      46: invokevirtual #68                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.isMemStoreFlushingInMemory:()Z
      49: ifeq          61
      52: ldc2_w        #69                 // long 10l
      55: invokestatic  #71                 // Method org/apache/hadoop/hbase/util/Threads.sleep:(J)V
      58: goto          39
      61: new           #133                // class org/apache/hadoop/hbase/regionserver/MemStoreMergerSegmentsIterator
      64: dup
      65: aload_0
      66: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      69: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      72: invokevirtual #134                // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.getImmutableSegments:()Lorg/apache/hadoop/hbase/regionserver/VersionedSegmentsList;
      75: invokevirtual #135                // Method org/apache/hadoop/hbase/regionserver/VersionedSegmentsList.getStoreSegments:()Ljava/util/List;
      78: getstatic     #21                 // Field org/apache/hadoop/hbase/CellComparatorImpl.COMPARATOR:Lorg/apache/hadoop/hbase/CellComparatorImpl;
      81: bipush        10
      83: invokespecial #136                // Method org/apache/hadoop/hbase/regionserver/MemStoreMergerSegmentsIterator."<init>":(Ljava/util/List;Lorg/apache/hadoop/hbase/CellComparator;I)V
      86: astore_2
      87: iconst_0
      88: istore_3
      89: aload_2
      90: invokevirtual #137                // Method org/apache/hadoop/hbase/regionserver/MemStoreSegmentsIterator.next:()Ljava/lang/Object;
      93: ifnull        102
      96: iinc          3, 1
      99: goto          89
     102: aload_2
     103: invokevirtual #138                // Method org/apache/hadoop/hbase/regionserver/MemStoreSegmentsIterator.close:()V
     106: goto          118
     109: astore        4
     111: aload_2
     112: invokevirtual #138                // Method org/apache/hadoop/hbase/regionserver/MemStoreSegmentsIterator.close:()V
     115: aload         4
     117: athrow
     118: ldc           #128                // String the count should be
     120: ldc2_w        #129                // long 150l
     123: iload_3
     124: i2l
     125: invokestatic  #131                // Method org/junit/Assert.assertEquals:(Ljava/lang/String;JJ)V
     128: return
    Exception table:
       from    to  target type
          89   102   109   any
         109   111   109   any

  public void testPuttingBackChunksWithOpeningScanner() throws java.io.IOException;
    Code:
       0: ldc           #147                // String testrow
       2: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
       5: astore_1
       6: ldc           #139                // String testfamily
       8: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      11: astore_2
      12: ldc           #148                // String testqualifier1
      14: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      17: astore_3
      18: ldc           #149                // String testqualifier2
      20: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      23: astore        4
      25: ldc           #150                // String testqualifier3
      27: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      30: astore        5
      32: ldc           #151                // String testqualifier4
      34: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      37: astore        6
      39: ldc           #152                // String testqualifier5
      41: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      44: astore        7
      46: ldc           #153                // String testqualifier6
      48: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      51: astore        8
      53: ldc           #154                // String testqualifier7
      55: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      58: astore        9
      60: ldc           #155                // String testval
      62: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      65: astore        10
      67: aload_0
      68: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      71: new           #97                 // class org/apache/hadoop/hbase/KeyValue
      74: dup
      75: aload_1
      76: aload_2
      77: aload_3
      78: aload         10
      80: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
      83: aconst_null
      84: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
      87: aload_0
      88: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      91: new           #97                 // class org/apache/hadoop/hbase/KeyValue
      94: dup
      95: aload_1
      96: aload_2
      97: aload         4
      99: aload         10
     101: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
     104: aconst_null
     105: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
     108: aload_0
     109: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     112: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     115: dup
     116: aload_1
     117: aload_2
     118: aload         5
     120: aload         10
     122: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
     125: aconst_null
     126: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
     129: aload_0
     130: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     133: invokevirtual #58                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.snapshot:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSnapshot;
     136: astore        11
     138: ldc2_w        #47                 // long 3l
     141: aload_0
     142: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     145: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     148: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     151: i2l
     152: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     155: lconst_0
     156: aload_0
     157: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     160: invokevirtual #42                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getActive:()Lorg/apache/hadoop/hbase/regionserver/MutableSegment;
     163: invokevirtual #43                 // Method org/apache/hadoop/hbase/regionserver/MutableSegment.getCellsCount:()I
     166: i2l
     167: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     170: aload_0
     171: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     174: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     177: dup
     178: aload_1
     179: aload_2
     180: aload         6
     182: aload         10
     184: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
     187: aconst_null
     188: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
     191: aload_0
     192: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     195: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     198: dup
     199: aload_1
     200: aload_2
     201: aload         7
     203: aload         10
     205: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
     208: aconst_null
     209: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
     212: ldc2_w        #101                // long 2l
     215: aload_0
     216: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     219: invokevirtual #42                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getActive:()Lorg/apache/hadoop/hbase/regionserver/MutableSegment;
     222: invokevirtual #43                 // Method org/apache/hadoop/hbase/regionserver/MutableSegment.getCellsCount:()I
     225: i2l
     226: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     229: aload_0
     230: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     233: lconst_0
     234: invokevirtual #121                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getScanners:(J)Ljava/util/List;
     237: astore        12
     239: aload         11
     241: invokevirtual #157                // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getScanners:()Ljava/util/List;
     244: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     249: astore        13
     251: aload         13
     253: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     258: ifeq          283
     261: aload         13
     263: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     268: checkcast     #124                // class org/apache/hadoop/hbase/regionserver/KeyValueScanner
     271: astore        14
     273: aload         14
     275: invokeinterface #132,  1          // InterfaceMethod org/apache/hadoop/hbase/regionserver/KeyValueScanner.close:()V
     280: goto          251
     283: aload_0
     284: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     287: aload         11
     289: invokevirtual #61                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getId:()J
     292: invokevirtual #62                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.clearSnapshot:(J)V
     295: getstatic     #6                  // Field chunkCreator:Lorg/apache/hadoop/hbase/regionserver/ChunkCreator;
     298: invokevirtual #158                // Method org/apache/hadoop/hbase/regionserver/ChunkCreator.getPoolSize:()I
     301: ifne          308
     304: iconst_1
     305: goto          309
     308: iconst_0
     309: invokestatic  #159                // Method org/junit/Assert.assertTrue:(Z)V
     312: aload         12
     314: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     319: astore        13
     321: aload         13
     323: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     328: ifeq          353
     331: aload         13
     333: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     338: checkcast     #124                // class org/apache/hadoop/hbase/regionserver/KeyValueScanner
     341: astore        14
     343: aload         14
     345: invokeinterface #132,  1          // InterfaceMethod org/apache/hadoop/hbase/regionserver/KeyValueScanner.close:()V
     350: goto          321
     353: getstatic     #6                  // Field chunkCreator:Lorg/apache/hadoop/hbase/regionserver/ChunkCreator;
     356: invokevirtual #158                // Method org/apache/hadoop/hbase/regionserver/ChunkCreator.getPoolSize:()I
     359: ifle          366
     362: iconst_1
     363: goto          367
     366: iconst_0
     367: invokestatic  #159                // Method org/junit/Assert.assertTrue:(Z)V
     370: getstatic     #6                  // Field chunkCreator:Lorg/apache/hadoop/hbase/regionserver/ChunkCreator;
     373: invokevirtual #7                  // Method org/apache/hadoop/hbase/regionserver/ChunkCreator.clearChunksInPool:()V
     376: aload_0
     377: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     380: invokevirtual #58                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.snapshot:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSnapshot;
     383: astore        11
     385: aload_0
     386: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     389: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     392: dup
     393: aload_1
     394: aload_2
     395: aload         8
     397: aload         10
     399: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
     402: aconst_null
     403: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
     406: aload_0
     407: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     410: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     413: dup
     414: aload_1
     415: aload_2
     416: aload         9
     418: aload         10
     420: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
     423: aconst_null
     424: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
     427: aload_0
     428: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     431: lconst_0
     432: invokevirtual #121                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getScanners:(J)Ljava/util/List;
     435: astore        12
     437: aload         12
     439: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     444: astore        13
     446: aload         13
     448: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     453: ifeq          478
     456: aload         13
     458: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     463: checkcast     #124                // class org/apache/hadoop/hbase/regionserver/KeyValueScanner
     466: astore        14
     468: aload         14
     470: invokeinterface #132,  1          // InterfaceMethod org/apache/hadoop/hbase/regionserver/KeyValueScanner.close:()V
     475: goto          446
     478: aload         11
     480: invokevirtual #157                // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getScanners:()Ljava/util/List;
     483: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     488: astore        13
     490: aload         13
     492: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     497: ifeq          522
     500: aload         13
     502: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     507: checkcast     #124                // class org/apache/hadoop/hbase/regionserver/KeyValueScanner
     510: astore        14
     512: aload         14
     514: invokeinterface #132,  1          // InterfaceMethod org/apache/hadoop/hbase/regionserver/KeyValueScanner.close:()V
     519: goto          490
     522: aload_0
     523: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     526: aload         11
     528: invokevirtual #61                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getId:()J
     531: invokevirtual #62                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.clearSnapshot:(J)V
     534: getstatic     #6                  // Field chunkCreator:Lorg/apache/hadoop/hbase/regionserver/ChunkCreator;
     537: invokevirtual #158                // Method org/apache/hadoop/hbase/regionserver/ChunkCreator.getPoolSize:()I
     540: ifle          547
     543: iconst_1
     544: goto          548
     547: iconst_0
     548: invokestatic  #159                // Method org/junit/Assert.assertTrue:(Z)V
     551: return

  public void testPuttingBackChunksAfterFlushing() throws java.io.IOException;
    Code:
       0: ldc           #147                // String testrow
       2: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
       5: astore_1
       6: ldc           #139                // String testfamily
       8: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      11: astore_2
      12: ldc           #148                // String testqualifier1
      14: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      17: astore_3
      18: ldc           #149                // String testqualifier2
      20: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      23: astore        4
      25: ldc           #150                // String testqualifier3
      27: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      30: astore        5
      32: ldc           #151                // String testqualifier4
      34: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      37: astore        6
      39: ldc           #152                // String testqualifier5
      41: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      44: astore        7
      46: ldc           #155                // String testval
      48: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      51: astore        8
      53: aload_0
      54: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      57: new           #97                 // class org/apache/hadoop/hbase/KeyValue
      60: dup
      61: aload_1
      62: aload_2
      63: aload_3
      64: aload         8
      66: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
      69: aconst_null
      70: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
      73: aload_0
      74: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      77: new           #97                 // class org/apache/hadoop/hbase/KeyValue
      80: dup
      81: aload_1
      82: aload_2
      83: aload         4
      85: aload         8
      87: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
      90: aconst_null
      91: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
      94: aload_0
      95: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      98: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     101: dup
     102: aload_1
     103: aload_2
     104: aload         5
     106: aload         8
     108: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
     111: aconst_null
     112: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
     115: aload_0
     116: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     119: invokevirtual #58                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.snapshot:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSnapshot;
     122: astore        9
     124: ldc2_w        #47                 // long 3l
     127: aload_0
     128: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     131: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     134: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     137: i2l
     138: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     141: lconst_0
     142: aload_0
     143: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     146: invokevirtual #42                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getActive:()Lorg/apache/hadoop/hbase/regionserver/MutableSegment;
     149: invokevirtual #43                 // Method org/apache/hadoop/hbase/regionserver/MutableSegment.getCellsCount:()I
     152: i2l
     153: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     156: aload_0
     157: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     160: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     163: dup
     164: aload_1
     165: aload_2
     166: aload         6
     168: aload         8
     170: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
     173: aconst_null
     174: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
     177: aload_0
     178: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     181: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     184: dup
     185: aload_1
     186: aload_2
     187: aload         7
     189: aload         8
     191: invokespecial #156                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
     194: aconst_null
     195: invokevirtual #100                // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.add:(Lorg/apache/hadoop/hbase/Cell;Lorg/apache/hadoop/hbase/regionserver/MemStoreSizing;)V
     198: ldc2_w        #101                // long 2l
     201: aload_0
     202: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     205: invokevirtual #42                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getActive:()Lorg/apache/hadoop/hbase/regionserver/MutableSegment;
     208: invokevirtual #43                 // Method org/apache/hadoop/hbase/regionserver/MutableSegment.getCellsCount:()I
     211: i2l
     212: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     215: aload         9
     217: invokevirtual #157                // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getScanners:()Ljava/util/List;
     220: invokeinterface #52,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     225: astore        10
     227: aload         10
     229: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     234: ifeq          259
     237: aload         10
     239: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     244: checkcast     #124                // class org/apache/hadoop/hbase/regionserver/KeyValueScanner
     247: astore        11
     249: aload         11
     251: invokeinterface #132,  1          // InterfaceMethod org/apache/hadoop/hbase/regionserver/KeyValueScanner.close:()V
     256: goto          227
     259: aload_0
     260: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     263: aload         9
     265: invokevirtual #61                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getId:()J
     268: invokevirtual #62                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.clearSnapshot:(J)V
     271: getstatic     #6                  // Field chunkCreator:Lorg/apache/hadoop/hbase/regionserver/ChunkCreator;
     274: invokevirtual #158                // Method org/apache/hadoop/hbase/regionserver/ChunkCreator.getPoolSize:()I
     277: istore        10
     279: iload         10
     281: ifle          288
     284: iconst_1
     285: goto          289
     288: iconst_0
     289: invokestatic  #159                // Method org/junit/Assert.assertTrue:(Z)V
     292: return

  public void testFlatteningToCellChunkMap() throws java.io.IOException;
    Code:
       0: getstatic     #83                 // Field org/apache/hadoop/hbase/MemoryCompactionPolicy.BASIC:Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;
       3: astore_1
       4: aload_0
       5: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
       8: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      11: ldc           #12                 // String hbase.hregion.compacting.memstore.type
      13: aload_1
      14: invokestatic  #14                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
      17: invokevirtual #15                 // Method org/apache/hadoop/conf/Configuration.set:(Ljava/lang/String;Ljava/lang/String;)V
      20: aload_0
      21: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      24: checkcast     #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
      27: aload_1
      28: aload_0
      29: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      32: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      35: invokevirtual #85                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore.initiateType:(Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;Lorg/apache/hadoop/conf/Configuration;)V
      38: aload_0
      39: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      42: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      45: getstatic     #30                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.CHUNK_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      48: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      51: bipush        8
      53: istore_2
      54: bipush        8
      56: anewarray     #26                 // class java/lang/String
      59: dup
      60: iconst_0
      61: ldc           #27                 // String A
      63: aastore
      64: dup
      65: iconst_1
      66: ldc           #27                 // String A
      68: aastore
      69: dup
      70: iconst_2
      71: ldc           #28                 // String B
      73: aastore
      74: dup
      75: iconst_3
      76: ldc           #29                 // String C
      78: aastore
      79: dup
      80: iconst_4
      81: ldc           #63                 // String D
      83: aastore
      84: dup
      85: iconst_5
      86: ldc           #63                 // String D
      88: aastore
      89: dup
      90: bipush        6
      92: ldc           #82                 // String E
      94: aastore
      95: dup
      96: bipush        7
      98: ldc           #77                 // String F
     100: aastore
     101: astore_3
     102: aload_3
     103: iconst_0
     104: aaload
     105: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     108: astore        4
     110: new           #141                // class java/lang/StringBuilder
     113: dup
     114: invokespecial #142                // Method java/lang/StringBuilder."<init>":()V
     117: aload_3
     118: iconst_0
     119: aaload
     120: invokevirtual #144                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     123: iconst_0
     124: invokevirtual #145                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     127: invokevirtual #146                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     130: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     133: astore        5
     135: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     138: dup
     139: aload         4
     141: ldc           #139                // String testfamily
     143: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     146: ldc           #143                // String testqualifier
     148: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     151: invokestatic  #140                // Method java/lang/System.currentTimeMillis:()J
     154: aload         5
     156: invokespecial #99                 // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[BJ[B)V
     159: astore        6
     161: aload_0
     162: aload_0
     163: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     166: aload_3
     167: invokevirtual #160                // Method addRowsByKeys:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;)I
     170: istore        7
     172: getstatic     #161                // Field org/apache/hadoop/hbase/util/ClassSize.CONCURRENT_SKIPLISTMAP_ENTRY:I
     175: getstatic     #162                // Field org/apache/hadoop/hbase/KeyValue.FIXED_OVERHEAD:I
     178: iadd
     179: aload         6
     181: invokevirtual #163                // Method org/apache/hadoop/hbase/KeyValue.getSerializedSize:()I
     184: iadd
     185: invokestatic  #164                // Method org/apache/hadoop/hbase/util/ClassSize.align:(I)I
     188: i2l
     189: lstore        8
     191: iload_2
     192: i2l
     193: lload         8
     195: lmul
     196: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     199: ladd
     200: lstore        10
     202: iload         7
     204: i2l
     205: aload_0
     206: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     209: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     212: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     215: lload         10
     217: aload_0
     218: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     221: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     224: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     227: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     230: aload_0
     231: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     234: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     237: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     240: lconst_0
     241: aload_0
     242: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     245: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     248: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     251: i2l
     252: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     255: getstatic     #165                // Field org/apache/hadoop/hbase/util/ClassSize.CELL_CHUNK_MAP_ENTRY:I
     258: aload         6
     260: invokevirtual #163                // Method org/apache/hadoop/hbase/KeyValue.getSerializedSize:()I
     263: invokestatic  #164                // Method org/apache/hadoop/hbase/util/ClassSize.align:(I)I
     266: iadd
     267: i2l
     268: lstore        12
     270: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     273: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     276: ladd
     277: iload_2
     278: i2l
     279: lload         12
     281: lmul
     282: ladd
     283: lstore        10
     285: iload         7
     287: i2l
     288: aload_0
     289: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     292: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     295: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     298: lload         10
     300: aload_0
     301: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     304: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     307: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     310: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     313: aload_0
     314: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     317: invokevirtual #57                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getFlushableSize:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;
     320: astore        14
     322: aload_0
     323: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     326: invokevirtual #58                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.snapshot:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSnapshot;
     329: astore        15
     331: aload_0
     332: getfield      #59                 // Field region:Lorg/apache/hadoop/hbase/regionserver/HRegion;
     335: aload         14
     337: invokevirtual #60                 // Method org/apache/hadoop/hbase/regionserver/HRegion.decrMemStoreSize:(Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;)V
     340: aload_0
     341: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     344: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     347: astore        16
     349: iload_2
     350: i2l
     351: aload         16
     353: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     356: i2l
     357: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     360: lconst_0
     361: aload_0
     362: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     365: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     368: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     371: aload_0
     372: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     375: aload         15
     377: invokevirtual #61                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getId:()J
     380: invokevirtual #62                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.clearSnapshot:(J)V
     383: return

  public void testFlatteningToBigCellChunkMap() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field toCellChunkMap:Z
       4: ifne          8
       7: return
       8: getstatic     #83                 // Field org/apache/hadoop/hbase/MemoryCompactionPolicy.BASIC:Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;
      11: astore_1
      12: aload_0
      13: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      16: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      19: ldc           #12                 // String hbase.hregion.compacting.memstore.type
      21: aload_1
      22: invokestatic  #14                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
      25: invokevirtual #15                 // Method org/apache/hadoop/conf/Configuration.set:(Ljava/lang/String;Ljava/lang/String;)V
      28: aload_0
      29: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      32: checkcast     #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
      35: aload_1
      36: aload_0
      37: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      40: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      43: invokevirtual #85                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore.initiateType:(Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;Lorg/apache/hadoop/conf/Configuration;)V
      46: aload_0
      47: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      50: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      53: getstatic     #30                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.CHUNK_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      56: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      59: iconst_4
      60: istore_2
      61: ldc           #167                // int 262144
      63: newarray       char
      65: astore_3
      66: iconst_0
      67: istore        4
      69: iload         4
      71: aload_3
      72: arraylength
      73: if_icmpge     88
      76: aload_3
      77: iload         4
      79: bipush        65
      81: castore
      82: iinc          4, 1
      85: goto          69
      88: new           #26                 // class java/lang/String
      91: dup
      92: aload_3
      93: invokespecial #168                // Method java/lang/String."<init>":([C)V
      96: astore        4
      98: iconst_4
      99: anewarray     #26                 // class java/lang/String
     102: dup
     103: iconst_0
     104: ldc           #27                 // String A
     106: aastore
     107: dup
     108: iconst_1
     109: ldc           #28                 // String B
     111: aastore
     112: dup
     113: iconst_2
     114: ldc           #29                 // String C
     116: aastore
     117: dup
     118: iconst_3
     119: ldc           #63                 // String D
     121: aastore
     122: astore        5
     124: aload         5
     126: iconst_0
     127: aaload
     128: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     131: astore        6
     133: aload         4
     135: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     138: astore        7
     140: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     143: dup
     144: aload         6
     146: ldc           #139                // String testfamily
     148: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     151: ldc           #143                // String testqualifier
     153: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     156: invokestatic  #140                // Method java/lang/System.currentTimeMillis:()J
     159: aload         7
     161: invokespecial #99                 // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[BJ[B)V
     164: astore        8
     166: aload_0
     167: aload_0
     168: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     171: aload         5
     173: aload         7
     175: invokevirtual #169                // Method addRowsByKeys:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;[B)I
     178: istore        9
     180: getstatic     #161                // Field org/apache/hadoop/hbase/util/ClassSize.CONCURRENT_SKIPLISTMAP_ENTRY:I
     183: i2l
     184: aload         8
     186: invokevirtual #170                // Method org/apache/hadoop/hbase/KeyValue.heapSize:()J
     189: ladd
     190: invokestatic  #171                // Method org/apache/hadoop/hbase/util/ClassSize.align:(J)J
     193: lstore        10
     195: iload_2
     196: i2l
     197: lload         10
     199: lmul
     200: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     203: ladd
     204: lstore        12
     206: iload         9
     208: i2l
     209: aload_0
     210: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     213: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     216: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     219: lload         12
     221: aload_0
     222: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     225: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     228: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     231: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     234: aload_0
     235: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     238: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     241: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     244: aload_0
     245: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     248: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     251: invokevirtual #68                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.isMemStoreFlushingInMemory:()Z
     254: ifeq          266
     257: ldc2_w        #69                 // long 10l
     260: invokestatic  #71                 // Method org/apache/hadoop/hbase/util/Threads.sleep:(J)V
     263: goto          244
     266: lconst_0
     267: aload_0
     268: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     271: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     274: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     277: i2l
     278: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     281: getstatic     #165                // Field org/apache/hadoop/hbase/util/ClassSize.CELL_CHUNK_MAP_ENTRY:I
     284: aload         8
     286: invokevirtual #163                // Method org/apache/hadoop/hbase/KeyValue.getSerializedSize:()I
     289: invokestatic  #164                // Method org/apache/hadoop/hbase/util/ClassSize.align:(I)I
     292: iadd
     293: i2l
     294: lstore        14
     296: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     299: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     302: ladd
     303: iload_2
     304: i2l
     305: lload         14
     307: lmul
     308: ladd
     309: lstore        12
     311: iload         9
     313: i2l
     314: aload_0
     315: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     318: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     321: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     324: lload         12
     326: aload_0
     327: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     330: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     333: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     336: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     339: aload_0
     340: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     343: invokevirtual #57                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getFlushableSize:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;
     346: astore        16
     348: aload_0
     349: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     352: invokevirtual #58                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.snapshot:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSnapshot;
     355: astore        17
     357: aload_0
     358: getfield      #59                 // Field region:Lorg/apache/hadoop/hbase/regionserver/HRegion;
     361: aload         16
     363: invokevirtual #60                 // Method org/apache/hadoop/hbase/regionserver/HRegion.decrMemStoreSize:(Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;)V
     366: aload_0
     367: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     370: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     373: astore        18
     375: iload_2
     376: i2l
     377: aload         18
     379: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     382: i2l
     383: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     386: lconst_0
     387: aload_0
     388: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     391: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     394: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     397: aload_0
     398: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     401: aload         17
     403: invokevirtual #61                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getId:()J
     406: invokevirtual #62                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.clearSnapshot:(J)V
     409: return

  public void testFlatteningToJumboCellChunkMap() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field toCellChunkMap:Z
       4: ifne          8
       7: return
       8: getstatic     #83                 // Field org/apache/hadoop/hbase/MemoryCompactionPolicy.BASIC:Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;
      11: astore_1
      12: aload_0
      13: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      16: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      19: ldc           #12                 // String hbase.hregion.compacting.memstore.type
      21: aload_1
      22: invokestatic  #14                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
      25: invokevirtual #15                 // Method org/apache/hadoop/conf/Configuration.set:(Ljava/lang/String;Ljava/lang/String;)V
      28: aload_0
      29: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      32: checkcast     #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
      35: aload_1
      36: aload_0
      37: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      40: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      43: invokevirtual #85                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore.initiateType:(Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;Lorg/apache/hadoop/conf/Configuration;)V
      46: aload_0
      47: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      50: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      53: getstatic     #30                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.CHUNK_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      56: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      59: iconst_1
      60: istore_2
      61: ldc           #172                // int 2097152
      63: newarray       char
      65: astore_3
      66: iconst_0
      67: istore        4
      69: iload         4
      71: aload_3
      72: arraylength
      73: if_icmpge     88
      76: aload_3
      77: iload         4
      79: bipush        65
      81: castore
      82: iinc          4, 1
      85: goto          69
      88: new           #26                 // class java/lang/String
      91: dup
      92: aload_3
      93: invokespecial #168                // Method java/lang/String."<init>":([C)V
      96: astore        4
      98: iconst_1
      99: anewarray     #26                 // class java/lang/String
     102: dup
     103: iconst_0
     104: ldc           #27                 // String A
     106: aastore
     107: astore        5
     109: aload         5
     111: iconst_0
     112: aaload
     113: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     116: astore        6
     118: aload         4
     120: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     123: astore        7
     125: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     128: dup
     129: aload         6
     131: ldc           #139                // String testfamily
     133: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     136: ldc           #143                // String testqualifier
     138: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     141: invokestatic  #140                // Method java/lang/System.currentTimeMillis:()J
     144: aload         7
     146: invokespecial #99                 // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[BJ[B)V
     149: astore        8
     151: aload_0
     152: aload_0
     153: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     156: aload         5
     158: aload         7
     160: invokevirtual #169                // Method addRowsByKeys:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;[B)I
     163: istore        9
     165: getstatic     #161                // Field org/apache/hadoop/hbase/util/ClassSize.CONCURRENT_SKIPLISTMAP_ENTRY:I
     168: i2l
     169: aload         8
     171: invokevirtual #170                // Method org/apache/hadoop/hbase/KeyValue.heapSize:()J
     174: ladd
     175: invokestatic  #171                // Method org/apache/hadoop/hbase/util/ClassSize.align:(J)J
     178: lstore        10
     180: iload_2
     181: i2l
     182: lload         10
     184: lmul
     185: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     188: ladd
     189: lstore        12
     191: iload         9
     193: i2l
     194: aload_0
     195: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     198: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     201: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     204: lload         12
     206: aload_0
     207: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     210: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     213: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     216: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     219: aload_0
     220: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     223: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     226: invokevirtual #44                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.flushInMemory:()V
     229: aload_0
     230: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     233: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     236: invokevirtual #68                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.isMemStoreFlushingInMemory:()Z
     239: ifeq          251
     242: ldc2_w        #69                 // long 10l
     245: invokestatic  #71                 // Method org/apache/hadoop/hbase/util/Threads.sleep:(J)V
     248: goto          229
     251: lconst_0
     252: aload_0
     253: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     256: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     259: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     262: i2l
     263: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     266: getstatic     #165                // Field org/apache/hadoop/hbase/util/ClassSize.CELL_CHUNK_MAP_ENTRY:I
     269: i2l
     270: aload         8
     272: invokevirtual #163                // Method org/apache/hadoop/hbase/KeyValue.getSerializedSize:()I
     275: invokestatic  #164                // Method org/apache/hadoop/hbase/util/ClassSize.align:(I)I
     278: i2l
     279: ladd
     280: lstore        14
     282: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     285: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     288: ladd
     289: iload_2
     290: i2l
     291: lload         14
     293: lmul
     294: ladd
     295: lstore        12
     297: iload         9
     299: iconst_4
     300: iadd
     301: i2l
     302: aload_0
     303: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     306: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     309: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     312: lload         12
     314: aload_0
     315: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     318: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     321: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     324: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     327: aload_0
     328: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     331: invokevirtual #57                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getFlushableSize:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;
     334: astore        16
     336: aload_0
     337: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     340: invokevirtual #58                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.snapshot:()Lorg/apache/hadoop/hbase/regionserver/MemStoreSnapshot;
     343: astore        17
     345: aload_0
     346: getfield      #59                 // Field region:Lorg/apache/hadoop/hbase/regionserver/HRegion;
     349: aload         16
     351: invokevirtual #60                 // Method org/apache/hadoop/hbase/regionserver/HRegion.decrMemStoreSize:(Lorg/apache/hadoop/hbase/regionserver/MemStoreSize;)V
     354: aload_0
     355: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     358: invokevirtual #45                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getSnapshot:()Lorg/apache/hadoop/hbase/regionserver/ImmutableSegment;
     361: astore        18
     363: iload_2
     364: i2l
     365: aload         18
     367: invokevirtual #46                 // Method org/apache/hadoop/hbase/regionserver/ImmutableSegment.getCellsCount:()I
     370: i2l
     371: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     374: lconst_0
     375: aload_0
     376: getfield      #23                 // Field regionServicesForStores:Lorg/apache/hadoop/hbase/regionserver/RegionServicesForStores;
     379: invokevirtual #39                 // Method org/apache/hadoop/hbase/regionserver/RegionServicesForStores.getMemStoreSize:()J
     382: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     385: aload_0
     386: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     389: aload         17
     391: invokevirtual #61                 // Method org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.getId:()J
     394: invokevirtual #62                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.clearSnapshot:(J)V
     397: iconst_2
     398: anewarray     #26                 // class java/lang/String
     401: dup
     402: iconst_0
     403: ldc           #29                 // String C
     405: aastore
     406: dup
     407: iconst_1
     408: ldc           #63                 // String D
     410: aastore
     411: astore        19
     413: aload_0
     414: aload_0
     415: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     418: aload         19
     420: aload         7
     422: invokevirtual #169                // Method addRowsByKeys:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;[B)I
     425: pop
     426: aload_0
     427: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     430: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     433: invokevirtual #68                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.isMemStoreFlushingInMemory:()Z
     436: ifeq          448
     439: ldc2_w        #69                 // long 10l
     442: invokestatic  #71                 // Method org/apache/hadoop/hbase/util/Threads.sleep:(J)V
     445: goto          426
     448: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     451: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     454: ladd
     455: lconst_1
     456: lload         10
     458: lmul
     459: ladd
     460: lconst_1
     461: lload         14
     463: lmul
     464: ladd
     465: lstore        12
     467: lload         12
     469: aload_0
     470: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     473: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     476: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     479: invokestatic  #40                 // Method org/junit/Assert.assertEquals:(JJ)V
     482: return

  public void testForceCopyOfBigCellIntoImmutableSegment() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field toCellChunkMap:Z
       4: ifne          8
       7: return
       8: getstatic     #83                 // Field org/apache/hadoop/hbase/MemoryCompactionPolicy.BASIC:Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;
      11: astore_1
      12: aload_0
      13: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      16: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      19: ldc           #175                // String hbase.hregion.compacting.pipeline.segments.limit
      21: iconst_4
      22: invokevirtual #176                // Method org/apache/hadoop/conf/Configuration.setInt:(Ljava/lang/String;I)V
      25: aload_0
      26: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      29: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      32: ldc           #16                 // String hbase.memstore.inmemoryflush.threshold.factor
      34: ldc2_w        #177                // double 0.014d
      37: invokevirtual #19                 // Method org/apache/hadoop/conf/Configuration.setDouble:(Ljava/lang/String;D)V
      40: aload_0
      41: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      44: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      47: ldc           #12                 // String hbase.hregion.compacting.memstore.type
      49: aload_1
      50: invokestatic  #14                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
      53: invokevirtual #15                 // Method org/apache/hadoop/conf/Configuration.set:(Ljava/lang/String;Ljava/lang/String;)V
      56: aload_0
      57: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      60: checkcast     #20                 // class org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore
      63: aload_1
      64: aload_0
      65: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      68: invokevirtual #84                 // Method org/apache/hadoop/hbase/regionserver/AbstractMemStore.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      71: invokevirtual #85                 // Method org/apache/hadoop/hbase/regionserver/TestCompactingMemStore$MyCompactingMemStore.initiateType:(Lorg/apache/hadoop/hbase/MemoryCompactionPolicy;Lorg/apache/hadoop/conf/Configuration;)V
      74: aload_0
      75: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
      78: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
      81: getstatic     #30                 // Field org/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType.CHUNK_MAP:Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;
      84: invokevirtual #31                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.setIndexType:(Lorg/apache/hadoop/hbase/regionserver/CompactingMemStore$IndexType;)V
      87: ldc           #172                // int 2097152
      89: newarray       char
      91: astore_2
      92: iconst_0
      93: istore_3
      94: iload_3
      95: aload_2
      96: arraylength
      97: if_icmpge     111
     100: aload_2
     101: iload_3
     102: bipush        65
     104: castore
     105: iinc          3, 1
     108: goto          94
     111: new           #26                 // class java/lang/String
     114: dup
     115: aload_2
     116: invokespecial #168                // Method java/lang/String."<init>":([C)V
     119: astore_3
     120: aload_3
     121: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     124: astore        4
     126: new           #179                // class java/util/ArrayList
     129: dup
     130: invokespecial #180                // Method java/util/ArrayList."<init>":()V
     133: astore        5
     135: aload         5
     137: iconst_2
     138: anewarray     #26                 // class java/lang/String
     141: dup
     142: iconst_0
     143: ldc           #27                 // String A
     145: aastore
     146: dup
     147: iconst_1
     148: ldc           #28                 // String B
     150: aastore
     151: invokeinterface #181,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     156: pop
     157: aload         5
     159: iconst_2
     160: anewarray     #26                 // class java/lang/String
     163: dup
     164: iconst_0
     165: ldc           #29                 // String C
     167: aastore
     168: dup
     169: iconst_1
     170: ldc           #63                 // String D
     172: aastore
     173: invokeinterface #181,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     178: pop
     179: aload         5
     181: iconst_2
     182: anewarray     #26                 // class java/lang/String
     185: dup
     186: iconst_0
     187: ldc           #82                 // String E
     189: aastore
     190: dup
     191: iconst_1
     192: ldc           #77                 // String F
     194: aastore
     195: invokeinterface #181,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     200: pop
     201: aload         5
     203: iconst_2
     204: anewarray     #26                 // class java/lang/String
     207: dup
     208: iconst_0
     209: ldc           #79                 // String G
     211: aastore
     212: dup
     213: iconst_1
     214: ldc           #78                 // String H
     216: aastore
     217: invokeinterface #181,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     222: pop
     223: new           #97                 // class org/apache/hadoop/hbase/KeyValue
     226: dup
     227: ldc           #27                 // String A
     229: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     232: ldc           #139                // String testfamily
     234: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     237: ldc           #143                // String testqualifier
     239: invokestatic  #94                 // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
     242: invokestatic  #140                // Method java/lang/System.currentTimeMillis:()J
     245: aload         4
     247: invokespecial #99                 // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[BJ[B)V
     250: astore        6
     252: getstatic     #165                // Field org/apache/hadoop/hbase/util/ClassSize.CELL_CHUNK_MAP_ENTRY:I
     255: i2l
     256: aload         6
     258: invokevirtual #163                // Method org/apache/hadoop/hbase/KeyValue.getSerializedSize:()I
     261: invokestatic  #164                // Method org/apache/hadoop/hbase/util/ClassSize.align:(I)I
     264: i2l
     265: ladd
     266: lstore        7
     268: getstatic     #161                // Field org/apache/hadoop/hbase/util/ClassSize.CONCURRENT_SKIPLISTMAP_ENTRY:I
     271: i2l
     272: aload         6
     274: invokevirtual #170                // Method org/apache/hadoop/hbase/KeyValue.heapSize:()J
     277: ladd
     278: invokestatic  #171                // Method org/apache/hadoop/hbase/util/ClassSize.align:(J)J
     281: lstore        9
     283: getstatic     #36                 // Field org/apache/hadoop/hbase/regionserver/MutableSegment.DEEP_OVERHEAD:J
     286: lstore        11
     288: iconst_0
     289: istore        13
     291: iload         13
     293: aload         5
     295: invokeinterface #122,  1          // InterfaceMethod java/util/List.size:()I
     300: if_icmpge     451
     303: aload_0
     304: aload_0
     305: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     308: aload         5
     310: iload         13
     312: invokeinterface #123,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     317: checkcast     #182                // class "[Ljava/lang/String;"
     320: aload         4
     322: invokevirtual #169                // Method addRowsByKeys:(Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;[Ljava/lang/String;[B)I
     325: pop
     326: aload_0
     327: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     330: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     333: invokevirtual #68                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.isMemStoreFlushingInMemory:()Z
     336: ifeq          348
     339: ldc2_w        #69                 // long 10l
     342: invokestatic  #71                 // Method org/apache/hadoop/hbase/util/Threads.sleep:(J)V
     345: goto          326
     348: iload         13
     350: ifne          370
     353: lload         11
     355: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     358: lload         7
     360: ladd
     361: lload         9
     363: ladd
     364: ladd
     365: lstore        11
     367: goto          385
     370: lload         11
     372: ldc2_w        #101                // long 2l
     375: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     378: lload         7
     380: ladd
     381: lmul
     382: ladd
     383: lstore        11
     385: iload         13
     387: iconst_2
     388: if_icmpne     410
     391: lload         11
     393: ldc2_w        #37                 // long 4l
     396: getstatic     #49                 // Field org/apache/hadoop/hbase/regionserver/CellChunkImmutableSegment.DEEP_OVERHEAD_CCM:J
     399: lmul
     400: lsub
     401: lstore        11
     403: lload         11
     405: invokestatic  #171                // Method org/apache/hadoop/hbase/util/ClassSize.align:(J)J
     408: lstore        11
     410: new           #141                // class java/lang/StringBuilder
     413: dup
     414: invokespecial #142                // Method java/lang/StringBuilder."<init>":()V
     417: ldc           #183                // String i=
     419: invokevirtual #144                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     422: iload         13
     424: invokevirtual #145                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     427: invokevirtual #146                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     430: lload         11
     432: aload_0
     433: getfield      #25                 // Field memstore:Lorg/apache/hadoop/hbase/regionserver/AbstractMemStore;
     436: checkcast     #11                 // class org/apache/hadoop/hbase/regionserver/CompactingMemStore
     439: invokevirtual #41                 // Method org/apache/hadoop/hbase/regionserver/CompactingMemStore.heapSize:()J
     442: invokestatic  #131                // Method org/junit/Assert.assertEquals:(Ljava/lang/String;JJ)V
     445: iinc          13, 1
     448: goto          291
     451: return

  static {};
    Code:
       0: ldc           #200                // class org/apache/hadoop/hbase/regionserver/TestCompactingToCellFlatMapMemStore
       2: invokestatic  #201                // Method org/apache/hadoop/hbase/HBaseClassTestRule.forClass:(Ljava/lang/Class;)Lorg/apache/hadoop/hbase/HBaseClassTestRule;
       5: putstatic     #202                // Field CLASS_RULE:Lorg/apache/hadoop/hbase/HBaseClassTestRule;
       8: ldc           #200                // class org/apache/hadoop/hbase/regionserver/TestCompactingToCellFlatMapMemStore
      10: invokestatic  #203                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      13: putstatic     #186                // Field LOG:Lorg/slf4j/Logger;
      16: return
}
