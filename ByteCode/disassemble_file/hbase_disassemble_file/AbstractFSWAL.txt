Compiled from "AbstractFSWAL.java"
public abstract class org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL<W extends org.apache.hadoop.hbase.wal.WALProvider$WriterBase> implements org.apache.hadoop.hbase.wal.WAL {
  protected static final java.lang.String SLOW_SYNC_TIME_MS;

  protected static final int DEFAULT_SLOW_SYNC_TIME_MS;

  protected static final java.lang.String ROLL_ON_SYNC_TIME_MS;

  protected static final int DEFAULT_ROLL_ON_SYNC_TIME_MS;

  protected static final java.lang.String SLOW_SYNC_ROLL_THRESHOLD;

  protected static final int DEFAULT_SLOW_SYNC_ROLL_THRESHOLD;

  protected static final java.lang.String SLOW_SYNC_ROLL_INTERVAL_MS;

  protected static final int DEFAULT_SLOW_SYNC_ROLL_INTERVAL_MS;

  protected static final java.lang.String WAL_SYNC_TIMEOUT_MS;

  protected static final int DEFAULT_WAL_SYNC_TIMEOUT_MS;

  protected final org.apache.hadoop.fs.FileSystem fs;

  protected final org.apache.hadoop.fs.Path walDir;

  protected final org.apache.hadoop.fs.Path walArchiveDir;

  protected final org.apache.hadoop.fs.PathFilter ourFiles;

  protected final java.lang.String walFilePrefix;

  protected final java.lang.String walFileSuffix;

  protected final java.lang.String prefixPathStr;

  protected final org.apache.hadoop.hbase.regionserver.wal.WALCoprocessorHost coprocessorHost;

  protected final org.apache.hadoop.conf.Configuration conf;

  protected final java.util.List<org.apache.hadoop.hbase.regionserver.wal.WALActionsListener> listeners;

  protected final org.apache.hadoop.hbase.regionserver.wal.SequenceIdAccounting sequenceIdAccounting;

  protected final long slowSyncNs;

  protected final long rollOnSyncNs;

  protected final int slowSyncRollThreshold;

  protected final int slowSyncCheckInterval;

  protected final java.util.concurrent.atomic.AtomicInteger slowSyncCount;

  protected final long logrollsize;

  protected final long blocksize;

  protected final int maxLogs;

  protected final java.util.concurrent.locks.ReentrantLock rollWriterLock;

  protected final java.util.concurrent.atomic.AtomicLong filenum;

  protected final java.util.concurrent.atomic.AtomicInteger numEntries;

  protected volatile long highestUnsyncedTxid;

  protected final java.util.concurrent.atomic.AtomicLong highestSyncedTxid;

  protected final java.util.concurrent.atomic.AtomicLong totalLogSize;

  volatile W writer;

  protected volatile boolean closed;

  protected final java.util.concurrent.atomic.AtomicBoolean shutdown;

  final java.util.Comparator<org.apache.hadoop.fs.Path> LOG_NAME_COMPARATOR;

  protected java.util.concurrent.ConcurrentNavigableMap<org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL$WalProps> walFile2Props;

  protected final java.lang.String implClassName;

  protected volatile boolean rollRequested;

  static final boolean $assertionsDisabled;

  public long getFilenum();
    Code:
       0: aload_0
       1: getfield      #2                  // Field filenum:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #3                  // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  protected long getFileNumFromFileName(org.apache.hadoop.fs.Path);
    Code:
       0: aload_1
       1: ldc           #4                  // String file name can't be null
       3: invokestatic  #5                  // Method org/apache/hbase/thirdparty/com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
       6: pop
       7: aload_0
       8: getfield      #6                  // Field ourFiles:Lorg/apache/hadoop/fs/PathFilter;
      11: aload_1
      12: invokeinterface #7,  2            // InterfaceMethod org/apache/hadoop/fs/PathFilter.accept:(Lorg/apache/hadoop/fs/Path;)Z
      17: ifne          64
      20: new           #8                  // class java/lang/IllegalArgumentException
      23: dup
      24: new           #9                  // class java/lang/StringBuilder
      27: dup
      28: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      31: ldc           #11                 // String The log file
      33: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: aload_1
      37: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      40: ldc           #14                 // String  doesn't belong to this WAL. (
      42: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: aload_0
      46: invokevirtual #15                 // Method toString:()Ljava/lang/String;
      49: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: ldc           #16                 // String )
      54: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      60: invokespecial #18                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      63: athrow
      64: aload_1
      65: invokevirtual #19                 // Method org/apache/hadoop/fs/Path.toString:()Ljava/lang/String;
      68: astore_2
      69: aload_2
      70: aload_0
      71: getfield      #20                 // Field prefixPathStr:Ljava/lang/String;
      74: invokevirtual #21                 // Method java/lang/String.length:()I
      77: aload_2
      78: invokevirtual #21                 // Method java/lang/String.length:()I
      81: aload_0
      82: getfield      #22                 // Field walFileSuffix:Ljava/lang/String;
      85: invokevirtual #21                 // Method java/lang/String.length:()I
      88: isub
      89: invokevirtual #23                 // Method java/lang/String.substring:(II)Ljava/lang/String;
      92: astore_3
      93: aload_3
      94: invokestatic  #24                 // Method java/lang/Long.parseLong:(Ljava/lang/String;)J
      97: lreturn

  protected final int getPreallocatedEventCount();
    Code:
       0: aload_0
       1: getfield      #31                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
       4: ldc           #32                 // String hbase.regionserver.wal.disruptor.event.count
       6: sipush        16384
       9: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
      12: istore_1
      13: iload_1
      14: iflt          21
      17: iconst_1
      18: goto          22
      21: iconst_0
      22: ldc           #34                 // String hbase.regionserver.wal.disruptor.event.count must > 0
      24: invokestatic  #35                 // Method org/apache/hbase/thirdparty/com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      27: iload_1
      28: invokestatic  #36                 // Method java/lang/Integer.highestOneBit:(I)I
      31: istore_2
      32: iload_2
      33: iload_1
      34: if_icmpne     39
      37: iload_2
      38: ireturn
      39: iload_2
      40: ldc           #37                 // int 536870912
      42: if_icmplt     48
      45: ldc           #38                 // int 1073741824
      47: ireturn
      48: iload_2
      49: iconst_1
      50: ishl
      51: ireturn

  protected org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, java.lang.String, java.lang.String, org.apache.hadoop.conf.Configuration, java.util.List<org.apache.hadoop.hbase.regionserver.wal.WALActionsListener>, boolean, java.lang.String, java.lang.String) throws org.apache.hadoop.hbase.regionserver.wal.FailedLogCloseException, java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #39                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #40                 // class java/util/concurrent/CopyOnWriteArrayList
       8: dup
       9: invokespecial #41                 // Method java/util/concurrent/CopyOnWriteArrayList."<init>":()V
      12: putfield      #42                 // Field listeners:Ljava/util/List;
      15: aload_0
      16: new           #43                 // class org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting
      19: dup
      20: invokespecial #44                 // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting."<init>":()V
      23: putfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
      26: aload_0
      27: new           #46                 // class java/util/concurrent/atomic/AtomicInteger
      30: dup
      31: invokespecial #47                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":()V
      34: putfield      #48                 // Field slowSyncCount:Ljava/util/concurrent/atomic/AtomicInteger;
      37: aload_0
      38: new           #49                 // class java/util/concurrent/locks/ReentrantLock
      41: dup
      42: iconst_1
      43: invokespecial #50                 // Method java/util/concurrent/locks/ReentrantLock."<init>":(Z)V
      46: putfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      49: aload_0
      50: new           #52                 // class java/util/concurrent/atomic/AtomicLong
      53: dup
      54: ldc2_w        #53                 // long -1l
      57: invokespecial #55                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      60: putfield      #2                  // Field filenum:Ljava/util/concurrent/atomic/AtomicLong;
      63: aload_0
      64: new           #46                 // class java/util/concurrent/atomic/AtomicInteger
      67: dup
      68: iconst_0
      69: invokespecial #56                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      72: putfield      #57                 // Field numEntries:Ljava/util/concurrent/atomic/AtomicInteger;
      75: aload_0
      76: ldc2_w        #53                 // long -1l
      79: putfield      #58                 // Field highestUnsyncedTxid:J
      82: aload_0
      83: new           #52                 // class java/util/concurrent/atomic/AtomicLong
      86: dup
      87: lconst_0
      88: invokespecial #55                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      91: putfield      #59                 // Field highestSyncedTxid:Ljava/util/concurrent/atomic/AtomicLong;
      94: aload_0
      95: new           #52                 // class java/util/concurrent/atomic/AtomicLong
      98: dup
      99: lconst_0
     100: invokespecial #55                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
     103: putfield      #60                 // Field totalLogSize:Ljava/util/concurrent/atomic/AtomicLong;
     106: aload_0
     107: invokestatic  #61                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
     110: putfield      #62                 // Field lastTimeCheckLowReplication:J
     113: aload_0
     114: invokestatic  #61                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
     117: putfield      #63                 // Field lastTimeCheckSlowSync:J
     120: aload_0
     121: iconst_0
     122: putfield      #64                 // Field closed:Z
     125: aload_0
     126: new           #65                 // class java/util/concurrent/atomic/AtomicBoolean
     129: dup
     130: iconst_0
     131: invokespecial #66                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
     134: putfield      #67                 // Field shutdown:Ljava/util/concurrent/atomic/AtomicBoolean;
     137: aload_0
     138: invokestatic  #68                 // Method java/lang/System.nanoTime:()J
     141: putfield      #69                 // Field nextLogTooOldNs:J
     144: aload_0
     145: aload_0
     146: invokedynamic #70,  0             // InvokeDynamic #0:compare:(Lorg/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL;)Ljava/util/Comparator;
     151: putfield      #71                 // Field LOG_NAME_COMPARATOR:Ljava/util/Comparator;
     154: aload_0
     155: new           #72                 // class java/util/concurrent/ConcurrentSkipListMap
     158: dup
     159: aload_0
     160: getfield      #71                 // Field LOG_NAME_COMPARATOR:Ljava/util/Comparator;
     163: invokespecial #73                 // Method java/util/concurrent/ConcurrentSkipListMap."<init>":(Ljava/util/Comparator;)V
     166: putfield      #74                 // Field walFile2Props:Ljava/util/concurrent/ConcurrentNavigableMap;
     169: aload_0
     170: aload_1
     171: putfield      #75                 // Field fs:Lorg/apache/hadoop/fs/FileSystem;
     174: aload_0
     175: new           #76                 // class org/apache/hadoop/fs/Path
     178: dup
     179: aload_2
     180: aload_3
     181: invokespecial #77                 // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
     184: putfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
     187: aload_0
     188: new           #76                 // class org/apache/hadoop/fs/Path
     191: dup
     192: aload_2
     193: aload         4
     195: invokespecial #77                 // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
     198: putfield      #79                 // Field walArchiveDir:Lorg/apache/hadoop/fs/Path;
     201: aload_0
     202: aload         5
     204: putfield      #31                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
     207: aload_1
     208: aload_0
     209: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
     212: invokevirtual #80                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     215: ifne          259
     218: aload_1
     219: aload_0
     220: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
     223: invokevirtual #81                 // Method org/apache/hadoop/fs/FileSystem.mkdirs:(Lorg/apache/hadoop/fs/Path;)Z
     226: ifne          259
     229: new           #82                 // class java/io/IOException
     232: dup
     233: new           #9                  // class java/lang/StringBuilder
     236: dup
     237: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     240: ldc           #83                 // String Unable to mkdir
     242: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     245: aload_0
     246: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
     249: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     252: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     255: invokespecial #84                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     258: athrow
     259: aload_1
     260: aload_0
     261: getfield      #79                 // Field walArchiveDir:Lorg/apache/hadoop/fs/Path;
     264: invokevirtual #80                 // Method org/apache/hadoop/fs/FileSystem.exists:(Lorg/apache/hadoop/fs/Path;)Z
     267: ifne          311
     270: aload_1
     271: aload_0
     272: getfield      #79                 // Field walArchiveDir:Lorg/apache/hadoop/fs/Path;
     275: invokevirtual #81                 // Method org/apache/hadoop/fs/FileSystem.mkdirs:(Lorg/apache/hadoop/fs/Path;)Z
     278: ifne          311
     281: new           #82                 // class java/io/IOException
     284: dup
     285: new           #9                  // class java/lang/StringBuilder
     288: dup
     289: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     292: ldc           #83                 // String Unable to mkdir
     294: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     297: aload_0
     298: getfield      #79                 // Field walArchiveDir:Lorg/apache/hadoop/fs/Path;
     301: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     304: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     307: invokespecial #84                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     310: athrow
     311: aload_0
     312: aload         8
     314: ifnull        325
     317: aload         8
     319: invokevirtual #85                 // Method java/lang/String.isEmpty:()Z
     322: ifeq          330
     325: ldc           #86                 // String wal
     327: goto          337
     330: aload         8
     332: ldc           #87                 // String UTF8
     334: invokestatic  #88                 // Method java/net/URLEncoder.encode:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     337: putfield      #89                 // Field walFilePrefix:Ljava/lang/String;
     340: aload         9
     342: ifnull        396
     345: aload         9
     347: invokevirtual #85                 // Method java/lang/String.isEmpty:()Z
     350: ifne          396
     353: aload         9
     355: ldc           #90                 // String .
     357: invokevirtual #91                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     360: ifne          396
     363: new           #8                  // class java/lang/IllegalArgumentException
     366: dup
     367: new           #9                  // class java/lang/StringBuilder
     370: dup
     371: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     374: ldc           #92                 // String WAL suffix must start with '.' but instead was '
     376: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     379: aload         9
     381: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     384: ldc           #93                 // String '
     386: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     389: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     392: invokespecial #18                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     395: athrow
     396: aload         5
     398: ldc           #95                 // String hbase.wal.storage.policy
     400: ldc           #96                 // String NONE
     402: invokevirtual #97                 // Method org/apache/hadoop/conf/Configuration.get:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     405: astore        10
     407: aload_1
     408: aload_0
     409: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
     412: aload         10
     414: invokestatic  #98                 // Method org/apache/hadoop/hbase/util/CommonFSUtils.setStoragePolicy:(Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
     417: aload_0
     418: aload         9
     420: ifnonnull     428
     423: ldc           #99                 // String
     425: goto          435
     428: aload         9
     430: ldc           #87                 // String UTF8
     432: invokestatic  #88                 // Method java/net/URLEncoder.encode:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     435: putfield      #22                 // Field walFileSuffix:Ljava/lang/String;
     438: aload_0
     439: new           #76                 // class org/apache/hadoop/fs/Path
     442: dup
     443: aload_0
     444: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
     447: new           #9                  // class java/lang/StringBuilder
     450: dup
     451: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     454: aload_0
     455: getfield      #89                 // Field walFilePrefix:Ljava/lang/String;
     458: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     461: ldc           #90                 // String .
     463: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     466: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     469: invokespecial #77                 // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
     472: invokevirtual #19                 // Method org/apache/hadoop/fs/Path.toString:()Ljava/lang/String;
     475: putfield      #20                 // Field prefixPathStr:Ljava/lang/String;
     478: aload_0
     479: new           #100                // class org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL$1
     482: dup
     483: aload_0
     484: invokespecial #101                // Method org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL$1."<init>":(Lorg/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL;)V
     487: putfield      #6                  // Field ourFiles:Lorg/apache/hadoop/fs/PathFilter;
     490: iload         7
     492: ifeq          552
     495: aload_1
     496: aload_0
     497: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
     500: aload_0
     501: getfield      #6                  // Field ourFiles:Lorg/apache/hadoop/fs/PathFilter;
     504: invokestatic  #102                // Method org/apache/hadoop/hbase/util/CommonFSUtils.listStatus:(Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/PathFilter;)[Lorg/apache/hadoop/fs/FileStatus;
     507: astore        11
     509: aconst_null
     510: aload         11
     512: if_acmpeq     552
     515: iconst_0
     516: aload         11
     518: arraylength
     519: if_icmpeq     552
     522: new           #82                 // class java/io/IOException
     525: dup
     526: new           #9                  // class java/lang/StringBuilder
     529: dup
     530: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     533: ldc           #103                // String Target WAL already exists within directory
     535: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     538: aload_0
     539: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
     542: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     545: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     548: invokespecial #84                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     551: athrow
     552: aload         6
     554: ifnull        597
     557: aload         6
     559: invokeinterface #104,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     564: astore        11
     566: aload         11
     568: invokeinterface #105,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     573: ifeq          597
     576: aload         11
     578: invokeinterface #106,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     583: checkcast     #107                // class org/apache/hadoop/hbase/regionserver/wal/WALActionsListener
     586: astore        12
     588: aload_0
     589: aload         12
     591: invokevirtual #108                // Method registerWALActionsListener:(Lorg/apache/hadoop/hbase/regionserver/wal/WALActionsListener;)V
     594: goto          566
     597: aload_0
     598: new           #109                // class org/apache/hadoop/hbase/regionserver/wal/WALCoprocessorHost
     601: dup
     602: aload_0
     603: aload         5
     605: invokespecial #110                // Method org/apache/hadoop/hbase/regionserver/wal/WALCoprocessorHost."<init>":(Lorg/apache/hadoop/hbase/wal/WAL;Lorg/apache/hadoop/conf/Configuration;)V
     608: putfield      #111                // Field coprocessorHost:Lorg/apache/hadoop/hbase/regionserver/wal/WALCoprocessorHost;
     611: aload_0
     612: aload_0
     613: getfield      #31                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
     616: aload_0
     617: getfield      #75                 // Field fs:Lorg/apache/hadoop/fs/FileSystem;
     620: aload_0
     621: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
     624: invokestatic  #112                // Method org/apache/hadoop/hbase/regionserver/wal/WALUtil.getWALBlockSize:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;)J
     627: putfield      #113                // Field blocksize:J
     630: aload         5
     632: ldc           #114                // String hbase.regionserver.logroll.multiplier
     634: ldc           #115                // float 0.5f
     636: invokevirtual #116                // Method org/apache/hadoop/conf/Configuration.getFloat:(Ljava/lang/String;F)F
     639: fstore        11
     641: aload_0
     642: aload_0
     643: getfield      #113                // Field blocksize:J
     646: l2f
     647: fload         11
     649: fmul
     650: f2l
     651: putfield      #117                // Field logrollsize:J
     654: aload_0
     655: aload         5
     657: ldc           #118                // String hbase.regionserver.maxlogs
     659: bipush        32
     661: aload_0
     662: aload         5
     664: aload_0
     665: getfield      #117                // Field logrollsize:J
     668: invokespecial #119                // Method calculateMaxLogFiles:(Lorg/apache/hadoop/conf/Configuration;J)I
     671: invokestatic  #120                // Method java/lang/Math.max:(II)I
     674: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
     677: putfield      #121                // Field maxLogs:I
     680: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
     683: new           #9                  // class java/lang/StringBuilder
     686: dup
     687: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     690: ldc           #123                // String WAL configuration: blocksize=
     692: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     695: aload_0
     696: getfield      #113                // Field blocksize:J
     699: invokestatic  #124                // Method org/apache/hadoop/util/StringUtils.byteDesc:(J)Ljava/lang/String;
     702: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     705: ldc           #125                // String , rollsize=
     707: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     710: aload_0
     711: getfield      #117                // Field logrollsize:J
     714: invokestatic  #124                // Method org/apache/hadoop/util/StringUtils.byteDesc:(J)Ljava/lang/String;
     717: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     720: ldc           #126                // String , prefix=
     722: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     725: aload_0
     726: getfield      #89                 // Field walFilePrefix:Ljava/lang/String;
     729: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     732: ldc           #127                // String , suffix=
     734: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     737: aload_0
     738: getfield      #22                 // Field walFileSuffix:Ljava/lang/String;
     741: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     744: ldc           #128                // String , logDir=
     746: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     749: aload_0
     750: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
     753: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     756: ldc           #129                // String , archiveDir=
     758: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     761: aload_0
     762: getfield      #79                 // Field walArchiveDir:Lorg/apache/hadoop/fs/Path;
     765: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     768: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     771: invokeinterface #130,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     776: aload_0
     777: getstatic     #131                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     780: aload         5
     782: ldc           #133                // String hbase.regionserver.wal.slowsync.ms
     784: bipush        100
     786: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
     789: i2l
     790: invokevirtual #134                // Method java/util/concurrent/TimeUnit.toNanos:(J)J
     793: putfield      #135                // Field slowSyncNs:J
     796: aload_0
     797: getstatic     #131                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     800: aload         5
     802: ldc           #136                // String hbase.regionserver.wal.roll.on.sync.ms
     804: sipush        10000
     807: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
     810: i2l
     811: invokevirtual #134                // Method java/util/concurrent/TimeUnit.toNanos:(J)J
     814: putfield      #137                // Field rollOnSyncNs:J
     817: aload_0
     818: aload         5
     820: ldc           #138                // String hbase.regionserver.wal.slowsync.roll.threshold
     822: bipush        100
     824: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
     827: putfield      #139                // Field slowSyncRollThreshold:I
     830: aload_0
     831: aload         5
     833: ldc           #140                // String hbase.regionserver.wal.slowsync.roll.interval.ms
     835: ldc           #141                // int 60000
     837: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
     840: putfield      #142                // Field slowSyncCheckInterval:I
     843: aload_0
     844: getstatic     #131                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     847: aload         5
     849: ldc           #143                // String hbase.regionserver.wal.sync.timeout
     851: ldc2_w        #144                // long 300000l
     854: invokevirtual #146                // Method org/apache/hadoop/conf/Configuration.getLong:(Ljava/lang/String;J)J
     857: invokevirtual #134                // Method java/util/concurrent/TimeUnit.toNanos:(J)J
     860: putfield      #147                // Field walSyncTimeoutNs:J
     863: aload_0
     864: new           #148                // class org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL$2
     867: dup
     868: aload_0
     869: invokespecial #149                // Method org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL$2."<init>":(Lorg/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL;)V
     872: putfield      #150                // Field cachedSyncFutures:Ljava/lang/ThreadLocal;
     875: aload_0
     876: aload_0
     877: invokevirtual #151                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     880: invokevirtual #152                // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
     883: putfield      #153                // Field implClassName:Ljava/lang/String;
     886: aload_0
     887: getstatic     #154                // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     890: aload         5
     892: ldc           #155                // String hbase.regionserver.wal.too.old.sec
     894: sipush        900
     897: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
     900: i2l
     901: invokevirtual #134                // Method java/util/concurrent/TimeUnit.toNanos:(J)J
     904: putfield      #156                // Field walTooOldNs:J
     907: return

  public void init() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #157                // Method rollWriter:()[[B
       4: pop
       5: return

  public void registerWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener);
    Code:
       0: aload_0
       1: getfield      #42                 // Field listeners:Ljava/util/List;
       4: aload_1
       5: invokeinterface #158,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      10: pop
      11: return

  public boolean unregisterWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener);
    Code:
       0: aload_0
       1: getfield      #42                 // Field listeners:Ljava/util/List;
       4: aload_1
       5: invokeinterface #159,  2          // InterfaceMethod java/util/List.remove:(Ljava/lang/Object;)Z
      10: ireturn

  public org.apache.hadoop.hbase.regionserver.wal.WALCoprocessorHost getCoprocessorHost();
    Code:
       0: aload_0
       1: getfield      #111                // Field coprocessorHost:Lorg/apache/hadoop/hbase/regionserver/wal/WALCoprocessorHost;
       4: areturn

  public java.lang.Long startCacheFlush(byte[], java.util.Set<byte[]>);
    Code:
       0: aload_0
       1: getfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
       4: aload_1
       5: aload_2
       6: invokevirtual #160                // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting.startCacheFlush:([BLjava/util/Set;)Ljava/lang/Long;
       9: areturn

  public java.lang.Long startCacheFlush(byte[], java.util.Map<byte[], java.lang.Long>);
    Code:
       0: aload_0
       1: getfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
       4: aload_1
       5: aload_2
       6: invokevirtual #161                // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting.startCacheFlush:([BLjava/util/Map;)Ljava/lang/Long;
       9: areturn

  public void completeCacheFlush(byte[]);
    Code:
       0: aload_0
       1: getfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
       4: aload_1
       5: invokevirtual #162                // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting.completeCacheFlush:([B)V
       8: return

  public void abortCacheFlush(byte[]);
    Code:
       0: aload_0
       1: getfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
       4: aload_1
       5: invokevirtual #163                // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting.abortCacheFlush:([B)V
       8: return

  public long getEarliestMemStoreSeqNum(byte[]);
    Code:
       0: aload_0
       1: getfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
       4: aload_1
       5: invokevirtual #164                // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting.getLowestSequenceId:([B)J
       8: lreturn

  public long getEarliestMemStoreSeqNum(byte[], byte[]);
    Code:
       0: aload_0
       1: getfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
       4: aload_1
       5: aload_2
       6: invokevirtual #165                // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting.getLowestSequenceId:([B[B)J
       9: lreturn

  public byte[][] rollWriter() throws org.apache.hadoop.hbase.regionserver.wal.FailedLogCloseException, java.io.IOException;
    Code:
       0: aload_0
       1: iconst_0
       2: invokevirtual #166                // Method rollWriter:(Z)[[B
       5: areturn

  protected org.apache.hadoop.fs.Path computeFilename(long);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: ifge          16
       6: new           #167                // class java/lang/RuntimeException
       9: dup
      10: ldc           #168                // String WAL file number can't be < 0
      12: invokespecial #169                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      15: athrow
      16: new           #9                  // class java/lang/StringBuilder
      19: dup
      20: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      23: aload_0
      24: getfield      #89                 // Field walFilePrefix:Ljava/lang/String;
      27: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: ldc           #90                 // String .
      32: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: lload_1
      36: invokevirtual #170                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      39: aload_0
      40: getfield      #22                 // Field walFileSuffix:Ljava/lang/String;
      43: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      49: astore_3
      50: new           #76                 // class org/apache/hadoop/fs/Path
      53: dup
      54: aload_0
      55: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
      58: aload_3
      59: invokespecial #77                 // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
      62: areturn

  public org.apache.hadoop.fs.Path getCurrentFileName();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #2                  // Field filenum:Ljava/util/concurrent/atomic/AtomicLong;
       5: invokevirtual #3                  // Method java/util/concurrent/atomic/AtomicLong.get:()J
       8: invokevirtual #171                // Method computeFilename:(J)Lorg/apache/hadoop/fs/Path;
      11: areturn

  org.apache.hadoop.fs.Path getOldPath();
    Code:
       0: aload_0
       1: getfield      #2                  // Field filenum:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #3                  // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lstore_1
       8: aconst_null
       9: astore_3
      10: lload_1
      11: lconst_0
      12: lcmp
      13: ifle          22
      16: aload_0
      17: lload_1
      18: invokevirtual #171                // Method computeFilename:(J)Lorg/apache/hadoop/fs/Path;
      21: astore_3
      22: aload_3
      23: areturn

  public int getNumRolledLogFiles();
    Code:
       0: aload_0
       1: getfield      #74                 // Field walFile2Props:Ljava/util/concurrent/ConcurrentNavigableMap;
       4: invokeinterface #181,  1          // InterfaceMethod java/util/concurrent/ConcurrentNavigableMap.size:()I
       9: ireturn

  public int getNumLogFiles();
    Code:
       0: aload_0
       1: invokevirtual #182                // Method getNumRolledLogFiles:()I
       4: iconst_1
       5: iadd
       6: ireturn

  byte[][] findRegionsToForceFlush() throws java.io.IOException;
    Code:
       0: aconst_null
       1: checkcast     #183                // class "[[B"
       4: astore_1
       5: aload_0
       6: invokevirtual #182                // Method getNumRolledLogFiles:()I
       9: istore_2
      10: iload_2
      11: aload_0
      12: getfield      #121                // Field maxLogs:I
      15: if_icmple     52
      18: iload_2
      19: ifle          52
      22: aload_0
      23: getfield      #74                 // Field walFile2Props:Ljava/util/concurrent/ConcurrentNavigableMap;
      26: invokeinterface #184,  1          // InterfaceMethod java/util/concurrent/ConcurrentNavigableMap.firstEntry:()Ljava/util/Map$Entry;
      31: astore_3
      32: aload_0
      33: getfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
      36: aload_3
      37: invokeinterface #185,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      42: checkcast     #186                // class org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL$WalProps
      45: getfield      #187                // Field org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL$WalProps.encodedName2HighestSequenceId:Ljava/util/Map;
      48: invokevirtual #188                // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting.findLower:(Ljava/util/Map;)[[B
      51: astore_1
      52: aload_1
      53: ifnull        165
      56: new           #9                  // class java/lang/StringBuilder
      59: dup
      60: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      63: astore_3
      64: iconst_0
      65: istore        4
      67: iload         4
      69: aload_1
      70: arraylength
      71: if_icmpge     104
      74: iload         4
      76: ifle          86
      79: aload_3
      80: ldc           #189                // String ,
      82: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      85: pop
      86: aload_3
      87: aload_1
      88: iload         4
      90: aaload
      91: invokestatic  #190                // Method org/apache/hadoop/hbase/util/Bytes.toStringBinary:([B)Ljava/lang/String;
      94: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: pop
      98: iinc          4, 1
     101: goto          67
     104: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
     107: new           #9                  // class java/lang/StringBuilder
     110: dup
     111: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     114: ldc           #191                // String Too many WALs; count=
     116: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     119: iload_2
     120: invokevirtual #192                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     123: ldc           #193                // String , max=
     125: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: aload_0
     129: getfield      #121                // Field maxLogs:I
     132: invokevirtual #192                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     135: ldc           #194                // String ; forcing flush of
     137: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: aload_1
     141: arraylength
     142: invokevirtual #192                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     145: ldc           #195                // String  regions(s):
     147: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     150: aload_3
     151: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     154: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     157: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     160: invokeinterface #130,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     165: aload_1
     166: areturn

  public static org.apache.hadoop.fs.Path getWALArchivePath(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path);
    Code:
       0: new           #76                 // class org/apache/hadoop/fs/Path
       3: dup
       4: aload_0
       5: aload_1
       6: invokevirtual #227                // Method org/apache/hadoop/fs/Path.getName:()Ljava/lang/String;
       9: invokespecial #77                 // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
      12: areturn

  protected final void logRollAndSetupWalProps(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, long);
    Code:
       0: aload_0
       1: getfield      #57                 // Field numEntries:Ljava/util/concurrent/atomic/AtomicInteger;
       4: iconst_0
       5: invokevirtual #235                // Method java/util/concurrent/atomic/AtomicInteger.getAndSet:(I)I
       8: istore        5
      10: aload_2
      11: ifnull        21
      14: aload_2
      15: invokestatic  #236                // Method org/apache/hadoop/hbase/util/CommonFSUtils.getPath:(Lorg/apache/hadoop/fs/Path;)Ljava/lang/String;
      18: goto          22
      21: aconst_null
      22: astore        6
      24: aload_1
      25: ifnull        107
      28: aload_0
      29: getfield      #74                 // Field walFile2Props:Ljava/util/concurrent/ConcurrentNavigableMap;
      32: aload_1
      33: new           #186                // class org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL$WalProps
      36: dup
      37: aload_0
      38: getfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
      41: invokevirtual #237                // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting.resetHighest:()Ljava/util/Map;
      44: lload_3
      45: invokespecial #238                // Method org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL$WalProps."<init>":(Ljava/util/Map;J)V
      48: invokeinterface #239,  3          // InterfaceMethod java/util/concurrent/ConcurrentNavigableMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      53: pop
      54: aload_0
      55: getfield      #60                 // Field totalLogSize:Ljava/util/concurrent/atomic/AtomicLong;
      58: lload_3
      59: invokevirtual #224                // Method java/util/concurrent/atomic/AtomicLong.addAndGet:(J)J
      62: pop2
      63: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
      66: ldc           #240                // String Rolled WAL {} with entries={}, filesize={}; new WAL {}
      68: iconst_4
      69: anewarray     #241                // class java/lang/Object
      72: dup
      73: iconst_0
      74: aload_1
      75: invokestatic  #236                // Method org/apache/hadoop/hbase/util/CommonFSUtils.getPath:(Lorg/apache/hadoop/fs/Path;)Ljava/lang/String;
      78: aastore
      79: dup
      80: iconst_1
      81: iload         5
      83: invokestatic  #242                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      86: aastore
      87: dup
      88: iconst_2
      89: lload_3
      90: invokestatic  #124                // Method org/apache/hadoop/util/StringUtils.byteDesc:(J)Ljava/lang/String;
      93: aastore
      94: dup
      95: iconst_3
      96: aload         6
      98: aastore
      99: invokeinterface #243,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     104: goto          119
     107: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
     110: ldc           #244                // String New WAL {}
     112: aload         6
     114: invokeinterface #245,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     119: return

  org.apache.hadoop.fs.Path replaceWriter(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, W) throws java.io.IOException;
    Code:
       0: ldc           #246                // String FSHFile.replaceWriter
       2: invokestatic  #247                // Method org/apache/hadoop/hbase/trace/TraceUtil.createTrace:(Ljava/lang/String;)Lorg/apache/htrace/core/TraceScope;
       5: astore        4
       7: aconst_null
       8: astore        5
      10: aload_0
      11: aload_1
      12: aload_2
      13: aload_3
      14: invokevirtual #248                // Method doReplaceWriter:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/hbase/wal/WALProvider$WriterBase;)V
      17: aload_2
      18: astore        6
      20: aload         4
      22: ifnull        55
      25: aload         5
      27: ifnull        50
      30: aload         4
      32: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
      35: goto          55
      38: astore        7
      40: aload         5
      42: aload         7
      44: invokevirtual #251                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      47: goto          55
      50: aload         4
      52: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
      55: aload         6
      57: areturn
      58: astore        6
      60: aload         6
      62: astore        5
      64: aload         6
      66: athrow
      67: astore        8
      69: aload         4
      71: ifnull        104
      74: aload         5
      76: ifnull        99
      79: aload         4
      81: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
      84: goto          104
      87: astore        9
      89: aload         5
      91: aload         9
      93: invokevirtual #251                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      96: goto          104
      99: aload         4
     101: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
     104: aload         8
     106: athrow
    Exception table:
       from    to  target type
          30    35    38   Class java/lang/Throwable
          10    20    58   Class java/lang/Throwable
          10    20    67   any
          79    84    87   Class java/lang/Throwable
          58    69    67   any

  protected final void blockOnSync(org.apache.hadoop.hbase.regionserver.wal.SyncFuture) throws java.io.IOException;
    Code:
       0: aload_1
       1: ifnull        30
       4: aload_0
       5: getfield      #64                 // Field closed:Z
       8: ifeq          21
      11: new           #82                 // class java/io/IOException
      14: dup
      15: ldc           #252                // String WAL has been closed
      17: invokespecial #84                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      20: athrow
      21: aload_1
      22: aload_0
      23: getfield      #147                // Field walSyncTimeoutNs:J
      26: invokevirtual #253                // Method org/apache/hadoop/hbase/regionserver/wal/SyncFuture.get:(J)J
      29: pop2
      30: goto          71
      33: astore_2
      34: aload_0
      35: getfield      #150                // Field cachedSyncFutures:Ljava/lang/ThreadLocal;
      38: invokevirtual #255                // Method java/lang/ThreadLocal.remove:()V
      41: aload_2
      42: athrow
      43: astore_2
      44: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
      47: ldc_w         #257                // String Interrupted
      50: aload_2
      51: invokeinterface #258,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      56: aload_0
      57: aload_2
      58: invokespecial #259                // Method convertInterruptedExceptionToIOException:(Ljava/lang/InterruptedException;)Ljava/io/IOException;
      61: athrow
      62: astore_2
      63: aload_2
      64: invokevirtual #261                // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
      67: invokestatic  #262                // Method ensureIOException:(Ljava/lang/Throwable;)Ljava/io/IOException;
      70: athrow
      71: return
    Exception table:
       from    to  target type
           0    30    33   Class org/apache/hadoop/hbase/exceptions/TimeoutIOException
           0    30    43   Class java/lang/InterruptedException
           0    30    62   Class java/util/concurrent/ExecutionException

  public byte[][] rollWriter(boolean) throws org.apache.hadoop.hbase.regionserver.wal.FailedLogCloseException, java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
       4: invokevirtual #269                // Method java/util/concurrent/locks/ReentrantLock.lock:()V
       7: aload_0
       8: getfield      #64                 // Field closed:Z
      11: ifeq          24
      14: new           #270                // class org/apache/hadoop/hbase/regionserver/wal/WALClosedException
      17: dup
      18: ldc           #252                // String WAL has been closed
      20: invokespecial #271                // Method org/apache/hadoop/hbase/regionserver/wal/WALClosedException."<init>":(Ljava/lang/String;)V
      23: athrow
      24: iload_1
      25: ifne          59
      28: aload_0
      29: getfield      #272                // Field writer:Lorg/apache/hadoop/hbase/wal/WALProvider$WriterBase;
      32: ifnull        59
      35: aload_0
      36: getfield      #57                 // Field numEntries:Ljava/util/concurrent/atomic/AtomicInteger;
      39: invokevirtual #273                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      42: ifgt          59
      45: aconst_null
      46: checkcast     #183                // class "[[B"
      49: astore_2
      50: aload_0
      51: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      54: invokevirtual #274                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      57: aload_2
      58: areturn
      59: aconst_null
      60: checkcast     #183                // class "[[B"
      63: astore_2
      64: ldc_w         #275                // String FSHLog.rollWriter
      67: invokestatic  #247                // Method org/apache/hadoop/hbase/trace/TraceUtil.createTrace:(Ljava/lang/String;)Lorg/apache/htrace/core/TraceScope;
      70: astore_3
      71: aconst_null
      72: astore        4
      74: aload_0
      75: invokevirtual #276                // Method getOldPath:()Lorg/apache/hadoop/fs/Path;
      78: astore        5
      80: aload_0
      81: invokespecial #277                // Method getNewPath:()Lorg/apache/hadoop/fs/Path;
      84: astore        6
      86: aload_0
      87: aload         6
      89: invokevirtual #278                // Method createWriterInstance:(Lorg/apache/hadoop/fs/Path;)Lorg/apache/hadoop/hbase/wal/WALProvider$WriterBase;
      92: astore        7
      94: aload_0
      95: aload         5
      97: aload         6
      99: invokespecial #279                // Method tellListenersAboutPreLogRoll:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)V
     102: aload_0
     103: aload         5
     105: aload         6
     107: aload         7
     109: invokevirtual #280                // Method replaceWriter:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/hbase/wal/WALProvider$WriterBase;)Lorg/apache/hadoop/fs/Path;
     112: astore        6
     114: aload_0
     115: iconst_0
     116: putfield      #281                // Field rollRequested:Z
     119: aload_0
     120: aload         5
     122: aload         6
     124: invokespecial #282                // Method tellListenersAboutPostLogRoll:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)V
     127: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
     130: invokeinterface #283,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     135: ifeq          185
     138: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
     141: new           #9                  // class java/lang/StringBuilder
     144: dup
     145: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     148: ldc_w         #284                // String Create new
     151: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     154: aload_0
     155: getfield      #153                // Field implClassName:Ljava/lang/String;
     158: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     161: ldc_w         #285                // String  writer with pipeline:
     164: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     167: aload_0
     168: invokevirtual #286                // Method getPipeline:()[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     171: invokestatic  #287                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
     174: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     177: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     180: invokeinterface #288,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     185: aload_0
     186: invokestatic  #61                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
     189: putfield      #63                 // Field lastTimeCheckSlowSync:J
     192: aload_0
     193: getfield      #48                 // Field slowSyncCount:Ljava/util/concurrent/atomic/AtomicInteger;
     196: iconst_0
     197: invokevirtual #289                // Method java/util/concurrent/atomic/AtomicInteger.set:(I)V
     200: aload_0
     201: invokevirtual #182                // Method getNumRolledLogFiles:()I
     204: ifle          216
     207: aload_0
     208: invokespecial #290                // Method cleanOldLogs:()V
     211: aload_0
     212: invokevirtual #291                // Method findRegionsToForceFlush:()[[B
     215: astore_2
     216: aload_3
     217: ifnull        297
     220: aload         4
     222: ifnull        244
     225: aload_3
     226: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
     229: goto          297
     232: astore        5
     234: aload         4
     236: aload         5
     238: invokevirtual #251                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     241: goto          297
     244: aload_3
     245: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
     248: goto          297
     251: astore        5
     253: aload         5
     255: astore        4
     257: aload         5
     259: athrow
     260: astore        8
     262: aload_3
     263: ifnull        294
     266: aload         4
     268: ifnull        290
     271: aload_3
     272: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
     275: goto          294
     278: astore        9
     280: aload         4
     282: aload         9
     284: invokevirtual #251                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     287: goto          294
     290: aload_3
     291: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
     294: aload         8
     296: athrow
     297: goto          313
     300: astore_3
     301: new           #82                 // class java/io/IOException
     304: dup
     305: ldc_w         #293                // String Underlying FileSystem can't meet stream requirements. See RS log for details.
     308: aload_3
     309: invokespecial #294                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     312: athrow
     313: aload_2
     314: astore_3
     315: aload_0
     316: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
     319: invokevirtual #274                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     322: aload_3
     323: areturn
     324: astore        10
     326: aload_0
     327: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
     330: invokevirtual #274                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     333: aload         10
     335: athrow
    Exception table:
       from    to  target type
         225   229   232   Class java/lang/Throwable
          74   216   251   Class java/lang/Throwable
          74   216   260   any
         271   275   278   Class java/lang/Throwable
         251   262   260   any
          64   297   300   Class org/apache/hadoop/hbase/util/CommonFSUtils$StreamLacksCapabilityException
           7    50   324   any
          59   315   324   any
         324   326   324   any

  public long getLogFileSize();
    Code:
       0: aload_0
       1: getfield      #60                 // Field totalLogSize:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #3                  // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  public void requestLogRoll();
    Code:
       0: aload_0
       1: getstatic     #295                // Field org/apache/hadoop/hbase/regionserver/wal/WALActionsListener$RollRequestReason.ERROR:Lorg/apache/hadoop/hbase/regionserver/wal/WALActionsListener$RollRequestReason;
       4: invokevirtual #296                // Method requestLogRoll:(Lorg/apache/hadoop/hbase/regionserver/wal/WALActionsListener$RollRequestReason;)V
       7: return

  org.apache.hadoop.fs.FileStatus[] getFiles() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #75                 // Field fs:Lorg/apache/hadoop/fs/FileSystem;
       4: aload_0
       5: getfield      #78                 // Field walDir:Lorg/apache/hadoop/fs/Path;
       8: aload_0
       9: getfield      #6                  // Field ourFiles:Lorg/apache/hadoop/fs/PathFilter;
      12: invokestatic  #102                // Method org/apache/hadoop/hbase/util/CommonFSUtils.listStatus:(Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/PathFilter;)[Lorg/apache/hadoop/fs/FileStatus;
      15: areturn

  public void shutdown() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #67                 // Field shutdown:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_0
       5: iconst_1
       6: invokevirtual #297                // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifne          13
      12: return
      13: aload_0
      14: iconst_1
      15: putfield      #64                 // Field closed:Z
      18: aload_0
      19: getfield      #42                 // Field listeners:Ljava/util/List;
      22: invokeinterface #177,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      27: ifne          68
      30: aload_0
      31: getfield      #42                 // Field listeners:Ljava/util/List;
      34: invokeinterface #104,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      39: astore_1
      40: aload_1
      41: invokeinterface #105,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      46: ifeq          68
      49: aload_1
      50: invokeinterface #106,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      55: checkcast     #107                // class org/apache/hadoop/hbase/regionserver/wal/WALActionsListener
      58: astore_2
      59: aload_2
      60: invokeinterface #298,  1          // InterfaceMethod org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.logCloseRequested:()V
      65: goto          40
      68: aload_0
      69: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      72: invokevirtual #269                // Method java/util/concurrent/locks/ReentrantLock.lock:()V
      75: aload_0
      76: invokevirtual #299                // Method doShutdown:()V
      79: aload_0
      80: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      83: invokevirtual #274                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      86: goto          99
      89: astore_3
      90: aload_0
      91: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      94: invokevirtual #274                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      97: aload_3
      98: athrow
      99: return
    Exception table:
       from    to  target type
          75    79    89   any

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #300                // Method shutdown:()V
       4: aload_0
       5: invokevirtual #301                // Method getFiles:()[Lorg/apache/hadoop/fs/FileStatus;
       8: astore_1
       9: aconst_null
      10: aload_1
      11: if_acmpeq     287
      14: iconst_0
      15: aload_1
      16: arraylength
      17: if_icmpeq     287
      20: aload_1
      21: astore_2
      22: aload_2
      23: arraylength
      24: istore_3
      25: iconst_0
      26: istore        4
      28: iload         4
      30: iload_3
      31: if_icmpge     242
      34: aload_2
      35: iload         4
      37: aaload
      38: astore        5
      40: aload_0
      41: getfield      #79                 // Field walArchiveDir:Lorg/apache/hadoop/fs/Path;
      44: aload         5
      46: invokevirtual #302                // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
      49: invokestatic  #228                // Method getWALArchivePath:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)Lorg/apache/hadoop/fs/Path;
      52: astore        6
      54: aload_0
      55: getfield      #42                 // Field listeners:Ljava/util/List;
      58: invokeinterface #177,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      63: ifne          116
      66: aload_0
      67: getfield      #42                 // Field listeners:Ljava/util/List;
      70: invokeinterface #104,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      75: astore        7
      77: aload         7
      79: invokeinterface #105,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      84: ifeq          116
      87: aload         7
      89: invokeinterface #106,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      94: checkcast     #107                // class org/apache/hadoop/hbase/regionserver/wal/WALActionsListener
      97: astore        8
      99: aload         8
     101: aload         5
     103: invokevirtual #302                // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     106: aload         6
     108: invokeinterface #229,  3          // InterfaceMethod org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.preLogArchive:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)V
     113: goto          77
     116: aload_0
     117: getfield      #75                 // Field fs:Lorg/apache/hadoop/fs/FileSystem;
     120: aload         5
     122: invokevirtual #302                // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     125: aload         6
     127: invokestatic  #232                // Method org/apache/hadoop/hbase/util/CommonFSUtils.renameAndSetModifyTime:(Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)Z
     130: ifne          174
     133: new           #82                 // class java/io/IOException
     136: dup
     137: new           #9                  // class java/lang/StringBuilder
     140: dup
     141: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     144: ldc           #233                // String Unable to rename
     146: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     149: aload         5
     151: invokevirtual #302                // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     154: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     157: ldc           #231                // String  to
     159: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     162: aload         6
     164: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     167: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     170: invokespecial #84                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     173: athrow
     174: aload_0
     175: getfield      #42                 // Field listeners:Ljava/util/List;
     178: invokeinterface #177,  1          // InterfaceMethod java/util/List.isEmpty:()Z
     183: ifne          236
     186: aload_0
     187: getfield      #42                 // Field listeners:Ljava/util/List;
     190: invokeinterface #104,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     195: astore        7
     197: aload         7
     199: invokeinterface #105,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     204: ifeq          236
     207: aload         7
     209: invokeinterface #106,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     214: checkcast     #107                // class org/apache/hadoop/hbase/regionserver/wal/WALActionsListener
     217: astore        8
     219: aload         8
     221: aload         5
     223: invokevirtual #302                // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     226: aload         6
     228: invokeinterface #234,  3          // InterfaceMethod org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.postLogArchive:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)V
     233: goto          197
     236: iinc          4, 1
     239: goto          28
     242: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
     245: new           #9                  // class java/lang/StringBuilder
     248: dup
     249: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     252: ldc_w         #303                // String Moved
     255: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     258: aload_1
     259: arraylength
     260: invokevirtual #192                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     263: ldc_w         #304                // String  WAL file(s) to
     266: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     269: aload_0
     270: getfield      #79                 // Field walArchiveDir:Lorg/apache/hadoop/fs/Path;
     273: invokestatic  #236                // Method org/apache/hadoop/hbase/util/CommonFSUtils.getPath:(Lorg/apache/hadoop/fs/Path;)Ljava/lang/String;
     276: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     279: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     282: invokeinterface #288,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     287: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
     290: new           #9                  // class java/lang/StringBuilder
     293: dup
     294: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     297: ldc_w         #305                // String Closed WAL:
     300: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     303: aload_0
     304: invokevirtual #15                 // Method toString:()Ljava/lang/String;
     307: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     310: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     313: invokeinterface #130,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     318: return

  public void updateStore(byte[], byte[], java.lang.Long, boolean);
    Code:
       0: aload_0
       1: getfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
       4: aload_1
       5: aload_2
       6: aload_3
       7: iload         4
       9: invokevirtual #306                // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting.updateStore:([B[BLjava/lang/Long;Z)V
      12: return

  protected final org.apache.hadoop.hbase.regionserver.wal.SyncFuture getSyncFuture(long);
    Code:
       0: aload_0
       1: getfield      #150                // Field cachedSyncFutures:Ljava/lang/ThreadLocal;
       4: invokevirtual #307                // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       7: checkcast     #308                // class org/apache/hadoop/hbase/regionserver/wal/SyncFuture
      10: lload_1
      11: invokevirtual #309                // Method org/apache/hadoop/hbase/regionserver/wal/SyncFuture.reset:(J)Lorg/apache/hadoop/hbase/regionserver/wal/SyncFuture;
      14: areturn

  protected boolean isLogRollRequested();
    Code:
       0: aload_0
       1: getfield      #281                // Field rollRequested:Z
       4: ireturn

  protected final void requestLogRoll(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener$RollRequestReason);
    Code:
       0: aload_0
       1: getfield      #281                // Field rollRequested:Z
       4: ifeq          8
       7: return
       8: aload_0
       9: getfield      #42                 // Field listeners:Ljava/util/List;
      12: invokeinterface #177,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      17: ifne          64
      20: aload_0
      21: iconst_1
      22: putfield      #281                // Field rollRequested:Z
      25: aload_0
      26: getfield      #42                 // Field listeners:Ljava/util/List;
      29: invokeinterface #104,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      34: astore_2
      35: aload_2
      36: invokeinterface #105,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      41: ifeq          64
      44: aload_2
      45: invokeinterface #106,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      50: checkcast     #107                // class org/apache/hadoop/hbase/regionserver/wal/WALActionsListener
      53: astore_3
      54: aload_3
      55: aload_1
      56: invokeinterface #310,  2          // InterfaceMethod org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.logRollRequested:(Lorg/apache/hadoop/hbase/regionserver/wal/WALActionsListener$RollRequestReason;)V
      61: goto          35
      64: return

  long getUnflushedEntriesCount();
    Code:
       0: aload_0
       1: getfield      #59                 // Field highestSyncedTxid:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #3                  // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lstore_1
       8: aload_0
       9: getfield      #58                 // Field highestUnsyncedTxid:J
      12: lstore_3
      13: lload_1
      14: lload_3
      15: lcmp
      16: iflt          23
      19: lconst_0
      20: goto          26
      23: lload_3
      24: lload_1
      25: lsub
      26: lreturn

  boolean isUnflushedEntries();
    Code:
       0: aload_0
       1: invokevirtual #311                // Method getUnflushedEntriesCount:()J
       4: lconst_0
       5: lcmp
       6: ifle          13
       9: iconst_1
      10: goto          14
      13: iconst_0
      14: ireturn

  void atHeadOfRingBufferEventHandlerAppend();
    Code:
       0: return

  protected final boolean append(W, org.apache.hadoop.hbase.regionserver.wal.FSWALEntry) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #312                // Method atHeadOfRingBufferEventHandlerAppend:()V
       4: invokestatic  #61                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
       7: lstore_3
       8: aload_2
       9: invokevirtual #313                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getKey:()Lorg/apache/hadoop/hbase/wal/WALKeyImpl;
      12: invokevirtual #314                // Method org/apache/hadoop/hbase/wal/WALKeyImpl.getEncodedRegionName:()[B
      15: astore        5
      17: aload_2
      18: invokevirtual #313                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getKey:()Lorg/apache/hadoop/hbase/wal/WALKeyImpl;
      21: invokevirtual #315                // Method org/apache/hadoop/hbase/wal/WALKeyImpl.getSequenceId:()J
      24: lstore        6
      26: aload_2
      27: invokevirtual #316                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getEdit:()Lorg/apache/hadoop/hbase/wal/WALEdit;
      30: invokevirtual #317                // Method org/apache/hadoop/hbase/wal/WALEdit.isEmpty:()Z
      33: ifeq          38
      36: iconst_0
      37: ireturn
      38: aload_0
      39: getfield      #111                // Field coprocessorHost:Lorg/apache/hadoop/hbase/regionserver/wal/WALCoprocessorHost;
      42: aload_2
      43: invokevirtual #318                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getRegionInfo:()Lorg/apache/hadoop/hbase/client/RegionInfo;
      46: aload_2
      47: invokevirtual #313                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getKey:()Lorg/apache/hadoop/hbase/wal/WALKeyImpl;
      50: aload_2
      51: invokevirtual #316                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getEdit:()Lorg/apache/hadoop/hbase/wal/WALEdit;
      54: invokevirtual #319                // Method org/apache/hadoop/hbase/regionserver/wal/WALCoprocessorHost.preWALWrite:(Lorg/apache/hadoop/hbase/client/RegionInfo;Lorg/apache/hadoop/hbase/wal/WALKey;Lorg/apache/hadoop/hbase/wal/WALEdit;)V
      57: aload_0
      58: getfield      #42                 // Field listeners:Ljava/util/List;
      61: invokeinterface #177,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      66: ifne          120
      69: aload_0
      70: getfield      #42                 // Field listeners:Ljava/util/List;
      73: invokeinterface #104,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      78: astore        8
      80: aload         8
      82: invokeinterface #105,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      87: ifeq          120
      90: aload         8
      92: invokeinterface #106,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      97: checkcast     #107                // class org/apache/hadoop/hbase/regionserver/wal/WALActionsListener
     100: astore        9
     102: aload         9
     104: aload_2
     105: invokevirtual #313                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getKey:()Lorg/apache/hadoop/hbase/wal/WALKeyImpl;
     108: aload_2
     109: invokevirtual #316                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getEdit:()Lorg/apache/hadoop/hbase/wal/WALEdit;
     112: invokeinterface #320,  3          // InterfaceMethod org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.visitLogEntryBeforeWrite:(Lorg/apache/hadoop/hbase/wal/WALKey;Lorg/apache/hadoop/hbase/wal/WALEdit;)V
     117: goto          80
     120: aload_0
     121: aload_1
     122: aload_2
     123: invokevirtual #321                // Method doAppend:(Lorg/apache/hadoop/hbase/wal/WALProvider$WriterBase;Lorg/apache/hadoop/hbase/regionserver/wal/FSWALEntry;)V
     126: getstatic     #322                // Field $assertionsDisabled:Z
     129: ifne          152
     132: aload_0
     133: getfield      #58                 // Field highestUnsyncedTxid:J
     136: aload_2
     137: invokevirtual #323                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getTxid:()J
     140: lcmp
     141: iflt          152
     144: new           #324                // class java/lang/AssertionError
     147: dup
     148: invokespecial #325                // Method java/lang/AssertionError."<init>":()V
     151: athrow
     152: aload_0
     153: aload_2
     154: invokevirtual #323                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getTxid:()J
     157: putfield      #58                 // Field highestUnsyncedTxid:J
     160: aload_0
     161: getfield      #45                 // Field sequenceIdAccounting:Lorg/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting;
     164: aload         5
     166: aload_2
     167: invokevirtual #326                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getFamilyNames:()Ljava/util/Set;
     170: lload         6
     172: aload_2
     173: invokevirtual #327                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.isInMemStore:()Z
     176: invokevirtual #328                // Method org/apache/hadoop/hbase/regionserver/wal/SequenceIdAccounting.update:([BLjava/util/Set;JZ)V
     179: aload_0
     180: getfield      #111                // Field coprocessorHost:Lorg/apache/hadoop/hbase/regionserver/wal/WALCoprocessorHost;
     183: aload_2
     184: invokevirtual #318                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getRegionInfo:()Lorg/apache/hadoop/hbase/client/RegionInfo;
     187: aload_2
     188: invokevirtual #313                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getKey:()Lorg/apache/hadoop/hbase/wal/WALKeyImpl;
     191: aload_2
     192: invokevirtual #316                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.getEdit:()Lorg/apache/hadoop/hbase/wal/WALEdit;
     195: invokevirtual #329                // Method org/apache/hadoop/hbase/regionserver/wal/WALCoprocessorHost.postWALWrite:(Lorg/apache/hadoop/hbase/client/RegionInfo;Lorg/apache/hadoop/hbase/wal/WALKey;Lorg/apache/hadoop/hbase/wal/WALEdit;)V
     198: aload_0
     199: aload_2
     200: invokestatic  #61                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
     203: lload_3
     204: lsub
     205: invokespecial #330                // Method postAppend:(Lorg/apache/hadoop/hbase/wal/WAL$Entry;J)J
     208: pop2
     209: aload_0
     210: getfield      #57                 // Field numEntries:Ljava/util/concurrent/atomic/AtomicInteger;
     213: invokevirtual #331                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
     216: pop
     217: iconst_1
     218: ireturn

  protected final void postSync(long, int);
    Code:
       0: lload_1
       1: aload_0
       2: getfield      #135                // Field slowSyncNs:J
       5: lcmp
       6: ifle          161
       9: new           #9                  // class java/lang/StringBuilder
      12: dup
      13: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      16: ldc_w         #338                // String Slow sync cost:
      19: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      22: getstatic     #212                // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
      25: lload_1
      26: invokevirtual #339                // Method java/util/concurrent/TimeUnit.toMillis:(J)J
      29: invokevirtual #170                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      32: ldc_w         #340                // String  ms, current pipeline:
      35: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: aload_0
      39: invokevirtual #286                // Method getPipeline:()[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      42: invokestatic  #287                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
      45: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      51: astore        4
      53: aload         4
      55: invokestatic  #341                // Method org/apache/hadoop/hbase/trace/TraceUtil.addTimelineAnnotation:(Ljava/lang/String;)V
      58: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
      61: aload         4
      63: invokeinterface #130,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      68: lload_1
      69: aload_0
      70: getfield      #137                // Field rollOnSyncNs:J
      73: lcmp
      74: ifle          153
      77: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
      80: new           #9                  // class java/lang/StringBuilder
      83: dup
      84: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      87: ldc_w         #342                // String Requesting log roll because we exceeded slow sync threshold; time=
      90: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: getstatic     #212                // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
      96: lload_1
      97: invokevirtual #339                // Method java/util/concurrent/TimeUnit.toMillis:(J)J
     100: invokevirtual #170                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     103: ldc_w         #343                // String  ms, threshold=
     106: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     109: getstatic     #212                // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     112: aload_0
     113: getfield      #137                // Field rollOnSyncNs:J
     116: invokevirtual #339                // Method java/util/concurrent/TimeUnit.toMillis:(J)J
     119: invokevirtual #170                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     122: ldc_w         #340                // String  ms, current pipeline:
     125: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: aload_0
     129: invokevirtual #286                // Method getPipeline:()[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     132: invokestatic  #287                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
     135: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     138: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     141: invokeinterface #219,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     146: aload_0
     147: getstatic     #344                // Field org/apache/hadoop/hbase/regionserver/wal/WALActionsListener$RollRequestReason.SLOW_SYNC:Lorg/apache/hadoop/hbase/regionserver/wal/WALActionsListener$RollRequestReason;
     150: invokevirtual #296                // Method requestLogRoll:(Lorg/apache/hadoop/hbase/regionserver/wal/WALActionsListener$RollRequestReason;)V
     153: aload_0
     154: getfield      #48                 // Field slowSyncCount:Ljava/util/concurrent/atomic/AtomicInteger;
     157: invokevirtual #331                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
     160: pop
     161: aload_0
     162: getfield      #42                 // Field listeners:Ljava/util/List;
     165: invokeinterface #177,  1          // InterfaceMethod java/util/List.isEmpty:()Z
     170: ifne          218
     173: aload_0
     174: getfield      #42                 // Field listeners:Ljava/util/List;
     177: invokeinterface #104,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     182: astore        4
     184: aload         4
     186: invokeinterface #105,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     191: ifeq          218
     194: aload         4
     196: invokeinterface #106,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     201: checkcast     #107                // class org/apache/hadoop/hbase/regionserver/wal/WALActionsListener
     204: astore        5
     206: aload         5
     208: lload_1
     209: iload_3
     210: invokeinterface #345,  4          // InterfaceMethod org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.postSync:(JI)V
     215: goto          184
     218: return

  protected final long stampSequenceIdAndPublishToRingBuffer(org.apache.hadoop.hbase.client.RegionInfo, org.apache.hadoop.hbase.wal.WALKeyImpl, org.apache.hadoop.hbase.wal.WALEdit, boolean, com.lmax.disruptor.RingBuffer<org.apache.hadoop.hbase.regionserver.wal.RingBufferTruck>) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #64                 // Field closed:Z
       4: ifeq          40
       7: new           #82                 // class java/io/IOException
      10: dup
      11: new           #9                  // class java/lang/StringBuilder
      14: dup
      15: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      18: ldc_w         #346                // String Cannot append; log is closed, regionName =
      21: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokeinterface #347,  1          // InterfaceMethod org/apache/hadoop/hbase/client/RegionInfo.getRegionNameAsString:()Ljava/lang/String;
      30: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: invokespecial #84                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      39: athrow
      40: new           #348                // class org/apache/commons/lang3/mutable/MutableLong
      43: dup
      44: invokespecial #349                // Method org/apache/commons/lang3/mutable/MutableLong."<init>":()V
      47: astore        6
      49: aload_2
      50: invokevirtual #350                // Method org/apache/hadoop/hbase/wal/WALKeyImpl.getMvcc:()Lorg/apache/hadoop/hbase/regionserver/MultiVersionConcurrencyControl;
      53: aload         6
      55: aload         5
      57: invokedynamic #351,  0            // InvokeDynamic #1:run:(Lorg/apache/commons/lang3/mutable/MutableLong;Lcom/lmax/disruptor/RingBuffer;)Ljava/lang/Runnable;
      62: invokevirtual #352                // Method org/apache/hadoop/hbase/regionserver/MultiVersionConcurrencyControl.begin:(Ljava/lang/Runnable;)Lorg/apache/hadoop/hbase/regionserver/MultiVersionConcurrencyControl$WriteEntry;
      65: astore        7
      67: aload         6
      69: invokevirtual #353                // Method org/apache/commons/lang3/mutable/MutableLong.longValue:()J
      72: lstore        8
      74: new           #9                  // class java/lang/StringBuilder
      77: dup
      78: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      81: aload_0
      82: getfield      #153                // Field implClassName:Ljava/lang/String;
      85: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: ldc_w         #354                // String .append
      91: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      94: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      97: invokestatic  #247                // Method org/apache/hadoop/hbase/trace/TraceUtil.createTrace:(Ljava/lang/String;)Lorg/apache/htrace/core/TraceScope;
     100: astore        10
     102: aconst_null
     103: astore        11
     105: new           #355                // class org/apache/hadoop/hbase/regionserver/wal/FSWALEntry
     108: dup
     109: lload         8
     111: aload_2
     112: aload_3
     113: aload_1
     114: iload         4
     116: invokespecial #356                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry."<init>":(JLorg/apache/hadoop/hbase/wal/WALKeyImpl;Lorg/apache/hadoop/hbase/wal/WALEdit;Lorg/apache/hadoop/hbase/client/RegionInfo;Z)V
     119: astore        12
     121: aload         12
     123: aload         7
     125: invokevirtual #357                // Method org/apache/hadoop/hbase/regionserver/wal/FSWALEntry.stampRegionSequenceId:(Lorg/apache/hadoop/hbase/regionserver/MultiVersionConcurrencyControl$WriteEntry;)J
     128: pop2
     129: aload         5
     131: lload         8
     133: invokevirtual #358                // Method com/lmax/disruptor/RingBuffer.get:(J)Ljava/lang/Object;
     136: checkcast     #359                // class org/apache/hadoop/hbase/regionserver/wal/RingBufferTruck
     139: aload         12
     141: invokevirtual #360                // Method org/apache/hadoop/hbase/regionserver/wal/RingBufferTruck.load:(Lorg/apache/hadoop/hbase/regionserver/wal/FSWALEntry;)V
     144: aload         10
     146: ifnull        231
     149: aload         11
     151: ifnull        174
     154: aload         10
     156: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
     159: goto          231
     162: astore        12
     164: aload         11
     166: aload         12
     168: invokevirtual #251                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     171: goto          231
     174: aload         10
     176: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
     179: goto          231
     182: astore        12
     184: aload         12
     186: astore        11
     188: aload         12
     190: athrow
     191: astore        13
     193: aload         10
     195: ifnull        228
     198: aload         11
     200: ifnull        223
     203: aload         10
     205: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
     208: goto          228
     211: astore        14
     213: aload         11
     215: aload         14
     217: invokevirtual #251                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     220: goto          228
     223: aload         10
     225: invokevirtual #249                // Method org/apache/htrace/core/TraceScope.close:()V
     228: aload         13
     230: athrow
     231: aload         5
     233: lload         8
     235: invokevirtual #361                // Method com/lmax/disruptor/RingBuffer.publish:(J)V
     238: goto          253
     241: astore        15
     243: aload         5
     245: lload         8
     247: invokevirtual #361                // Method com/lmax/disruptor/RingBuffer.publish:(J)V
     250: aload         15
     252: athrow
     253: lload         8
     255: lreturn
    Exception table:
       from    to  target type
         154   159   162   Class java/lang/Throwable
         105   144   182   Class java/lang/Throwable
         105   144   191   any
         203   208   211   Class java/lang/Throwable
         182   193   191   any
          74   231   241   any
         241   243   241   any

  public java.lang.String toString();
    Code:
       0: new           #9                  // class java/lang/StringBuilder
       3: dup
       4: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: getfield      #153                // Field implClassName:Ljava/lang/String;
      11: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc_w         #362                // String
      17: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: aload_0
      21: getfield      #89                 // Field walFilePrefix:Ljava/lang/String;
      24: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      27: ldc_w         #363                // String :
      30: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: aload_0
      34: getfield      #22                 // Field walFileSuffix:Ljava/lang/String;
      37: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      40: ldc_w         #364                // String (num
      43: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: aload_0
      47: getfield      #2                  // Field filenum:Ljava/util/concurrent/atomic/AtomicLong;
      50: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      53: ldc           #16                 // String )
      55: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      58: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      61: areturn

  public java.util.OptionalLong getLogFileSizeIfBeingWritten(org.apache.hadoop.fs.Path);
    Code:
       0: aload_0
       1: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
       4: invokevirtual #269                // Method java/util/concurrent/locks/ReentrantLock.lock:()V
       7: aload_0
       8: invokevirtual #276                // Method getOldPath:()Lorg/apache/hadoop/fs/Path;
      11: astore_2
      12: aload_1
      13: aload_2
      14: invokevirtual #365                // Method org/apache/hadoop/fs/Path.equals:(Ljava/lang/Object;)Z
      17: ifeq          56
      20: aload_0
      21: getfield      #272                // Field writer:Lorg/apache/hadoop/hbase/wal/WALProvider$WriterBase;
      24: astore_3
      25: aload_3
      26: ifnull        41
      29: aload_3
      30: invokeinterface #366,  1          // InterfaceMethod org/apache/hadoop/hbase/wal/WALProvider$WriterBase.getLength:()J
      35: invokestatic  #367                // Method java/util/OptionalLong.of:(J)Ljava/util/OptionalLong;
      38: goto          44
      41: invokestatic  #368                // Method java/util/OptionalLong.empty:()Ljava/util/OptionalLong;
      44: astore        4
      46: aload_0
      47: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      50: invokevirtual #274                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      53: aload         4
      55: areturn
      56: invokestatic  #368                // Method java/util/OptionalLong.empty:()Ljava/util/OptionalLong;
      59: astore_3
      60: aload_0
      61: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      64: invokevirtual #274                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      67: aload_3
      68: areturn
      69: astore        5
      71: aload_0
      72: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      75: invokevirtual #274                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      78: aload         5
      80: athrow
    Exception table:
       from    to  target type
           7    46    69   any
          56    60    69   any
          69    71    69   any

  public abstract long append(org.apache.hadoop.hbase.client.RegionInfo, org.apache.hadoop.hbase.wal.WALKeyImpl, org.apache.hadoop.hbase.wal.WALEdit, boolean) throws java.io.IOException;

  protected abstract void doAppend(W, org.apache.hadoop.hbase.regionserver.wal.FSWALEntry) throws java.io.IOException;

  protected abstract W createWriterInstance(org.apache.hadoop.fs.Path) throws java.io.IOException, org.apache.hadoop.hbase.util.CommonFSUtils$StreamLacksCapabilityException;

  protected abstract void doReplaceWriter(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, W) throws java.io.IOException;

  protected abstract void doShutdown() throws java.io.IOException;

  protected abstract boolean doCheckLogLowReplication();

  protected boolean doCheckSlowSync();
    Code:
       0: iconst_0
       1: istore_1
       2: invokestatic  #61                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
       5: lstore_2
       6: lload_2
       7: aload_0
       8: getfield      #63                 // Field lastTimeCheckSlowSync:J
      11: lsub
      12: lstore        4
      14: lload         4
      16: aload_0
      17: getfield      #142                // Field slowSyncCheckInterval:I
      20: i2l
      21: lcmp
      22: iflt          221
      25: aload_0
      26: getfield      #48                 // Field slowSyncCount:Ljava/util/concurrent/atomic/AtomicInteger;
      29: invokevirtual #273                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      32: aload_0
      33: getfield      #139                // Field slowSyncRollThreshold:I
      36: if_icmplt     208
      39: lload         4
      41: iconst_2
      42: aload_0
      43: getfield      #142                // Field slowSyncCheckInterval:I
      46: imul
      47: i2l
      48: lcmp
      49: iflt          143
      52: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
      55: invokeinterface #283,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      60: ifeq          208
      63: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
      66: new           #9                  // class java/lang/StringBuilder
      69: dup
      70: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      73: ldc_w         #369                // String checkSlowSync triggered but we decided to ignore it; count=
      76: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: aload_0
      80: getfield      #48                 // Field slowSyncCount:Ljava/util/concurrent/atomic/AtomicInteger;
      83: invokevirtual #273                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      86: invokevirtual #192                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      89: ldc_w         #370                // String , threshold=
      92: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      95: aload_0
      96: getfield      #139                // Field slowSyncRollThreshold:I
      99: invokevirtual #192                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     102: ldc_w         #371                // String , elapsedTime=
     105: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: lload         4
     110: invokevirtual #170                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     113: ldc_w         #372                // String  ms, slowSyncCheckInterval=
     116: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     119: aload_0
     120: getfield      #142                // Field slowSyncCheckInterval:I
     123: invokevirtual #192                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     126: ldc_w         #373                // String  ms
     129: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     132: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     135: invokeinterface #288,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     140: goto          208
     143: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
     146: new           #9                  // class java/lang/StringBuilder
     149: dup
     150: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     153: ldc_w         #374                // String Requesting log roll because we exceeded slow sync threshold; count=
     156: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     159: aload_0
     160: getfield      #48                 // Field slowSyncCount:Ljava/util/concurrent/atomic/AtomicInteger;
     163: invokevirtual #273                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
     166: invokevirtual #192                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     169: ldc_w         #370                // String , threshold=
     172: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     175: aload_0
     176: getfield      #139                // Field slowSyncRollThreshold:I
     179: invokevirtual #192                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     182: ldc_w         #375                // String , current pipeline:
     185: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     188: aload_0
     189: invokevirtual #286                // Method getPipeline:()[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     192: invokestatic  #287                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
     195: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     198: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     201: invokeinterface #219,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     206: iconst_1
     207: istore_1
     208: aload_0
     209: lload_2
     210: putfield      #63                 // Field lastTimeCheckSlowSync:J
     213: aload_0
     214: getfield      #48                 // Field slowSyncCount:Ljava/util/concurrent/atomic/AtomicInteger;
     217: iconst_0
     218: invokevirtual #289                // Method java/util/concurrent/atomic/AtomicInteger.set:(I)V
     221: iload_1
     222: ireturn

  public void checkLogLowReplication(long);
    Code:
       0: invokestatic  #61                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
       3: lstore_3
       4: lload_3
       5: aload_0
       6: getfield      #62                 // Field lastTimeCheckLowReplication:J
       9: lsub
      10: lload_1
      11: lcmp
      12: ifge          16
      15: return
      16: aload_0
      17: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      20: invokevirtual #376                // Method java/util/concurrent/locks/ReentrantLock.tryLock:()Z
      23: ifne          27
      26: return
      27: aload_0
      28: lload_3
      29: putfield      #62                 // Field lastTimeCheckLowReplication:J
      32: aload_0
      33: invokevirtual #377                // Method doCheckLogLowReplication:()Z
      36: ifeq          46
      39: aload_0
      40: getstatic     #378                // Field org/apache/hadoop/hbase/regionserver/wal/WALActionsListener$RollRequestReason.LOW_REPLICATION:Lorg/apache/hadoop/hbase/regionserver/wal/WALActionsListener$RollRequestReason;
      43: invokevirtual #296                // Method requestLogRoll:(Lorg/apache/hadoop/hbase/regionserver/wal/WALActionsListener$RollRequestReason;)V
      46: aload_0
      47: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      50: invokevirtual #274                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      53: goto          68
      56: astore        5
      58: aload_0
      59: getfield      #51                 // Field rollWriterLock:Ljava/util/concurrent/locks/ReentrantLock;
      62: invokevirtual #274                // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      65: aload         5
      67: athrow
      68: return
    Exception table:
       from    to  target type
          27    46    56   any
          56    58    56   any

  abstract org.apache.hadoop.hdfs.protocol.DatanodeInfo[] getPipeline();

  abstract int getLogReplication();

  public static void main(java.lang.String[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: arraylength
       2: iconst_2
       3: if_icmpge     13
       6: invokestatic  #399                // Method usage:()V
       9: iconst_m1
      10: invokestatic  #400                // Method java/lang/System.exit:(I)V
      13: aload_0
      14: iconst_0
      15: aaload
      16: ldc_w         #401                // String --dump
      19: invokevirtual #402                // Method java/lang/String.compareTo:(Ljava/lang/String;)I
      22: ifne          41
      25: aload_0
      26: iconst_1
      27: aload_0
      28: arraylength
      29: invokestatic  #403                // Method java/util/Arrays.copyOfRange:([Ljava/lang/Object;II)[Ljava/lang/Object;
      32: checkcast     #404                // class "[Ljava/lang/String;"
      35: invokestatic  #405                // Method org/apache/hadoop/hbase/wal/WALPrettyPrinter.run:([Ljava/lang/String;)V
      38: goto          183
      41: aload_0
      42: iconst_0
      43: aaload
      44: ldc_w         #406                // String --perf
      47: invokevirtual #402                // Method java/lang/String.compareTo:(Ljava/lang/String;)I
      50: ifne          107
      53: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
      56: getstatic     #407                // Field org/apache/hadoop/hbase/log/HBaseMarkers.FATAL:Lorg/slf4j/Marker;
      59: ldc_w         #408                // String Please use the WALPerformanceEvaluation tool instead. i.e.:
      62: invokeinterface #409,  3          // InterfaceMethod org/slf4j/Logger.error:(Lorg/slf4j/Marker;Ljava/lang/String;)V
      67: getstatic     #122                // Field LOG:Lorg/slf4j/Logger;
      70: getstatic     #407                // Field org/apache/hadoop/hbase/log/HBaseMarkers.FATAL:Lorg/slf4j/Marker;
      73: new           #9                  // class java/lang/StringBuilder
      76: dup
      77: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      80: ldc_w         #410                // String \thbase org.apache.hadoop.hbase.wal.WALPerformanceEvaluation --iterations
      83: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: aload_0
      87: iconst_1
      88: aaload
      89: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      95: invokeinterface #409,  3          // InterfaceMethod org/slf4j/Logger.error:(Lorg/slf4j/Marker;Ljava/lang/String;)V
     100: iconst_m1
     101: invokestatic  #400                // Method java/lang/System.exit:(I)V
     104: goto          183
     107: aload_0
     108: iconst_0
     109: aaload
     110: ldc_w         #411                // String --split
     113: invokevirtual #402                // Method java/lang/String.compareTo:(Ljava/lang/String;)I
     116: ifne          176
     119: invokestatic  #412                // Method org/apache/hadoop/hbase/HBaseConfiguration.create:()Lorg/apache/hadoop/conf/Configuration;
     122: astore_1
     123: iconst_1
     124: istore_2
     125: iload_2
     126: aload_0
     127: arraylength
     128: if_icmpge     173
     131: new           #76                 // class org/apache/hadoop/fs/Path
     134: dup
     135: aload_0
     136: iload_2
     137: aaload
     138: invokespecial #413                // Method org/apache/hadoop/fs/Path."<init>":(Ljava/lang/String;)V
     141: astore_3
     142: aload_1
     143: aload_3
     144: invokestatic  #414                // Method org/apache/hadoop/hbase/util/FSUtils.setFsDefault:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/fs/Path;)V
     147: aload_1
     148: aload_3
     149: invokestatic  #415                // Method split:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/fs/Path;)V
     152: goto          167
     155: astore_3
     156: aload_3
     157: getstatic     #391                // Field java/lang/System.err:Ljava/io/PrintStream;
     160: invokevirtual #416                // Method java/io/IOException.printStackTrace:(Ljava/io/PrintStream;)V
     163: iconst_m1
     164: invokestatic  #400                // Method java/lang/System.exit:(I)V
     167: iinc          2, 1
     170: goto          125
     173: goto          183
     176: invokestatic  #399                // Method usage:()V
     179: iconst_m1
     180: invokestatic  #400                // Method java/lang/System.exit:(I)V
     183: return
    Exception table:
       from    to  target type
         131   152   155   Class java/io/IOException

  static {};
    Code:
       0: ldc           #132                // class org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL
       2: invokevirtual #421                // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #322                // Field $assertionsDisabled:Z
      16: ldc           #132                // class org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL
      18: invokestatic  #422                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      21: putstatic     #122                // Field LOG:Lorg/slf4j/Logger;
      24: getstatic     #423                // Field java/util/concurrent/TimeUnit.MINUTES:Ljava/util/concurrent/TimeUnit;
      27: ldc2_w        #424                // long 5l
      30: invokevirtual #134                // Method java/util/concurrent/TimeUnit.toNanos:(J)J
      33: putstatic     #220                // Field SURVIVED_TOO_LONG_LOG_INTERVAL_NS:J
      36: return
}
