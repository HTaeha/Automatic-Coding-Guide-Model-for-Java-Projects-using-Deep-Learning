Compiled from "AbstractTestIPC.java"
public abstract class org.apache.hadoop.hbase.ipc.AbstractTestIPC {
  protected static final org.apache.hadoop.conf.Configuration CONF;

  public org.apache.hadoop.hbase.ipc.AbstractTestIPC();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  protected abstract org.apache.hadoop.hbase.ipc.RpcServer createRpcServer(org.apache.hadoop.hbase.Server, java.lang.String, java.util.List<org.apache.hadoop.hbase.ipc.RpcServer$BlockingServiceAndInterface>, java.net.InetSocketAddress, org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.ipc.RpcScheduler) throws java.io.IOException;

  protected abstract org.apache.hadoop.hbase.ipc.AbstractRpcClient<?> createRpcClientNoCodec(org.apache.hadoop.conf.Configuration);

  public void testNoCodec() throws java.io.IOException, org.apache.hbase.thirdparty.com.google.protobuf.ServiceException;
    Code:
       0: invokestatic  #2                  // Method org/apache/hadoop/hbase/HBaseConfiguration.create:()Lorg/apache/hadoop/conf/Configuration;
       3: astore_1
       4: aload_0
       5: aconst_null
       6: ldc           #3                  // String testRpcServer
       8: iconst_1
       9: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      12: dup
      13: iconst_0
      14: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      17: dup
      18: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      21: aconst_null
      22: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      25: aastore
      26: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      29: new           #8                  // class java/net/InetSocketAddress
      32: dup
      33: ldc           #9                  // String localhost
      35: iconst_0
      36: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      39: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      42: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      45: dup
      46: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      49: iconst_1
      50: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      53: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      56: astore_2
      57: aload_0
      58: aload_1
      59: invokevirtual #15                 // Method createRpcClientNoCodec:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
      62: astore_3
      63: aconst_null
      64: astore        4
      66: aload_2
      67: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      70: aload_3
      71: aload_2
      72: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
      75: invokestatic  #18                 // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newBlockingStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface;
      78: astore        5
      80: new           #19                 // class org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl
      83: dup
      84: invokespecial #20                 // Method org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl."<init>":()V
      87: astore        6
      89: ldc           #21                 // String hello
      91: astore        7
      93: aload         7
      95: aload         5
      97: aload         6
      99: invokestatic  #22                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto.newBuilder:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
     102: aload         7
     104: invokevirtual #23                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.setMessage:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
     107: invokevirtual #24                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.build:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;
     110: invokeinterface #25,  3           // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface.echo:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoResponseProto;
     115: invokevirtual #26                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoResponseProto.getMessage:()Ljava/lang/String;
     118: invokestatic  #27                 // Method org/junit/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
     121: aload         6
     123: invokeinterface #28,  1           // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.cellScanner:()Lorg/apache/hadoop/hbase/CellScanner;
     128: invokestatic  #29                 // Method org/junit/Assert.assertNull:(Ljava/lang/Object;)V
     131: aload_3
     132: ifnull        212
     135: aload         4
     137: ifnull        159
     140: aload_3
     141: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     144: goto          212
     147: astore        5
     149: aload         4
     151: aload         5
     153: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     156: goto          212
     159: aload_3
     160: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     163: goto          212
     166: astore        5
     168: aload         5
     170: astore        4
     172: aload         5
     174: athrow
     175: astore        8
     177: aload_3
     178: ifnull        209
     181: aload         4
     183: ifnull        205
     186: aload_3
     187: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     190: goto          209
     193: astore        9
     195: aload         4
     197: aload         9
     199: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     202: goto          209
     205: aload_3
     206: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     209: aload         8
     211: athrow
     212: aload_2
     213: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     216: goto          228
     219: astore        10
     221: aload_2
     222: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     225: aload         10
     227: athrow
     228: return
    Exception table:
       from    to  target type
         140   144   147   Class java/lang/Throwable
          66   131   166   Class java/lang/Throwable
          66   131   175   any
         186   190   193   Class java/lang/Throwable
         166   177   175   any
          57   212   219   any
         219   221   219   any

  protected abstract org.apache.hadoop.hbase.ipc.AbstractRpcClient<?> createRpcClient(org.apache.hadoop.conf.Configuration);

  public void testCompressCellBlock() throws java.io.IOException, org.apache.hbase.thirdparty.com.google.protobuf.ServiceException;
    Code:
       0: new           #34                 // class org/apache/hadoop/conf/Configuration
       3: dup
       4: invokestatic  #2                  // Method org/apache/hadoop/hbase/HBaseConfiguration.create:()Lorg/apache/hadoop/conf/Configuration;
       7: invokespecial #35                 // Method org/apache/hadoop/conf/Configuration."<init>":(Lorg/apache/hadoop/conf/Configuration;)V
      10: astore_1
      11: aload_1
      12: ldc           #36                 // String hbase.client.rpc.compressor
      14: ldc           #37                 // class org/apache/hadoop/io/compress/GzipCodec
      16: invokevirtual #38                 // Method java/lang/Class.getCanonicalName:()Ljava/lang/String;
      19: invokevirtual #39                 // Method org/apache/hadoop/conf/Configuration.set:(Ljava/lang/String;Ljava/lang/String;)V
      22: new           #40                 // class java/util/ArrayList
      25: dup
      26: invokespecial #41                 // Method java/util/ArrayList."<init>":()V
      29: astore_2
      30: iconst_3
      31: istore_3
      32: iconst_0
      33: istore        4
      35: iload         4
      37: iload_3
      38: if_icmpge     57
      41: aload_2
      42: getstatic     #42                 // Field CELL:Lorg/apache/hadoop/hbase/KeyValue;
      45: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      50: pop
      51: iinc          4, 1
      54: goto          35
      57: aload_0
      58: aconst_null
      59: ldc           #3                  // String testRpcServer
      61: iconst_1
      62: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      65: dup
      66: iconst_0
      67: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      70: dup
      71: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      74: aconst_null
      75: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      78: aastore
      79: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      82: new           #8                  // class java/net/InetSocketAddress
      85: dup
      86: ldc           #9                  // String localhost
      88: iconst_0
      89: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      92: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      95: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      98: dup
      99: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
     102: iconst_1
     103: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
     106: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
     109: astore        4
     111: aload_0
     112: aload_1
     113: invokevirtual #44                 // Method createRpcClient:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
     116: astore        5
     118: aconst_null
     119: astore        6
     121: aload         4
     123: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
     126: aload         5
     128: aload         4
     130: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
     133: invokestatic  #18                 // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newBlockingStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface;
     136: astore        7
     138: new           #19                 // class org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl
     141: dup
     142: aload_2
     143: invokestatic  #45                 // Method org/apache/hadoop/hbase/CellUtil.createCellScanner:(Ljava/lang/Iterable;)Lorg/apache/hadoop/hbase/CellScanner;
     146: invokespecial #46                 // Method org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl."<init>":(Lorg/apache/hadoop/hbase/CellScanner;)V
     149: astore        8
     151: ldc           #21                 // String hello
     153: astore        9
     155: aload         9
     157: aload         7
     159: aload         8
     161: invokestatic  #22                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto.newBuilder:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
     164: aload         9
     166: invokevirtual #23                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.setMessage:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
     169: invokevirtual #24                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.build:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;
     172: invokeinterface #25,  3           // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface.echo:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoResponseProto;
     177: invokevirtual #26                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoResponseProto.getMessage:()Ljava/lang/String;
     180: invokestatic  #27                 // Method org/junit/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
     183: iconst_0
     184: istore        10
     186: aload         8
     188: invokeinterface #28,  1           // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.cellScanner:()Lorg/apache/hadoop/hbase/CellScanner;
     193: astore        11
     195: aload         11
     197: invokestatic  #47                 // Method org/junit/Assert.assertNotNull:(Ljava/lang/Object;)V
     200: aload         11
     202: invokeinterface #48,  1           // InterfaceMethod org/apache/hadoop/hbase/CellScanner.advance:()Z
     207: ifeq          229
     210: getstatic     #42                 // Field CELL:Lorg/apache/hadoop/hbase/KeyValue;
     213: aload         11
     215: invokeinterface #49,  1           // InterfaceMethod org/apache/hadoop/hbase/CellScanner.current:()Lorg/apache/hadoop/hbase/Cell;
     220: invokestatic  #27                 // Method org/junit/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
     223: iinc          10, 1
     226: goto          200
     229: iload_3
     230: i2l
     231: iload         10
     233: i2l
     234: invokestatic  #50                 // Method org/junit/Assert.assertEquals:(JJ)V
     237: aload         5
     239: ifnull        324
     242: aload         6
     244: ifnull        267
     247: aload         5
     249: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     252: goto          324
     255: astore        7
     257: aload         6
     259: aload         7
     261: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     264: goto          324
     267: aload         5
     269: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     272: goto          324
     275: astore        7
     277: aload         7
     279: astore        6
     281: aload         7
     283: athrow
     284: astore        12
     286: aload         5
     288: ifnull        321
     291: aload         6
     293: ifnull        316
     296: aload         5
     298: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     301: goto          321
     304: astore        13
     306: aload         6
     308: aload         13
     310: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     313: goto          321
     316: aload         5
     318: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     321: aload         12
     323: athrow
     324: aload         4
     326: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     329: goto          342
     332: astore        14
     334: aload         4
     336: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     339: aload         14
     341: athrow
     342: return
    Exception table:
       from    to  target type
         247   252   255   Class java/lang/Throwable
         121   237   275   Class java/lang/Throwable
         121   237   284   any
         296   301   304   Class java/lang/Throwable
         275   286   284   any
         111   324   332   any
         332   334   332   any

  protected abstract org.apache.hadoop.hbase.ipc.AbstractRpcClient<?> createRpcClientRTEDuringConnectionSetup(org.apache.hadoop.conf.Configuration) throws java.io.IOException;

  public void testRTEDuringConnectionSetup() throws java.lang.Exception;
    Code:
       0: invokestatic  #2                  // Method org/apache/hadoop/hbase/HBaseConfiguration.create:()Lorg/apache/hadoop/conf/Configuration;
       3: astore_1
       4: aload_0
       5: aconst_null
       6: ldc           #3                  // String testRpcServer
       8: iconst_1
       9: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      12: dup
      13: iconst_0
      14: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      17: dup
      18: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      21: aconst_null
      22: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      25: aastore
      26: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      29: new           #8                  // class java/net/InetSocketAddress
      32: dup
      33: ldc           #9                  // String localhost
      35: iconst_0
      36: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      39: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      42: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      45: dup
      46: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      49: iconst_1
      50: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      53: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      56: astore_2
      57: aload_0
      58: aload_1
      59: invokevirtual #51                 // Method createRpcClientRTEDuringConnectionSetup:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
      62: astore_3
      63: aconst_null
      64: astore        4
      66: aload_2
      67: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      70: aload_3
      71: aload_2
      72: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
      75: invokestatic  #18                 // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newBlockingStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface;
      78: astore        5
      80: aload         5
      82: aconst_null
      83: invokestatic  #52                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto.getDefaultInstance:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto;
      86: invokeinterface #53,  3           // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface.ping:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyResponseProto;
      91: pop
      92: ldc           #54                 // String Expected an exception to have been thrown!
      94: invokestatic  #55                 // Method org/junit/Assert.fail:(Ljava/lang/String;)V
      97: aload_3
      98: ifnull        178
     101: aload         4
     103: ifnull        125
     106: aload_3
     107: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     110: goto          178
     113: astore        5
     115: aload         4
     117: aload         5
     119: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     122: goto          178
     125: aload_3
     126: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     129: goto          178
     132: astore        5
     134: aload         5
     136: astore        4
     138: aload         5
     140: athrow
     141: astore        6
     143: aload_3
     144: ifnull        175
     147: aload         4
     149: ifnull        171
     152: aload_3
     153: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     156: goto          175
     159: astore        7
     161: aload         4
     163: aload         7
     165: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     168: goto          175
     171: aload_3
     172: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     175: aload         6
     177: athrow
     178: aload_2
     179: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     182: goto          248
     185: astore_3
     186: getstatic     #57                 // Field LOG:Lorg/slf4j/Logger;
     189: new           #58                 // class java/lang/StringBuilder
     192: dup
     193: invokespecial #59                 // Method java/lang/StringBuilder."<init>":()V
     196: ldc           #60                 // String Caught expected exception:
     198: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     201: aload_3
     202: invokevirtual #62                 // Method java/lang/Exception.toString:()Ljava/lang/String;
     205: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     208: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     211: invokeinterface #64,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     216: aload_3
     217: invokevirtual #62                 // Method java/lang/Exception.toString:()Ljava/lang/String;
     220: aload_3
     221: invokestatic  #65                 // Method org/apache/hadoop/util/StringUtils.stringifyException:(Ljava/lang/Throwable;)Ljava/lang/String;
     224: ldc           #66                 // String Injected fault
     226: invokevirtual #67                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     229: invokestatic  #68                 // Method org/junit/Assert.assertTrue:(Ljava/lang/String;Z)V
     232: aload_2
     233: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     236: goto          248
     239: astore        8
     241: aload_2
     242: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     245: aload         8
     247: athrow
     248: return
    Exception table:
       from    to  target type
         106   110   113   Class java/lang/Throwable
          66    97   132   Class java/lang/Throwable
          66    97   141   any
         152   156   159   Class java/lang/Throwable
         132   143   141   any
          57   178   185   Class java/lang/Exception
          57   178   239   any
         185   232   239   any
         239   241   239   any

  public void testRpcScheduler() throws java.io.IOException, org.apache.hbase.thirdparty.com.google.protobuf.ServiceException, java.lang.InterruptedException;
    Code:
       0: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
       3: dup
       4: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
       7: iconst_1
       8: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      11: invokestatic  #69                 // Method org/mockito/Mockito.spy:(Ljava/lang/Object;)Ljava/lang/Object;
      14: checkcast     #70                 // class org/apache/hadoop/hbase/ipc/RpcScheduler
      17: astore_1
      18: aload_0
      19: aconst_null
      20: ldc           #3                  // String testRpcServer
      22: iconst_1
      23: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      26: dup
      27: iconst_0
      28: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      31: dup
      32: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      35: aconst_null
      36: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      39: aastore
      40: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      43: new           #8                  // class java/net/InetSocketAddress
      46: dup
      47: ldc           #9                  // String localhost
      49: iconst_0
      50: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      53: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      56: aload_1
      57: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      60: astore_2
      61: aload_1
      62: invokestatic  #71                 // Method org/mockito/Mockito.verify:(Ljava/lang/Object;)Ljava/lang/Object;
      65: checkcast     #70                 // class org/apache/hadoop/hbase/ipc/RpcScheduler
      68: invokestatic  #72                 // Method org/mockito/Matchers.anyObject:()Ljava/lang/Object;
      71: checkcast     #73                 // class org/apache/hadoop/hbase/ipc/RpcScheduler$Context
      74: invokevirtual #74                 // Method org/apache/hadoop/hbase/ipc/RpcScheduler.init:(Lorg/apache/hadoop/hbase/ipc/RpcScheduler$Context;)V
      77: aload_0
      78: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      81: invokevirtual #44                 // Method createRpcClient:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
      84: astore_3
      85: aconst_null
      86: astore        4
      88: aload_2
      89: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      92: aload_1
      93: invokestatic  #71                 // Method org/mockito/Mockito.verify:(Ljava/lang/Object;)Ljava/lang/Object;
      96: checkcast     #70                 // class org/apache/hadoop/hbase/ipc/RpcScheduler
      99: invokevirtual #75                 // Method org/apache/hadoop/hbase/ipc/RpcScheduler.start:()V
     102: aload_3
     103: aload_2
     104: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
     107: invokestatic  #18                 // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newBlockingStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface;
     110: astore        5
     112: invokestatic  #22                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto.newBuilder:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
     115: ldc           #21                 // String hello
     117: invokevirtual #23                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.setMessage:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
     120: invokevirtual #24                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.build:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;
     123: astore        6
     125: iconst_0
     126: istore        7
     128: iload         7
     130: bipush        10
     132: if_icmpge     152
     135: aload         5
     137: aconst_null
     138: aload         6
     140: invokeinterface #25,  3           // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface.echo:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoResponseProto;
     145: pop
     146: iinc          7, 1
     149: goto          128
     152: aload_1
     153: bipush        10
     155: invokestatic  #76                 // Method org/mockito/internal/verification/VerificationModeFactory.times:(I)Lorg/mockito/internal/verification/Times;
     158: invokestatic  #77                 // Method org/mockito/Mockito.verify:(Ljava/lang/Object;Lorg/mockito/verification/VerificationMode;)Ljava/lang/Object;
     161: checkcast     #70                 // class org/apache/hadoop/hbase/ipc/RpcScheduler
     164: invokestatic  #72                 // Method org/mockito/Matchers.anyObject:()Ljava/lang/Object;
     167: checkcast     #78                 // class org/apache/hadoop/hbase/ipc/CallRunner
     170: invokevirtual #79                 // Method org/apache/hadoop/hbase/ipc/RpcScheduler.dispatch:(Lorg/apache/hadoop/hbase/ipc/CallRunner;)Z
     173: pop
     174: aload_3
     175: ifnull        255
     178: aload         4
     180: ifnull        202
     183: aload_3
     184: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     187: goto          255
     190: astore        5
     192: aload         4
     194: aload         5
     196: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     199: goto          255
     202: aload_3
     203: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     206: goto          255
     209: astore        5
     211: aload         5
     213: astore        4
     215: aload         5
     217: athrow
     218: astore        8
     220: aload_3
     221: ifnull        252
     224: aload         4
     226: ifnull        248
     229: aload_3
     230: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     233: goto          252
     236: astore        9
     238: aload         4
     240: aload         9
     242: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     245: goto          252
     248: aload_3
     249: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     252: aload         8
     254: athrow
     255: aload_2
     256: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     259: aload_1
     260: invokestatic  #71                 // Method org/mockito/Mockito.verify:(Ljava/lang/Object;)Ljava/lang/Object;
     263: checkcast     #70                 // class org/apache/hadoop/hbase/ipc/RpcScheduler
     266: invokevirtual #80                 // Method org/apache/hadoop/hbase/ipc/RpcScheduler.stop:()V
     269: goto          291
     272: astore        10
     274: aload_2
     275: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     278: aload_1
     279: invokestatic  #71                 // Method org/mockito/Mockito.verify:(Ljava/lang/Object;)Ljava/lang/Object;
     282: checkcast     #70                 // class org/apache/hadoop/hbase/ipc/RpcScheduler
     285: invokevirtual #80                 // Method org/apache/hadoop/hbase/ipc/RpcScheduler.stop:()V
     288: aload         10
     290: athrow
     291: return
    Exception table:
       from    to  target type
         183   187   190   Class java/lang/Throwable
          88   174   209   Class java/lang/Throwable
          88   174   218   any
         229   233   236   Class java/lang/Throwable
         209   220   218   any
          77   255   272   any
         272   274   272   any

  public void testRpcMaxRequestSize() throws java.io.IOException, org.apache.hbase.thirdparty.com.google.protobuf.ServiceException;
    Code:
       0: new           #34                 // class org/apache/hadoop/conf/Configuration
       3: dup
       4: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
       7: invokespecial #35                 // Method org/apache/hadoop/conf/Configuration."<init>":(Lorg/apache/hadoop/conf/Configuration;)V
      10: astore_1
      11: aload_1
      12: ldc           #82                 // String hbase.ipc.max.request.size
      14: sipush        1000
      17: invokevirtual #83                 // Method org/apache/hadoop/conf/Configuration.setInt:(Ljava/lang/String;I)V
      20: aload_0
      21: aconst_null
      22: ldc           #3                  // String testRpcServer
      24: iconst_1
      25: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      28: dup
      29: iconst_0
      30: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      33: dup
      34: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      37: aconst_null
      38: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      41: aastore
      42: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      45: new           #8                  // class java/net/InetSocketAddress
      48: dup
      49: ldc           #9                  // String localhost
      51: iconst_0
      52: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      55: aload_1
      56: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      59: dup
      60: aload_1
      61: iconst_1
      62: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      65: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      68: astore_2
      69: aload_0
      70: aload_1
      71: invokevirtual #44                 // Method createRpcClient:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
      74: astore_3
      75: aconst_null
      76: astore        4
      78: aload_2
      79: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      82: aload_3
      83: aload_2
      84: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
      87: invokestatic  #18                 // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newBlockingStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface;
      90: astore        5
      92: new           #58                 // class java/lang/StringBuilder
      95: dup
      96: sipush        1200
      99: invokespecial #84                 // Method java/lang/StringBuilder."<init>":(I)V
     102: astore        6
     104: iconst_0
     105: istore        7
     107: iload         7
     109: sipush        200
     112: if_icmpge     129
     115: aload         6
     117: ldc           #85                 // String hello.
     119: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     122: pop
     123: iinc          7, 1
     126: goto          107
     129: invokestatic  #22                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto.newBuilder:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
     132: aload         6
     134: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     137: invokevirtual #23                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.setMessage:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
     140: invokevirtual #24                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.build:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;
     143: astore        7
     145: aload         5
     147: new           #19                 // class org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl
     150: dup
     151: getstatic     #42                 // Field CELL:Lorg/apache/hadoop/hbase/KeyValue;
     154: invokestatic  #86                 // Method org/apache/hbase/thirdparty/com/google/common/collect/ImmutableList.of:(Ljava/lang/Object;)Lorg/apache/hbase/thirdparty/com/google/common/collect/ImmutableList;
     157: invokestatic  #45                 // Method org/apache/hadoop/hbase/CellUtil.createCellScanner:(Ljava/lang/Iterable;)Lorg/apache/hadoop/hbase/CellScanner;
     160: invokespecial #46                 // Method org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl."<init>":(Lorg/apache/hadoop/hbase/CellScanner;)V
     163: aload         7
     165: invokeinterface #25,  3           // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface.echo:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoResponseProto;
     170: pop
     171: ldc           #87                 // String RPC should have failed because it exceeds max request size
     173: invokestatic  #55                 // Method org/junit/Assert.fail:(Ljava/lang/String;)V
     176: aload_3
     177: ifnull        257
     180: aload         4
     182: ifnull        204
     185: aload_3
     186: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     189: goto          257
     192: astore        5
     194: aload         4
     196: aload         5
     198: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     201: goto          257
     204: aload_3
     205: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     208: goto          257
     211: astore        5
     213: aload         5
     215: astore        4
     217: aload         5
     219: athrow
     220: astore        8
     222: aload_3
     223: ifnull        254
     226: aload         4
     228: ifnull        250
     231: aload_3
     232: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     235: goto          254
     238: astore        9
     240: aload         4
     242: aload         9
     244: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     247: goto          254
     250: aload_3
     251: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     254: aload         8
     256: athrow
     257: aload_2
     258: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     261: goto          324
     264: astore_3
     265: getstatic     #57                 // Field LOG:Lorg/slf4j/Logger;
     268: new           #58                 // class java/lang/StringBuilder
     271: dup
     272: invokespecial #59                 // Method java/lang/StringBuilder."<init>":()V
     275: ldc           #60                 // String Caught expected exception:
     277: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     280: aload_3
     281: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     284: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     287: invokeinterface #64,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     292: aload_3
     293: invokevirtual #90                 // Method org/apache/hbase/thirdparty/com/google/protobuf/ServiceException.toString:()Ljava/lang/String;
     296: aload_3
     297: invokestatic  #65                 // Method org/apache/hadoop/util/StringUtils.stringifyException:(Ljava/lang/Throwable;)Ljava/lang/String;
     300: ldc           #91                 // String RequestTooBigException
     302: invokevirtual #67                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     305: invokestatic  #68                 // Method org/junit/Assert.assertTrue:(Ljava/lang/String;Z)V
     308: aload_2
     309: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     312: goto          324
     315: astore        10
     317: aload_2
     318: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     321: aload         10
     323: athrow
     324: return
    Exception table:
       from    to  target type
         185   189   192   Class java/lang/Throwable
          78   176   211   Class java/lang/Throwable
          78   176   220   any
         231   235   238   Class java/lang/Throwable
         211   222   220   any
          69   257   264   Class org/apache/hbase/thirdparty/com/google/protobuf/ServiceException
          69   257   315   any
         264   308   315   any
         315   317   315   any

  public void testRpcServerForNotNullRemoteAddressInCallObject() throws java.io.IOException, org.apache.hbase.thirdparty.com.google.protobuf.ServiceException;
    Code:
       0: aload_0
       1: aconst_null
       2: ldc           #3                  // String testRpcServer
       4: iconst_1
       5: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
       8: dup
       9: iconst_0
      10: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      13: dup
      14: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      17: aconst_null
      18: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      21: aastore
      22: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      25: new           #8                  // class java/net/InetSocketAddress
      28: dup
      29: ldc           #9                  // String localhost
      31: iconst_0
      32: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      35: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      38: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      41: dup
      42: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      45: iconst_1
      46: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      49: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      52: astore_1
      53: new           #8                  // class java/net/InetSocketAddress
      56: dup
      57: ldc           #9                  // String localhost
      59: iconst_0
      60: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      63: astore_2
      64: aload_0
      65: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      68: invokevirtual #44                 // Method createRpcClient:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
      71: astore_3
      72: aconst_null
      73: astore        4
      75: aload_1
      76: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      79: aload_3
      80: aload_1
      81: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
      84: invokestatic  #18                 // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newBlockingStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface;
      87: astore        5
      89: aload_2
      90: invokevirtual #92                 // Method java/net/InetSocketAddress.getAddress:()Ljava/net/InetAddress;
      93: invokevirtual #93                 // Method java/net/InetAddress.getHostAddress:()Ljava/lang/String;
      96: aload         5
      98: aconst_null
      99: invokestatic  #52                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto.getDefaultInstance:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto;
     102: invokeinterface #94,  3           // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface.addr:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$AddrResponseProto;
     107: invokevirtual #95                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$AddrResponseProto.getAddr:()Ljava/lang/String;
     110: invokestatic  #27                 // Method org/junit/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
     113: aload_3
     114: ifnull        194
     117: aload         4
     119: ifnull        141
     122: aload_3
     123: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     126: goto          194
     129: astore        5
     131: aload         4
     133: aload         5
     135: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     138: goto          194
     141: aload_3
     142: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     145: goto          194
     148: astore        5
     150: aload         5
     152: astore        4
     154: aload         5
     156: athrow
     157: astore        6
     159: aload_3
     160: ifnull        191
     163: aload         4
     165: ifnull        187
     168: aload_3
     169: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     172: goto          191
     175: astore        7
     177: aload         4
     179: aload         7
     181: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     184: goto          191
     187: aload_3
     188: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     191: aload         6
     193: athrow
     194: aload_1
     195: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     198: goto          210
     201: astore        8
     203: aload_1
     204: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     207: aload         8
     209: athrow
     210: return
    Exception table:
       from    to  target type
         122   126   129   Class java/lang/Throwable
          75   113   148   Class java/lang/Throwable
          75   113   157   any
         168   172   175   Class java/lang/Throwable
         148   159   157   any
          64   194   201   any
         201   203   201   any

  public void testRemoteError() throws java.io.IOException, org.apache.hbase.thirdparty.com.google.protobuf.ServiceException;
    Code:
       0: aload_0
       1: aconst_null
       2: ldc           #3                  // String testRpcServer
       4: iconst_1
       5: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
       8: dup
       9: iconst_0
      10: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      13: dup
      14: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      17: aconst_null
      18: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      21: aastore
      22: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      25: new           #8                  // class java/net/InetSocketAddress
      28: dup
      29: ldc           #9                  // String localhost
      31: iconst_0
      32: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      35: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      38: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      41: dup
      42: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      45: iconst_1
      46: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      49: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      52: astore_1
      53: aload_0
      54: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      57: invokevirtual #44                 // Method createRpcClient:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
      60: astore_2
      61: aconst_null
      62: astore_3
      63: aload_1
      64: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      67: aload_2
      68: aload_1
      69: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
      72: invokestatic  #18                 // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newBlockingStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface;
      75: astore        4
      77: aload         4
      79: aconst_null
      80: invokestatic  #52                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto.getDefaultInstance:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto;
      83: invokeinterface #96,  3           // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface.error:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyResponseProto;
      88: pop
      89: aload_2
      90: ifnull        165
      93: aload_3
      94: ifnull        115
      97: aload_2
      98: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     101: goto          165
     104: astore        4
     106: aload_3
     107: aload         4
     109: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     112: goto          165
     115: aload_2
     116: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     119: goto          165
     122: astore        4
     124: aload         4
     126: astore_3
     127: aload         4
     129: athrow
     130: astore        5
     132: aload_2
     133: ifnull        162
     136: aload_3
     137: ifnull        158
     140: aload_2
     141: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     144: goto          162
     147: astore        6
     149: aload_3
     150: aload         6
     152: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     155: goto          162
     158: aload_2
     159: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     162: aload         5
     164: athrow
     165: aload_1
     166: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     169: goto          240
     172: astore_2
     173: getstatic     #57                 // Field LOG:Lorg/slf4j/Logger;
     176: new           #58                 // class java/lang/StringBuilder
     179: dup
     180: invokespecial #59                 // Method java/lang/StringBuilder."<init>":()V
     183: ldc           #60                 // String Caught expected exception:
     185: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     188: aload_2
     189: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     192: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     195: invokeinterface #64,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     200: aload_2
     201: invokestatic  #97                 // Method org/apache/hadoop/hbase/shaded/protobuf/ProtobufUtil.handleRemoteException:(Ljava/lang/Exception;)Ljava/io/IOException;
     204: astore_3
     205: aload_3
     206: instanceof    #98                 // class org/apache/hadoop/hbase/DoNotRetryIOException
     209: invokestatic  #99                 // Method org/junit/Assert.assertTrue:(Z)V
     212: aload_3
     213: invokevirtual #100                // Method java/io/IOException.getMessage:()Ljava/lang/String;
     216: ldc           #101                // String server error!
     218: invokevirtual #67                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     221: invokestatic  #99                 // Method org/junit/Assert.assertTrue:(Z)V
     224: aload_1
     225: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     228: goto          240
     231: astore        7
     233: aload_1
     234: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     237: aload         7
     239: athrow
     240: return
    Exception table:
       from    to  target type
          97   101   104   Class java/lang/Throwable
          63    89   122   Class java/lang/Throwable
          63    89   130   any
         140   144   147   Class java/lang/Throwable
         122   132   130   any
          53   165   172   Class org/apache/hbase/thirdparty/com/google/protobuf/ServiceException
          53   165   231   any
         172   224   231   any
         231   233   231   any

  public void testTimeout() throws java.io.IOException;
    Code:
       0: aload_0
       1: aconst_null
       2: ldc           #3                  // String testRpcServer
       4: iconst_1
       5: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
       8: dup
       9: iconst_0
      10: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      13: dup
      14: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      17: aconst_null
      18: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      21: aastore
      22: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      25: new           #8                  // class java/net/InetSocketAddress
      28: dup
      29: ldc           #9                  // String localhost
      31: iconst_0
      32: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      35: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      38: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      41: dup
      42: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      45: iconst_1
      46: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      49: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      52: astore_1
      53: aload_0
      54: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      57: invokevirtual #44                 // Method createRpcClient:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
      60: astore_2
      61: aconst_null
      62: astore_3
      63: aload_1
      64: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      67: aload_2
      68: aload_1
      69: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
      72: invokestatic  #18                 // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newBlockingStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface;
      75: astore        4
      77: new           #19                 // class org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl
      80: dup
      81: invokespecial #20                 // Method org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl."<init>":()V
      84: astore        5
      86: sipush        1000
      89: istore        6
      91: bipush        100
      93: istore        7
      95: iconst_0
      96: istore        8
      98: iload         8
     100: bipush        10
     102: if_icmpge     233
     105: aload         5
     107: invokeinterface #102,  1          // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.reset:()V
     112: aload         5
     114: iload         7
     116: invokeinterface #103,  2          // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.setCallTimeout:(I)V
     121: invokestatic  #104                // Method java/lang/System.nanoTime:()J
     124: lstore        9
     126: aload         4
     128: aload         5
     130: invokestatic  #105                // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto.newBuilder:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto$Builder;
     133: iload         6
     135: invokevirtual #106                // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto$Builder.setMs:(I)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto$Builder;
     138: invokevirtual #107                // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto$Builder.build:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto;
     141: invokeinterface #108,  3          // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface.pause:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyResponseProto;
     146: pop
     147: goto          227
     150: astore        11
     152: invokestatic  #104                // Method java/lang/System.nanoTime:()J
     155: lload         9
     157: lsub
     158: ldc2_w        #109                // long 1000000l
     161: ldiv
     162: lstore        12
     164: getstatic     #57                 // Field LOG:Lorg/slf4j/Logger;
     167: new           #58                 // class java/lang/StringBuilder
     170: dup
     171: invokespecial #59                 // Method java/lang/StringBuilder."<init>":()V
     174: ldc           #60                 // String Caught expected exception:
     176: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     179: aload         11
     181: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     184: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     187: invokeinterface #64,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     192: aload         11
     194: invokestatic  #97                 // Method org/apache/hadoop/hbase/shaded/protobuf/ProtobufUtil.handleRemoteException:(Ljava/lang/Exception;)Ljava/io/IOException;
     197: astore        14
     199: aload         14
     201: invokevirtual #111                // Method java/io/IOException.getCause:()Ljava/lang/Throwable;
     204: instanceof    #112                // class org/apache/hadoop/hbase/ipc/CallTimeoutException
     207: invokestatic  #99                 // Method org/junit/Assert.assertTrue:(Z)V
     210: lload         12
     212: iload         6
     214: i2l
     215: lcmp
     216: ifge          223
     219: iconst_1
     220: goto          224
     223: iconst_0
     224: invokestatic  #99                 // Method org/junit/Assert.assertTrue:(Z)V
     227: iinc          8, 1
     230: goto          98
     233: aload_2
     234: ifnull        309
     237: aload_3
     238: ifnull        259
     241: aload_2
     242: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     245: goto          309
     248: astore        4
     250: aload_3
     251: aload         4
     253: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     256: goto          309
     259: aload_2
     260: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     263: goto          309
     266: astore        4
     268: aload         4
     270: astore_3
     271: aload         4
     273: athrow
     274: astore        15
     276: aload_2
     277: ifnull        306
     280: aload_3
     281: ifnull        302
     284: aload_2
     285: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     288: goto          306
     291: astore        16
     293: aload_3
     294: aload         16
     296: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     299: goto          306
     302: aload_2
     303: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     306: aload         15
     308: athrow
     309: aload_1
     310: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     313: goto          325
     316: astore        17
     318: aload_1
     319: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     322: aload         17
     324: athrow
     325: return
    Exception table:
       from    to  target type
         126   147   150   Class org/apache/hbase/thirdparty/com/google/protobuf/ServiceException
         241   245   248   Class java/lang/Throwable
          63   233   266   Class java/lang/Throwable
          63   233   274   any
         284   288   291   Class java/lang/Throwable
         266   276   274   any
          53   309   316   any
         316   318   316   any

  protected abstract org.apache.hadoop.hbase.ipc.RpcServer createTestFailingRpcServer(org.apache.hadoop.hbase.Server, java.lang.String, java.util.List<org.apache.hadoop.hbase.ipc.RpcServer$BlockingServiceAndInterface>, java.net.InetSocketAddress, org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.ipc.RpcScheduler) throws java.io.IOException;

  public void testConnectionCloseWithOutstandingRPCs() throws java.lang.InterruptedException, java.io.IOException;
    Code:
       0: new           #34                 // class org/apache/hadoop/conf/Configuration
       3: dup
       4: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
       7: invokespecial #35                 // Method org/apache/hadoop/conf/Configuration."<init>":(Lorg/apache/hadoop/conf/Configuration;)V
      10: astore_1
      11: aload_0
      12: aconst_null
      13: ldc           #3                  // String testRpcServer
      15: iconst_1
      16: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      19: dup
      20: iconst_0
      21: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      24: dup
      25: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      28: aconst_null
      29: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      32: aastore
      33: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      36: new           #8                  // class java/net/InetSocketAddress
      39: dup
      40: ldc           #9                  // String localhost
      42: iconst_0
      43: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      46: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      49: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      52: dup
      53: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      56: iconst_1
      57: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      60: invokevirtual #113                // Method createTestFailingRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      63: astore_2
      64: aload_0
      65: aload_1
      66: invokevirtual #44                 // Method createRpcClient:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
      69: astore_3
      70: aconst_null
      71: astore        4
      73: aload_2
      74: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      77: aload_3
      78: aload_2
      79: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
      82: invokestatic  #18                 // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newBlockingStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface;
      85: astore        5
      87: invokestatic  #22                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto.newBuilder:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
      90: ldc           #21                 // String hello
      92: invokevirtual #23                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.setMessage:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
      95: invokevirtual #24                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.build:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;
      98: astore        6
     100: aload         5
     102: aconst_null
     103: aload         6
     105: invokeinterface #25,  3           // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$BlockingInterface.echo:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoResponseProto;
     110: pop
     111: ldc           #114                // String RPC should have failed because connection closed
     113: invokestatic  #55                 // Method org/junit/Assert.fail:(Ljava/lang/String;)V
     116: aload_3
     117: ifnull        197
     120: aload         4
     122: ifnull        144
     125: aload_3
     126: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     129: goto          197
     132: astore        5
     134: aload         4
     136: aload         5
     138: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     141: goto          197
     144: aload_3
     145: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     148: goto          197
     151: astore        5
     153: aload         5
     155: astore        4
     157: aload         5
     159: athrow
     160: astore        7
     162: aload_3
     163: ifnull        194
     166: aload         4
     168: ifnull        190
     171: aload_3
     172: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     175: goto          194
     178: astore        8
     180: aload         4
     182: aload         8
     184: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     187: goto          194
     190: aload_3
     191: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     194: aload         7
     196: athrow
     197: aload_2
     198: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     201: goto          251
     204: astore_3
     205: getstatic     #57                 // Field LOG:Lorg/slf4j/Logger;
     208: new           #58                 // class java/lang/StringBuilder
     211: dup
     212: invokespecial #59                 // Method java/lang/StringBuilder."<init>":()V
     215: ldc           #60                 // String Caught expected exception:
     217: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     220: aload_3
     221: invokevirtual #90                 // Method org/apache/hbase/thirdparty/com/google/protobuf/ServiceException.toString:()Ljava/lang/String;
     224: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     227: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     230: invokeinterface #64,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     235: aload_2
     236: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     239: goto          251
     242: astore        9
     244: aload_2
     245: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     248: aload         9
     250: athrow
     251: return
    Exception table:
       from    to  target type
         125   129   132   Class java/lang/Throwable
          73   116   151   Class java/lang/Throwable
          73   116   160   any
         171   175   178   Class java/lang/Throwable
         151   162   160   any
          64   197   204   Class org/apache/hbase/thirdparty/com/google/protobuf/ServiceException
          64   197   242   any
         204   235   242   any
         242   244   242   any

  public void testAsyncEcho() throws java.io.IOException;
    Code:
       0: invokestatic  #2                  // Method org/apache/hadoop/hbase/HBaseConfiguration.create:()Lorg/apache/hadoop/conf/Configuration;
       3: astore_1
       4: aload_0
       5: aconst_null
       6: ldc           #3                  // String testRpcServer
       8: iconst_1
       9: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      12: dup
      13: iconst_0
      14: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      17: dup
      18: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      21: aconst_null
      22: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      25: aastore
      26: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      29: new           #8                  // class java/net/InetSocketAddress
      32: dup
      33: ldc           #9                  // String localhost
      35: iconst_0
      36: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      39: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      42: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      45: dup
      46: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      49: iconst_1
      50: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      53: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      56: astore_2
      57: aload_0
      58: aload_1
      59: invokevirtual #44                 // Method createRpcClient:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
      62: astore_3
      63: aconst_null
      64: astore        4
      66: aload_2
      67: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      70: aload_3
      71: aload_2
      72: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
      75: invokestatic  #115                // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$Interface;
      78: astore        5
      80: bipush        10
      82: istore        6
      84: new           #40                 // class java/util/ArrayList
      87: dup
      88: invokespecial #41                 // Method java/util/ArrayList."<init>":()V
      91: astore        7
      93: new           #40                 // class java/util/ArrayList
      96: dup
      97: invokespecial #41                 // Method java/util/ArrayList."<init>":()V
     100: astore        8
     102: iconst_0
     103: istore        9
     105: iload         9
     107: iload         6
     109: if_icmpge     196
     112: new           #19                 // class org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl
     115: dup
     116: invokespecial #20                 // Method org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl."<init>":()V
     119: astore        10
     121: new           #116                // class org/apache/hadoop/hbase/ipc/BlockingRpcCallback
     124: dup
     125: invokespecial #117                // Method org/apache/hadoop/hbase/ipc/BlockingRpcCallback."<init>":()V
     128: astore        11
     130: aload         5
     132: aload         10
     134: invokestatic  #22                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto.newBuilder:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
     137: new           #58                 // class java/lang/StringBuilder
     140: dup
     141: invokespecial #59                 // Method java/lang/StringBuilder."<init>":()V
     144: ldc           #118                // String hello-
     146: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     149: iload         9
     151: invokevirtual #119                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     154: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     157: invokevirtual #23                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.setMessage:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder;
     160: invokevirtual #24                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto$Builder.build:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;
     163: aload         11
     165: invokeinterface #120,  4          // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$Interface.echo:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoRequestProto;Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcCallback;)V
     170: aload         7
     172: aload         10
     174: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     179: pop
     180: aload         8
     182: aload         11
     184: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     189: pop
     190: iinc          9, 1
     193: goto          105
     196: iconst_0
     197: istore        9
     199: iload         9
     201: iload         6
     203: if_icmpge     290
     206: aload         7
     208: iload         9
     210: invokeinterface #121,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     215: checkcast     #122                // class org/apache/hadoop/hbase/ipc/HBaseRpcController
     218: astore        10
     220: aload         10
     222: invokeinterface #123,  1          // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.failed:()Z
     227: invokestatic  #124                // Method org/junit/Assert.assertFalse:(Z)V
     230: aload         10
     232: invokeinterface #28,  1           // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.cellScanner:()Lorg/apache/hadoop/hbase/CellScanner;
     237: invokestatic  #29                 // Method org/junit/Assert.assertNull:(Ljava/lang/Object;)V
     240: new           #58                 // class java/lang/StringBuilder
     243: dup
     244: invokespecial #59                 // Method java/lang/StringBuilder."<init>":()V
     247: ldc           #118                // String hello-
     249: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     252: iload         9
     254: invokevirtual #119                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     257: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     260: aload         8
     262: iload         9
     264: invokeinterface #121,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     269: checkcast     #116                // class org/apache/hadoop/hbase/ipc/BlockingRpcCallback
     272: invokevirtual #125                // Method org/apache/hadoop/hbase/ipc/BlockingRpcCallback.get:()Ljava/lang/Object;
     275: checkcast     #126                // class org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoResponseProto
     278: invokevirtual #26                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EchoResponseProto.getMessage:()Ljava/lang/String;
     281: invokestatic  #27                 // Method org/junit/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
     284: iinc          9, 1
     287: goto          199
     290: aload_3
     291: ifnull        371
     294: aload         4
     296: ifnull        318
     299: aload_3
     300: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     303: goto          371
     306: astore        5
     308: aload         4
     310: aload         5
     312: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     315: goto          371
     318: aload_3
     319: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     322: goto          371
     325: astore        5
     327: aload         5
     329: astore        4
     331: aload         5
     333: athrow
     334: astore        12
     336: aload_3
     337: ifnull        368
     340: aload         4
     342: ifnull        364
     345: aload_3
     346: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     349: goto          368
     352: astore        13
     354: aload         4
     356: aload         13
     358: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     361: goto          368
     364: aload_3
     365: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     368: aload         12
     370: athrow
     371: aload_2
     372: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     375: goto          387
     378: astore        14
     380: aload_2
     381: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     384: aload         14
     386: athrow
     387: return
    Exception table:
       from    to  target type
         299   303   306   Class java/lang/Throwable
          66   290   325   Class java/lang/Throwable
          66   290   334   any
         345   349   352   Class java/lang/Throwable
         325   336   334   any
          57   371   378   any
         378   380   378   any

  public void testAsyncRemoteError() throws java.io.IOException;
    Code:
       0: aload_0
       1: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
       4: invokevirtual #44                 // Method createRpcClient:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
       7: astore_1
       8: aload_0
       9: aconst_null
      10: ldc           #3                  // String testRpcServer
      12: iconst_1
      13: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      16: dup
      17: iconst_0
      18: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      21: dup
      22: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      25: aconst_null
      26: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      29: aastore
      30: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      33: new           #8                  // class java/net/InetSocketAddress
      36: dup
      37: ldc           #9                  // String localhost
      39: iconst_0
      40: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      43: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      46: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      49: dup
      50: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      53: iconst_1
      54: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      57: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      60: astore_2
      61: aload_2
      62: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      65: aload_1
      66: aload_2
      67: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
      70: invokestatic  #115                // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$Interface;
      73: astore_3
      74: new           #116                // class org/apache/hadoop/hbase/ipc/BlockingRpcCallback
      77: dup
      78: invokespecial #117                // Method org/apache/hadoop/hbase/ipc/BlockingRpcCallback."<init>":()V
      81: astore        4
      83: new           #19                 // class org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl
      86: dup
      87: invokespecial #20                 // Method org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl."<init>":()V
      90: astore        5
      92: aload_3
      93: aload         5
      95: invokestatic  #52                 // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto.getDefaultInstance:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto;
      98: aload         4
     100: invokeinterface #127,  4          // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$Interface.error:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$EmptyRequestProto;Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcCallback;)V
     105: aload         4
     107: invokevirtual #125                // Method org/apache/hadoop/hbase/ipc/BlockingRpcCallback.get:()Ljava/lang/Object;
     110: invokestatic  #29                 // Method org/junit/Assert.assertNull:(Ljava/lang/Object;)V
     113: aload         5
     115: invokeinterface #123,  1          // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.failed:()Z
     120: invokestatic  #99                 // Method org/junit/Assert.assertTrue:(Z)V
     123: getstatic     #57                 // Field LOG:Lorg/slf4j/Logger;
     126: new           #58                 // class java/lang/StringBuilder
     129: dup
     130: invokespecial #59                 // Method java/lang/StringBuilder."<init>":()V
     133: ldc           #60                 // String Caught expected exception:
     135: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     138: aload         5
     140: invokeinterface #128,  1          // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.getFailed:()Ljava/io/IOException;
     145: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     148: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     151: invokeinterface #64,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     156: aload         5
     158: invokeinterface #128,  1          // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.getFailed:()Ljava/io/IOException;
     163: invokestatic  #97                 // Method org/apache/hadoop/hbase/shaded/protobuf/ProtobufUtil.handleRemoteException:(Ljava/lang/Exception;)Ljava/io/IOException;
     166: astore        6
     168: aload         6
     170: instanceof    #98                 // class org/apache/hadoop/hbase/DoNotRetryIOException
     173: invokestatic  #99                 // Method org/junit/Assert.assertTrue:(Z)V
     176: aload         6
     178: invokevirtual #100                // Method java/io/IOException.getMessage:()Ljava/lang/String;
     181: ldc           #101                // String server error!
     183: invokevirtual #67                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     186: invokestatic  #99                 // Method org/junit/Assert.assertTrue:(Z)V
     189: aload_1
     190: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     193: aload_2
     194: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     197: goto          213
     200: astore        7
     202: aload_1
     203: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     206: aload_2
     207: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     210: aload         7
     212: athrow
     213: return
    Exception table:
       from    to  target type
          61   189   200   any
         200   202   200   any

  public void testAsyncTimeout() throws java.io.IOException;
    Code:
       0: aload_0
       1: aconst_null
       2: ldc           #3                  // String testRpcServer
       4: iconst_1
       5: anewarray     #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
       8: dup
       9: iconst_0
      10: new           #4                  // class org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface
      13: dup
      14: getstatic     #5                  // Field org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.SERVICE:Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;
      17: aconst_null
      18: invokespecial #6                  // Method org/apache/hadoop/hbase/ipc/RpcServer$BlockingServiceAndInterface."<init>":(Lorg/apache/hbase/thirdparty/com/google/protobuf/BlockingService;Ljava/lang/Class;)V
      21: aastore
      22: invokestatic  #7                  // Method org/apache/hbase/thirdparty/com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      25: new           #8                  // class java/net/InetSocketAddress
      28: dup
      29: ldc           #9                  // String localhost
      31: iconst_0
      32: invokespecial #10                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      35: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      38: new           #12                 // class org/apache/hadoop/hbase/ipc/FifoRpcScheduler
      41: dup
      42: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      45: iconst_1
      46: invokespecial #13                 // Method org/apache/hadoop/hbase/ipc/FifoRpcScheduler."<init>":(Lorg/apache/hadoop/conf/Configuration;I)V
      49: invokevirtual #14                 // Method createRpcServer:(Lorg/apache/hadoop/hbase/Server;Ljava/lang/String;Ljava/util/List;Ljava/net/InetSocketAddress;Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/ipc/RpcScheduler;)Lorg/apache/hadoop/hbase/ipc/RpcServer;
      52: astore_1
      53: aload_0
      54: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      57: invokevirtual #44                 // Method createRpcClient:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/hbase/ipc/AbstractRpcClient;
      60: astore_2
      61: aconst_null
      62: astore_3
      63: aload_1
      64: invokevirtual #16                 // Method org/apache/hadoop/hbase/ipc/RpcServer.start:()V
      67: aload_2
      68: aload_1
      69: invokevirtual #17                 // Method org/apache/hadoop/hbase/ipc/RpcServer.getListenerAddress:()Ljava/net/InetSocketAddress;
      72: invokestatic  #115                // Method org/apache/hadoop/hbase/ipc/TestProtobufRpcServiceImpl.newStub:(Lorg/apache/hadoop/hbase/ipc/RpcClient;Ljava/net/InetSocketAddress;)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$Interface;
      75: astore        4
      77: new           #40                 // class java/util/ArrayList
      80: dup
      81: invokespecial #41                 // Method java/util/ArrayList."<init>":()V
      84: astore        5
      86: new           #40                 // class java/util/ArrayList
      89: dup
      90: invokespecial #41                 // Method java/util/ArrayList."<init>":()V
      93: astore        6
      95: sipush        1000
      98: istore        7
     100: bipush        100
     102: istore        8
     104: invokestatic  #104                // Method java/lang/System.nanoTime:()J
     107: lstore        9
     109: iconst_0
     110: istore        11
     112: iload         11
     114: bipush        10
     116: if_icmpge     194
     119: new           #19                 // class org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl
     122: dup
     123: invokespecial #20                 // Method org/apache/hadoop/hbase/ipc/HBaseRpcControllerImpl."<init>":()V
     126: astore        12
     128: aload         12
     130: iload         8
     132: invokeinterface #103,  2          // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.setCallTimeout:(I)V
     137: new           #116                // class org/apache/hadoop/hbase/ipc/BlockingRpcCallback
     140: dup
     141: invokespecial #117                // Method org/apache/hadoop/hbase/ipc/BlockingRpcCallback."<init>":()V
     144: astore        13
     146: aload         4
     148: aload         12
     150: invokestatic  #105                // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto.newBuilder:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto$Builder;
     153: iload         7
     155: invokevirtual #106                // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto$Builder.setMs:(I)Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto$Builder;
     158: invokevirtual #107                // Method org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto$Builder.build:()Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto;
     161: aload         13
     163: invokeinterface #129,  4          // InterfaceMethod org/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestRpcServiceProtos$TestProtobufRpcProto$Interface.pause:(Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcController;Lorg/apache/hadoop/hbase/shaded/ipc/protobuf/generated/TestProtos$PauseRequestProto;Lorg/apache/hbase/thirdparty/com/google/protobuf/RpcCallback;)V
     168: aload         5
     170: aload         12
     172: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     177: pop
     178: aload         6
     180: aload         13
     182: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     187: pop
     188: iinc          11, 1
     191: goto          112
     194: aload         6
     196: invokeinterface #130,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     201: astore        11
     203: aload         11
     205: invokeinterface #131,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     210: ifeq          236
     213: aload         11
     215: invokeinterface #132,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     220: checkcast     #116                // class org/apache/hadoop/hbase/ipc/BlockingRpcCallback
     223: astore        12
     225: aload         12
     227: invokevirtual #125                // Method org/apache/hadoop/hbase/ipc/BlockingRpcCallback.get:()Ljava/lang/Object;
     230: invokestatic  #29                 // Method org/junit/Assert.assertNull:(Ljava/lang/Object;)V
     233: goto          203
     236: invokestatic  #104                // Method java/lang/System.nanoTime:()J
     239: lload         9
     241: lsub
     242: ldc2_w        #109                // long 1000000l
     245: ldiv
     246: lstore        11
     248: aload         5
     250: invokeinterface #130,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     255: astore        13
     257: aload         13
     259: invokeinterface #131,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     264: ifeq          348
     267: aload         13
     269: invokeinterface #132,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     274: checkcast     #122                // class org/apache/hadoop/hbase/ipc/HBaseRpcController
     277: astore        14
     279: aload         14
     281: invokeinterface #123,  1          // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.failed:()Z
     286: invokestatic  #99                 // Method org/junit/Assert.assertTrue:(Z)V
     289: getstatic     #57                 // Field LOG:Lorg/slf4j/Logger;
     292: new           #58                 // class java/lang/StringBuilder
     295: dup
     296: invokespecial #59                 // Method java/lang/StringBuilder."<init>":()V
     299: ldc           #60                 // String Caught expected exception:
     301: invokevirtual #61                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     304: aload         14
     306: invokeinterface #128,  1          // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.getFailed:()Ljava/io/IOException;
     311: invokevirtual #89                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     314: invokevirtual #63                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     317: invokeinterface #64,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     322: aload         14
     324: invokeinterface #128,  1          // InterfaceMethod org/apache/hadoop/hbase/ipc/HBaseRpcController.getFailed:()Ljava/io/IOException;
     329: invokestatic  #97                 // Method org/apache/hadoop/hbase/shaded/protobuf/ProtobufUtil.handleRemoteException:(Ljava/lang/Exception;)Ljava/io/IOException;
     332: astore        15
     334: aload         15
     336: invokevirtual #111                // Method java/io/IOException.getCause:()Ljava/lang/Throwable;
     339: instanceof    #112                // class org/apache/hadoop/hbase/ipc/CallTimeoutException
     342: invokestatic  #99                 // Method org/junit/Assert.assertTrue:(Z)V
     345: goto          257
     348: lload         11
     350: iload         7
     352: i2l
     353: lcmp
     354: ifge          361
     357: iconst_1
     358: goto          362
     361: iconst_0
     362: invokestatic  #99                 // Method org/junit/Assert.assertTrue:(Z)V
     365: aload_2
     366: ifnull        441
     369: aload_3
     370: ifnull        391
     373: aload_2
     374: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     377: goto          441
     380: astore        4
     382: aload_3
     383: aload         4
     385: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     388: goto          441
     391: aload_2
     392: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     395: goto          441
     398: astore        4
     400: aload         4
     402: astore_3
     403: aload         4
     405: athrow
     406: astore        16
     408: aload_2
     409: ifnull        438
     412: aload_3
     413: ifnull        434
     416: aload_2
     417: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     420: goto          438
     423: astore        17
     425: aload_3
     426: aload         17
     428: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     431: goto          438
     434: aload_2
     435: invokevirtual #30                 // Method org/apache/hadoop/hbase/ipc/AbstractRpcClient.close:()V
     438: aload         16
     440: athrow
     441: aload_1
     442: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     445: goto          457
     448: astore        18
     450: aload_1
     451: invokevirtual #33                 // Method org/apache/hadoop/hbase/ipc/RpcServer.stop:()V
     454: aload         18
     456: athrow
     457: return
    Exception table:
       from    to  target type
         373   377   380   Class java/lang/Throwable
          63   365   398   Class java/lang/Throwable
          63   365   406   any
         416   420   423   Class java/lang/Throwable
         398   408   406   any
          53   441   448   any
         448   450   448   any

  static {};
    Code:
       0: ldc           #133                // class org/apache/hadoop/hbase/ipc/AbstractTestIPC
       2: invokestatic  #134                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #57                 // Field LOG:Lorg/slf4j/Logger;
       8: ldc           #135                // String xyz
      10: invokestatic  #136                // Method org/apache/hadoop/hbase/util/Bytes.toBytes:(Ljava/lang/String;)[B
      13: putstatic     #137                // Field CELL_BYTES:[B
      16: new           #138                // class org/apache/hadoop/hbase/KeyValue
      19: dup
      20: getstatic     #137                // Field CELL_BYTES:[B
      23: getstatic     #137                // Field CELL_BYTES:[B
      26: getstatic     #137                // Field CELL_BYTES:[B
      29: getstatic     #137                // Field CELL_BYTES:[B
      32: invokespecial #139                // Method org/apache/hadoop/hbase/KeyValue."<init>":([B[B[B[B)V
      35: putstatic     #42                 // Field CELL:Lorg/apache/hadoop/hbase/KeyValue;
      38: invokestatic  #2                  // Method org/apache/hadoop/hbase/HBaseConfiguration.create:()Lorg/apache/hadoop/conf/Configuration;
      41: putstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      44: getstatic     #11                 // Field CONF:Lorg/apache/hadoop/conf/Configuration;
      47: ldc           #141                // String hbase.rpc.server.impl
      49: ldc           #142                // class org/apache/hadoop/hbase/ipc/SimpleRpcServer
      51: invokevirtual #143                // Method java/lang/Class.getName:()Ljava/lang/String;
      54: invokevirtual #39                 // Method org/apache/hadoop/conf/Configuration.set:(Ljava/lang/String;Ljava/lang/String;)V
      57: return
}
