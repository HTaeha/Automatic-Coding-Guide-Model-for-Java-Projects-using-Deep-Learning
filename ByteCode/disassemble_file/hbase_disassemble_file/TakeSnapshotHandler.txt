Compiled from "TakeSnapshotHandler.java"
public abstract class org.apache.hadoop.hbase.master.snapshot.TakeSnapshotHandler extends org.apache.hadoop.hbase.executor.EventHandler implements org.apache.hadoop.hbase.master.SnapshotSentinel,org.apache.hadoop.hbase.errorhandling.ForeignExceptionSnare {
  protected final org.apache.hadoop.hbase.master.MasterServices master;

  protected final org.apache.hadoop.hbase.master.MetricsSnapshot metricsSnapshot;

  protected final org.apache.hadoop.hbase.shaded.protobuf.generated.SnapshotProtos$SnapshotDescription snapshot;

  protected final org.apache.hadoop.conf.Configuration conf;

  protected final org.apache.hadoop.fs.FileSystem rootFs;

  protected final org.apache.hadoop.fs.FileSystem workingDirFs;

  protected final org.apache.hadoop.fs.Path rootDir;

  protected final org.apache.hadoop.fs.Path workingDir;

  protected final org.apache.hadoop.hbase.errorhandling.ForeignExceptionDispatcher monitor;

  protected final org.apache.hadoop.hbase.monitoring.MonitoredTask status;

  protected final org.apache.hadoop.hbase.TableName snapshotTable;

  protected final org.apache.hadoop.hbase.snapshot.SnapshotManifest snapshotManifest;

  protected final org.apache.hadoop.hbase.master.snapshot.SnapshotManager snapshotManager;

  protected org.apache.hadoop.hbase.client.TableDescriptor htd;

  static final boolean $assertionsDisabled;

  public org.apache.hadoop.hbase.master.snapshot.TakeSnapshotHandler(org.apache.hadoop.hbase.shaded.protobuf.generated.SnapshotProtos$SnapshotDescription, org.apache.hadoop.hbase.master.MasterServices, org.apache.hadoop.hbase.master.snapshot.SnapshotManager) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_2
       2: getstatic     #1                  // Field org/apache/hadoop/hbase/executor/EventType.C_M_SNAPSHOT_TABLE:Lorg/apache/hadoop/hbase/executor/EventType;
       5: invokespecial #2                  // Method org/apache/hadoop/hbase/executor/EventHandler."<init>":(Lorg/apache/hadoop/hbase/Server;Lorg/apache/hadoop/hbase/executor/EventType;)V
       8: aload_0
       9: new           #3                  // class org/apache/hadoop/hbase/master/MetricsSnapshot
      12: dup
      13: invokespecial #4                  // Method org/apache/hadoop/hbase/master/MetricsSnapshot."<init>":()V
      16: putfield      #5                  // Field metricsSnapshot:Lorg/apache/hadoop/hbase/master/MetricsSnapshot;
      19: getstatic     #6                  // Field $assertionsDisabled:Z
      22: ifne          39
      25: aload_1
      26: ifnonnull     39
      29: new           #7                  // class java/lang/AssertionError
      32: dup
      33: ldc           #8                  // String SnapshotDescription must not be nul1
      35: invokespecial #9                  // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      38: athrow
      39: getstatic     #6                  // Field $assertionsDisabled:Z
      42: ifne          59
      45: aload_2
      46: ifnonnull     59
      49: new           #7                  // class java/lang/AssertionError
      52: dup
      53: ldc           #10                 // String MasterServices must not be nul1
      55: invokespecial #9                  // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      58: athrow
      59: aload_0
      60: aload_2
      61: putfield      #11                 // Field master:Lorg/apache/hadoop/hbase/master/MasterServices;
      64: aload_0
      65: aload_0
      66: getfield      #11                 // Field master:Lorg/apache/hadoop/hbase/master/MasterServices;
      69: invokeinterface #12,  1           // InterfaceMethod org/apache/hadoop/hbase/master/MasterServices.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
      74: putfield      #13                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
      77: aload_0
      78: aload_0
      79: getfield      #11                 // Field master:Lorg/apache/hadoop/hbase/master/MasterServices;
      82: invokeinterface #14,  1           // InterfaceMethod org/apache/hadoop/hbase/master/MasterServices.getMasterFileSystem:()Lorg/apache/hadoop/hbase/master/MasterFileSystem;
      87: invokevirtual #15                 // Method org/apache/hadoop/hbase/master/MasterFileSystem.getRootDir:()Lorg/apache/hadoop/fs/Path;
      90: putfield      #16                 // Field rootDir:Lorg/apache/hadoop/fs/Path;
      93: aload_0
      94: aload_1
      95: aload_0
      96: getfield      #16                 // Field rootDir:Lorg/apache/hadoop/fs/Path;
      99: aload_0
     100: getfield      #13                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
     103: invokestatic  #17                 // Method org/apache/hadoop/hbase/snapshot/SnapshotDescriptionUtils.getWorkingSnapshotDir:(Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/fs/Path;
     106: putfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     109: aload_0
     110: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     113: aload_0
     114: getfield      #16                 // Field rootDir:Lorg/apache/hadoop/fs/Path;
     117: invokestatic  #19                 // Method org/apache/hadoop/hbase/snapshot/SnapshotDescriptionUtils.isSubDirectoryOf:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)Z
     120: ifeq          137
     123: aload_0
     124: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     127: aload_0
     128: getfield      #13                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
     131: invokestatic  #20                 // Method org/apache/hadoop/hbase/snapshot/SnapshotDescriptionUtils.isWithinDefaultWorkingDir:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/conf/Configuration;)Z
     134: ifeq          141
     137: iconst_1
     138: goto          142
     141: iconst_0
     142: new           #21                 // class java/lang/StringBuilder
     145: dup
     146: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     149: ldc           #23                 // String The working directory
     151: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     154: aload_0
     155: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     158: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     161: ldc           #26                 // String  cannot be in the root directory unless it is within the default working directory
     163: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     166: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     169: invokestatic  #28                 // Method org/apache/hbase/thirdparty/com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
     172: aload_0
     173: aload_1
     174: putfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
     177: aload_0
     178: aload_3
     179: putfield      #30                 // Field snapshotManager:Lorg/apache/hadoop/hbase/master/snapshot/SnapshotManager;
     182: aload_0
     183: aload_1
     184: invokevirtual #31                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getTable:()Ljava/lang/String;
     187: invokestatic  #32                 // Method org/apache/hadoop/hbase/TableName.valueOf:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/TableName;
     190: putfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
     193: aload_0
     194: aload_0
     195: getfield      #11                 // Field master:Lorg/apache/hadoop/hbase/master/MasterServices;
     198: invokeinterface #14,  1           // InterfaceMethod org/apache/hadoop/hbase/master/MasterServices.getMasterFileSystem:()Lorg/apache/hadoop/hbase/master/MasterFileSystem;
     203: invokevirtual #34                 // Method org/apache/hadoop/hbase/master/MasterFileSystem.getFileSystem:()Lorg/apache/hadoop/fs/FileSystem;
     206: putfield      #35                 // Field rootFs:Lorg/apache/hadoop/fs/FileSystem;
     209: aload_0
     210: aload_1
     211: aload_0
     212: getfield      #16                 // Field rootDir:Lorg/apache/hadoop/fs/Path;
     215: invokestatic  #36                 // Method org/apache/hadoop/hbase/snapshot/SnapshotDescriptionUtils.getCompletedSnapshotDir:(Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;Lorg/apache/hadoop/fs/Path;)Lorg/apache/hadoop/fs/Path;
     218: putfield      #37                 // Field snapshotDir:Lorg/apache/hadoop/fs/Path;
     221: aload_0
     222: aload_0
     223: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     226: aload_0
     227: getfield      #13                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
     230: invokevirtual #38                 // Method org/apache/hadoop/fs/Path.getFileSystem:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/fs/FileSystem;
     233: putfield      #39                 // Field workingDirFs:Lorg/apache/hadoop/fs/FileSystem;
     236: aload_0
     237: new           #40                 // class org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher
     240: dup
     241: aload_1
     242: invokevirtual #41                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getName:()Ljava/lang/String;
     245: invokespecial #42                 // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher."<init>":(Ljava/lang/String;)V
     248: putfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
     251: aload_0
     252: aload_0
     253: getfield      #13                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
     256: aload_0
     257: getfield      #35                 // Field rootFs:Lorg/apache/hadoop/fs/FileSystem;
     260: aload_0
     261: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     264: aload_1
     265: aload_0
     266: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
     269: invokestatic  #44                 // Method org/apache/hadoop/hbase/snapshot/SnapshotManifest.create:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionSnare;)Lorg/apache/hadoop/hbase/snapshot/SnapshotManifest;
     272: putfield      #45                 // Field snapshotManifest:Lorg/apache/hadoop/hbase/snapshot/SnapshotManifest;
     275: aload_0
     276: aload_0
     277: getfield      #11                 // Field master:Lorg/apache/hadoop/hbase/master/MasterServices;
     280: invokeinterface #46,  1           // InterfaceMethod org/apache/hadoop/hbase/master/MasterServices.getLockManager:()Lorg/apache/hadoop/hbase/master/locking/LockManager;
     285: aload_0
     286: getfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
     289: getstatic     #47                 // Field org/apache/hadoop/hbase/procedure2/LockType.EXCLUSIVE:Lorg/apache/hadoop/hbase/procedure2/LockType;
     292: new           #21                 // class java/lang/StringBuilder
     295: dup
     296: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     299: aload_0
     300: invokevirtual #48                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     303: invokevirtual #49                 // Method java/lang/Class.getName:()Ljava/lang/String;
     306: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     309: ldc           #50                 // String : take snapshot
     311: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     314: aload_1
     315: invokevirtual #41                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getName:()Ljava/lang/String;
     318: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     321: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     324: invokevirtual #51                 // Method org/apache/hadoop/hbase/master/locking/LockManager.createMasterLock:(Lorg/apache/hadoop/hbase/TableName;Lorg/apache/hadoop/hbase/procedure2/LockType;Ljava/lang/String;)Lorg/apache/hadoop/hbase/master/locking/LockManager$MasterLock;
     327: putfield      #52                 // Field tableLock:Lorg/apache/hadoop/hbase/master/locking/LockManager$MasterLock;
     330: aload_0
     331: new           #53                 // class org/apache/hadoop/hbase/master/snapshot/MasterSnapshotVerifier
     334: dup
     335: aload_2
     336: aload_1
     337: aload_0
     338: getfield      #39                 // Field workingDirFs:Lorg/apache/hadoop/fs/FileSystem;
     341: invokespecial #54                 // Method org/apache/hadoop/hbase/master/snapshot/MasterSnapshotVerifier."<init>":(Lorg/apache/hadoop/hbase/master/MasterServices;Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;Lorg/apache/hadoop/fs/FileSystem;)V
     344: putfield      #55                 // Field verifier:Lorg/apache/hadoop/hbase/master/snapshot/MasterSnapshotVerifier;
     347: aload_0
     348: invokestatic  #56                 // Method org/apache/hadoop/hbase/monitoring/TaskMonitor.get:()Lorg/apache/hadoop/hbase/monitoring/TaskMonitor;
     351: new           #21                 // class java/lang/StringBuilder
     354: dup
     355: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     358: ldc           #57                 // String Taking
     360: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     363: aload_1
     364: invokevirtual #58                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getType:()Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription$Type;
     367: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     370: ldc           #59                 // String  snapshot on table:
     372: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     375: aload_0
     376: getfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
     379: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     382: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     385: invokevirtual #60                 // Method org/apache/hadoop/hbase/monitoring/TaskMonitor.createStatus:(Ljava/lang/String;)Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
     388: putfield      #61                 // Field status:Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
     391: return

  public org.apache.hadoop.hbase.master.snapshot.TakeSnapshotHandler prepare() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #67                 // Method org/apache/hadoop/hbase/executor/EventHandler.prepare:()Lorg/apache/hadoop/hbase/executor/EventHandler;
       4: pop
       5: aload_0
       6: getfield      #52                 // Field tableLock:Lorg/apache/hadoop/hbase/master/locking/LockManager$MasterLock;
       9: invokevirtual #68                 // Method org/apache/hadoop/hbase/master/locking/LockManager$MasterLock.acquire:()Z
      12: pop
      13: aload_0
      14: aload_0
      15: invokespecial #69                 // Method loadTableDescriptor:()Lorg/apache/hadoop/hbase/client/TableDescriptor;
      18: putfield      #70                 // Field htd:Lorg/apache/hadoop/hbase/client/TableDescriptor;
      21: goto          34
      24: astore_1
      25: aload_0
      26: getfield      #52                 // Field tableLock:Lorg/apache/hadoop/hbase/master/locking/LockManager$MasterLock;
      29: invokevirtual #72                 // Method org/apache/hadoop/hbase/master/locking/LockManager$MasterLock.release:()V
      32: aload_1
      33: athrow
      34: aload_0
      35: areturn
    Exception table:
       from    to  target type
          13    21    24   Class java/lang/Exception

  public void process();
    Code:
       0: new           #21                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #73                 // String Running
       9: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
      16: invokevirtual #58                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getType:()Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription$Type;
      19: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      22: ldc           #74                 // String  table snapshot
      24: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      27: aload_0
      28: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
      31: invokevirtual #41                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getName:()Ljava/lang/String;
      34: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: ldc           #75                 // String
      39: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_0
      43: getfield      #76                 // Field eventType:Lorg/apache/hadoop/hbase/executor/EventType;
      46: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      49: ldc           #77                 // String  on table
      51: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: aload_0
      55: getfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
      58: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      61: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      64: astore_1
      65: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
      68: aload_1
      69: invokeinterface #79,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      74: aload_0
      75: getfield      #52                 // Field tableLock:Lorg/apache/hadoop/hbase/master/locking/LockManager$MasterLock;
      78: astore_2
      79: aload_0
      80: getfield      #61                 // Field status:Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
      83: aload_1
      84: invokeinterface #80,  2           // InterfaceMethod org/apache/hadoop/hbase/monitoring/MonitoredTask.setStatus:(Ljava/lang/String;)V
      89: aload_0
      90: invokevirtual #81                 // Method downgradeToSharedTableLock:()Z
      93: ifeq          163
      96: aload_0
      97: getfield      #11                 // Field master:Lorg/apache/hadoop/hbase/master/MasterServices;
     100: invokeinterface #46,  1           // InterfaceMethod org/apache/hadoop/hbase/master/MasterServices.getLockManager:()Lorg/apache/hadoop/hbase/master/locking/LockManager;
     105: aload_0
     106: getfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
     109: getstatic     #82                 // Field org/apache/hadoop/hbase/procedure2/LockType.SHARED:Lorg/apache/hadoop/hbase/procedure2/LockType;
     112: new           #21                 // class java/lang/StringBuilder
     115: dup
     116: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     119: aload_0
     120: invokevirtual #48                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     123: invokevirtual #49                 // Method java/lang/Class.getName:()Ljava/lang/String;
     126: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     129: ldc           #50                 // String : take snapshot
     131: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     134: aload_0
     135: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
     138: invokevirtual #41                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getName:()Ljava/lang/String;
     141: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     147: invokevirtual #51                 // Method org/apache/hadoop/hbase/master/locking/LockManager.createMasterLock:(Lorg/apache/hadoop/hbase/TableName;Lorg/apache/hadoop/hbase/procedure2/LockType;Ljava/lang/String;)Lorg/apache/hadoop/hbase/master/locking/LockManager$MasterLock;
     150: astore_2
     151: aload_0
     152: getfield      #52                 // Field tableLock:Lorg/apache/hadoop/hbase/master/locking/LockManager$MasterLock;
     155: invokevirtual #72                 // Method org/apache/hadoop/hbase/master/locking/LockManager$MasterLock.release:()V
     158: aload_2
     159: invokevirtual #68                 // Method org/apache/hadoop/hbase/master/locking/LockManager$MasterLock.acquire:()Z
     162: pop
     163: aload_0
     164: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
     167: aload_0
     168: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     171: aload_0
     172: getfield      #39                 // Field workingDirFs:Lorg/apache/hadoop/fs/FileSystem;
     175: invokestatic  #83                 // Method org/apache/hadoop/hbase/snapshot/SnapshotDescriptionUtils.writeSnapshotInfo:(Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/FileSystem;)V
     178: aload_0
     179: getfield      #45                 // Field snapshotManifest:Lorg/apache/hadoop/hbase/snapshot/SnapshotManifest;
     182: aload_0
     183: getfield      #70                 // Field htd:Lorg/apache/hadoop/hbase/client/TableDescriptor;
     186: invokevirtual #84                 // Method org/apache/hadoop/hbase/snapshot/SnapshotManifest.addTableDescriptor:(Lorg/apache/hadoop/hbase/client/TableDescriptor;)V
     189: aload_0
     190: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
     193: invokevirtual #85                 // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.rethrowException:()V
     196: getstatic     #86                 // Field org/apache/hadoop/hbase/TableName.META_TABLE_NAME:Lorg/apache/hadoop/hbase/TableName;
     199: aload_0
     200: getfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
     203: invokevirtual #87                 // Method org/apache/hadoop/hbase/TableName.equals:(Ljava/lang/Object;)Z
     206: ifeq          225
     209: aload_0
     210: getfield      #88                 // Field server:Lorg/apache/hadoop/hbase/Server;
     213: invokeinterface #89,  1           // InterfaceMethod org/apache/hadoop/hbase/Server.getZooKeeper:()Lorg/apache/hadoop/hbase/zookeeper/ZKWatcher;
     218: invokestatic  #90                 // Method org/apache/hadoop/hbase/zookeeper/MetaTableLocator.getMetaRegionsAndLocations:(Lorg/apache/hadoop/hbase/zookeeper/ZKWatcher;)Ljava/util/List;
     221: astore_3
     222: goto          243
     225: aload_0
     226: getfield      #88                 // Field server:Lorg/apache/hadoop/hbase/Server;
     229: invokeinterface #91,  1           // InterfaceMethod org/apache/hadoop/hbase/Server.getConnection:()Lorg/apache/hadoop/hbase/client/Connection;
     234: aload_0
     235: getfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
     238: iconst_0
     239: invokestatic  #92                 // Method org/apache/hadoop/hbase/MetaTableAccessor.getTableRegionsAndLocations:(Lorg/apache/hadoop/hbase/client/Connection;Lorg/apache/hadoop/hbase/TableName;Z)Ljava/util/List;
     242: astore_3
     243: aload_0
     244: aload_3
     245: invokevirtual #93                 // Method snapshotRegions:(Ljava/util/List;)V
     248: aload_0
     249: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
     252: invokevirtual #85                 // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.rethrowException:()V
     255: new           #94                 // class java/util/HashSet
     258: dup
     259: invokespecial #95                 // Method java/util/HashSet."<init>":()V
     262: astore        4
     264: aload_3
     265: invokeinterface #96,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     270: astore        5
     272: aload         5
     274: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     279: ifeq          380
     282: aload         5
     284: invokeinterface #98,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     289: checkcast     #99                 // class org/apache/hadoop/hbase/util/Pair
     292: astore        6
     294: aload         6
     296: ifnull        377
     299: aload         6
     301: invokevirtual #100                // Method org/apache/hadoop/hbase/util/Pair.getFirst:()Ljava/lang/Object;
     304: ifnull        377
     307: aload         6
     309: invokevirtual #101                // Method org/apache/hadoop/hbase/util/Pair.getSecond:()Ljava/lang/Object;
     312: ifnull        377
     315: aload         6
     317: invokevirtual #100                // Method org/apache/hadoop/hbase/util/Pair.getFirst:()Ljava/lang/Object;
     320: checkcast     #102                // class org/apache/hadoop/hbase/client/RegionInfo
     323: astore        7
     325: aload         7
     327: invokeinterface #103,  1          // InterfaceMethod org/apache/hadoop/hbase/client/RegionInfo.isOffline:()Z
     332: ifeq          358
     335: aload         7
     337: invokeinterface #104,  1          // InterfaceMethod org/apache/hadoop/hbase/client/RegionInfo.isSplit:()Z
     342: ifne          272
     345: aload         7
     347: invokeinterface #105,  1          // InterfaceMethod org/apache/hadoop/hbase/client/RegionInfo.isSplitParent:()Z
     352: ifeq          358
     355: goto          272
     358: aload         4
     360: aload         6
     362: invokevirtual #101                // Method org/apache/hadoop/hbase/util/Pair.getSecond:()Ljava/lang/Object;
     365: checkcast     #106                // class org/apache/hadoop/hbase/ServerName
     368: invokevirtual #107                // Method org/apache/hadoop/hbase/ServerName.toString:()Ljava/lang/String;
     371: invokeinterface #108,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     376: pop
     377: goto          272
     380: aload_0
     381: getfield      #61                 // Field status:Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
     384: new           #21                 // class java/lang/StringBuilder
     387: dup
     388: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     391: ldc           #109                // String Consolidate snapshot:
     393: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     396: aload_0
     397: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
     400: invokevirtual #41                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getName:()Ljava/lang/String;
     403: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     406: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     409: invokeinterface #80,  2           // InterfaceMethod org/apache/hadoop/hbase/monitoring/MonitoredTask.setStatus:(Ljava/lang/String;)V
     414: aload_0
     415: getfield      #45                 // Field snapshotManifest:Lorg/apache/hadoop/hbase/snapshot/SnapshotManifest;
     418: invokevirtual #110                // Method org/apache/hadoop/hbase/snapshot/SnapshotManifest.consolidate:()V
     421: aload_0
     422: getfield      #61                 // Field status:Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
     425: new           #21                 // class java/lang/StringBuilder
     428: dup
     429: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     432: ldc           #111                // String Verifying snapshot:
     434: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     437: aload_0
     438: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
     441: invokevirtual #41                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getName:()Ljava/lang/String;
     444: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     447: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     450: invokeinterface #80,  2           // InterfaceMethod org/apache/hadoop/hbase/monitoring/MonitoredTask.setStatus:(Ljava/lang/String;)V
     455: aload_0
     456: getfield      #55                 // Field verifier:Lorg/apache/hadoop/hbase/master/snapshot/MasterSnapshotVerifier;
     459: aload_0
     460: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     463: aload         4
     465: invokevirtual #112                // Method org/apache/hadoop/hbase/master/snapshot/MasterSnapshotVerifier.verifySnapshot:(Lorg/apache/hadoop/fs/Path;Ljava/util/Set;)V
     468: aload_0
     469: aload_0
     470: getfield      #37                 // Field snapshotDir:Lorg/apache/hadoop/fs/Path;
     473: aload_0
     474: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     477: aload_0
     478: getfield      #35                 // Field rootFs:Lorg/apache/hadoop/fs/FileSystem;
     481: aload_0
     482: getfield      #39                 // Field workingDirFs:Lorg/apache/hadoop/fs/FileSystem;
     485: invokevirtual #113                // Method completeSnapshot:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/FileSystem;)V
     488: new           #21                 // class java/lang/StringBuilder
     491: dup
     492: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     495: ldc           #114                // String Snapshot
     497: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     500: aload_0
     501: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
     504: invokevirtual #41                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getName:()Ljava/lang/String;
     507: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     510: ldc           #115                // String  of table
     512: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     515: aload_0
     516: getfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
     519: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     522: ldc           #116                // String  completed
     524: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     527: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     530: astore_1
     531: aload_0
     532: getfield      #61                 // Field status:Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
     535: aload_1
     536: invokeinterface #117,  2          // InterfaceMethod org/apache/hadoop/hbase/monitoring/MonitoredTask.markComplete:(Ljava/lang/String;)V
     541: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
     544: aload_1
     545: invokeinterface #79,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     550: aload_0
     551: getfield      #5                  // Field metricsSnapshot:Lorg/apache/hadoop/hbase/master/MetricsSnapshot;
     554: aload_0
     555: getfield      #61                 // Field status:Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
     558: invokeinterface #118,  1          // InterfaceMethod org/apache/hadoop/hbase/monitoring/MonitoredTask.getCompletionTimestamp:()J
     563: aload_0
     564: getfield      #61                 // Field status:Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
     567: invokeinterface #119,  1          // InterfaceMethod org/apache/hadoop/hbase/monitoring/MonitoredTask.getStartTime:()J
     572: lsub
     573: invokevirtual #120                // Method org/apache/hadoop/hbase/master/MetricsSnapshot.addSnapshot:(J)V
     576: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
     579: new           #21                 // class java/lang/StringBuilder
     582: dup
     583: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     586: ldc           #121                // String Launching cleanup of working dir:
     588: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     591: aload_0
     592: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     595: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     598: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     601: invokeinterface #122,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     606: aload_0
     607: getfield      #39                 // Field workingDirFs:Lorg/apache/hadoop/fs/FileSystem;
     610: aload_0
     611: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     614: iconst_1
     615: invokevirtual #123                // Method org/apache/hadoop/fs/FileSystem.delete:(Lorg/apache/hadoop/fs/Path;Z)Z
     618: ifne          651
     621: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
     624: new           #21                 // class java/lang/StringBuilder
     627: dup
     628: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     631: ldc           #124                // String Couldn't delete snapshot working directory:
     633: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     636: aload_0
     637: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     640: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     643: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     646: invokeinterface #125,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     651: goto          685
     654: astore_3
     655: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
     658: new           #21                 // class java/lang/StringBuilder
     661: dup
     662: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     665: ldc           #124                // String Couldn't delete snapshot working directory:
     667: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     670: aload_0
     671: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     674: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     677: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     680: invokeinterface #125,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     685: aload_2
     686: invokevirtual #72                 // Method org/apache/hadoop/hbase/master/locking/LockManager$MasterLock.release:()V
     689: goto          1063
     692: astore_3
     693: aload_0
     694: getfield      #61                 // Field status:Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
     697: new           #21                 // class java/lang/StringBuilder
     700: dup
     701: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     704: ldc           #126                // String Failed to complete snapshot
     706: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     709: aload_0
     710: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
     713: invokevirtual #41                 // Method org/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription.getName:()Ljava/lang/String;
     716: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     719: ldc           #77                 // String  on table
     721: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     724: aload_0
     725: getfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
     728: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     731: ldc           #127                // String  because
     733: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     736: aload_3
     737: invokevirtual #128                // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     740: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     743: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     746: invokeinterface #129,  2          // InterfaceMethod org/apache/hadoop/hbase/monitoring/MonitoredTask.abort:(Ljava/lang/String;)V
     751: new           #21                 // class java/lang/StringBuilder
     754: dup
     755: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     758: ldc           #130                // String Failed taking snapshot
     760: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     763: aload_0
     764: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
     767: invokestatic  #131                // Method org/apache/hadoop/hbase/snapshot/ClientSnapshotDescriptionUtils.toString:(Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;)Ljava/lang/String;
     770: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     773: ldc           #132                // String  due to exception:
     775: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     778: aload_3
     779: invokevirtual #128                // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     782: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     785: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     788: astore        4
     790: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
     793: aload         4
     795: aload_3
     796: invokeinterface #133,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     801: new           #134                // class org/apache/hadoop/hbase/errorhandling/ForeignException
     804: dup
     805: aload         4
     807: aload_3
     808: invokespecial #135                // Method org/apache/hadoop/hbase/errorhandling/ForeignException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     811: astore        5
     813: aload_0
     814: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
     817: aload         5
     819: invokevirtual #136                // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.receive:(Lorg/apache/hadoop/hbase/errorhandling/ForeignException;)V
     822: aload_0
     823: aload         4
     825: invokevirtual #137                // Method cancel:(Ljava/lang/String;)V
     828: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
     831: new           #21                 // class java/lang/StringBuilder
     834: dup
     835: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     838: ldc           #121                // String Launching cleanup of working dir:
     840: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     843: aload_0
     844: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     847: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     850: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     853: invokeinterface #122,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     858: aload_0
     859: getfield      #39                 // Field workingDirFs:Lorg/apache/hadoop/fs/FileSystem;
     862: aload_0
     863: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     866: iconst_1
     867: invokevirtual #123                // Method org/apache/hadoop/fs/FileSystem.delete:(Lorg/apache/hadoop/fs/Path;Z)Z
     870: ifne          903
     873: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
     876: new           #21                 // class java/lang/StringBuilder
     879: dup
     880: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     883: ldc           #124                // String Couldn't delete snapshot working directory:
     885: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     888: aload_0
     889: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     892: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     895: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     898: invokeinterface #125,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     903: goto          937
     906: astore_3
     907: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
     910: new           #21                 // class java/lang/StringBuilder
     913: dup
     914: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     917: ldc           #124                // String Couldn't delete snapshot working directory:
     919: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     922: aload_0
     923: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     926: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     929: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     932: invokeinterface #125,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     937: aload_2
     938: invokevirtual #72                 // Method org/apache/hadoop/hbase/master/locking/LockManager$MasterLock.release:()V
     941: goto          1063
     944: astore        8
     946: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
     949: new           #21                 // class java/lang/StringBuilder
     952: dup
     953: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     956: ldc           #121                // String Launching cleanup of working dir:
     958: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     961: aload_0
     962: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     965: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     968: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     971: invokeinterface #122,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     976: aload_0
     977: getfield      #39                 // Field workingDirFs:Lorg/apache/hadoop/fs/FileSystem;
     980: aload_0
     981: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
     984: iconst_1
     985: invokevirtual #123                // Method org/apache/hadoop/fs/FileSystem.delete:(Lorg/apache/hadoop/fs/Path;Z)Z
     988: ifne          1021
     991: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
     994: new           #21                 // class java/lang/StringBuilder
     997: dup
     998: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
    1001: ldc           #124                // String Couldn't delete snapshot working directory:
    1003: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1006: aload_0
    1007: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
    1010: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
    1013: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1016: invokeinterface #125,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
    1021: goto          1056
    1024: astore        9
    1026: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
    1029: new           #21                 // class java/lang/StringBuilder
    1032: dup
    1033: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
    1036: ldc           #124                // String Couldn't delete snapshot working directory:
    1038: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1041: aload_0
    1042: getfield      #18                 // Field workingDir:Lorg/apache/hadoop/fs/Path;
    1045: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
    1048: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1051: invokeinterface #125,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
    1056: aload_2
    1057: invokevirtual #72                 // Method org/apache/hadoop/hbase/master/locking/LockManager$MasterLock.release:()V
    1060: aload         8
    1062: athrow
    1063: return
    Exception table:
       from    to  target type
         606   651   654   Class java/io/IOException
          89   576   692   Class java/lang/Exception
         858   903   906   Class java/io/IOException
          89   576   944   any
         692   828   944   any
         976  1021  1024   Class java/io/IOException
         944   946   944   any

  public void completeSnapshot(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.FileSystem) throws org.apache.hadoop.hbase.snapshot.SnapshotCreationException, java.io.IOException;
    Code:
       0: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
       3: new           #21                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #138                // String Sentinel is done, just moving the snapshot from
      12: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: aload_2
      16: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      19: ldc           #139                // String  to
      21: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      31: invokeinterface #122,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      36: aload         4
      38: invokevirtual #140                // Method org/apache/hadoop/fs/FileSystem.getUri:()Ljava/net/URI;
      41: astore        5
      43: aload_3
      44: invokevirtual #140                // Method org/apache/hadoop/fs/FileSystem.getUri:()Ljava/net/URI;
      47: astore        6
      49: aload         5
      51: invokevirtual #141                // Method java/net/URI.getScheme:()Ljava/lang/String;
      54: aload         6
      56: invokevirtual #141                // Method java/net/URI.getScheme:()Ljava/lang/String;
      59: invokevirtual #142                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      62: ifeq          122
      65: aload         5
      67: invokevirtual #143                // Method java/net/URI.getAuthority:()Ljava/lang/String;
      70: ifnull        122
      73: aload         5
      75: invokevirtual #143                // Method java/net/URI.getAuthority:()Ljava/lang/String;
      78: aload         6
      80: invokevirtual #143                // Method java/net/URI.getAuthority:()Ljava/lang/String;
      83: invokevirtual #142                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      86: ifeq          122
      89: aload         5
      91: invokevirtual #144                // Method java/net/URI.getUserInfo:()Ljava/lang/String;
      94: ifnull        122
      97: aload         5
      99: invokevirtual #144                // Method java/net/URI.getUserInfo:()Ljava/lang/String;
     102: aload         6
     104: invokevirtual #144                // Method java/net/URI.getUserInfo:()Ljava/lang/String;
     107: invokevirtual #142                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     110: ifeq          122
     113: aload_3
     114: aload_2
     115: aload_1
     116: invokevirtual #145                // Method org/apache/hadoop/fs/FileSystem.rename:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)Z
     119: ifne          180
     122: aload         4
     124: aload_2
     125: aload_3
     126: aload_1
     127: iconst_1
     128: iconst_1
     129: aload_0
     130: getfield      #13                 // Field conf:Lorg/apache/hadoop/conf/Configuration;
     133: invokestatic  #146                // Method org/apache/hadoop/fs/FileUtil.copy:(Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;ZZLorg/apache/hadoop/conf/Configuration;)Z
     136: ifne          180
     139: new           #147                // class org/apache/hadoop/hbase/snapshot/SnapshotCreationException
     142: dup
     143: new           #21                 // class java/lang/StringBuilder
     146: dup
     147: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     150: ldc           #148                // String Failed to copy working directory(
     152: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     155: aload_2
     156: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     159: ldc           #149                // String ) to completed directory(
     161: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     164: aload_1
     165: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     168: ldc           #150                // String ).
     170: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     173: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     176: invokespecial #151                // Method org/apache/hadoop/hbase/snapshot/SnapshotCreationException."<init>":(Ljava/lang/String;)V
     179: athrow
     180: aload_0
     181: iconst_1
     182: putfield      #152                // Field finished:Z
     185: return

  protected abstract boolean downgradeToSharedTableLock();

  protected abstract void snapshotRegions(java.util.List<org.apache.hadoop.hbase.util.Pair<org.apache.hadoop.hbase.client.RegionInfo, org.apache.hadoop.hbase.ServerName>>) throws java.io.IOException, org.apache.zookeeper.KeeperException;

  protected void snapshotDisabledRegion(org.apache.hadoop.hbase.client.RegionInfo) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #45                 // Field snapshotManifest:Lorg/apache/hadoop/hbase/snapshot/SnapshotManifest;
       4: aload_0
       5: getfield      #16                 // Field rootDir:Lorg/apache/hadoop/fs/Path;
       8: aload_0
       9: getfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
      12: invokestatic  #153                // Method org/apache/hadoop/hbase/util/FSUtils.getTableDir:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/hbase/TableName;)Lorg/apache/hadoop/fs/Path;
      15: aload_1
      16: invokevirtual #154                // Method org/apache/hadoop/hbase/snapshot/SnapshotManifest.addRegion:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/hbase/client/RegionInfo;)V
      19: aload_0
      20: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
      23: invokevirtual #85                 // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.rethrowException:()V
      26: aload_0
      27: getfield      #61                 // Field status:Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
      30: new           #21                 // class java/lang/StringBuilder
      33: dup
      34: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      37: ldc           #155                // String Completed referencing HFiles for offline region
      39: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_1
      43: invokevirtual #156                // Method java/lang/Object.toString:()Ljava/lang/String;
      46: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: ldc           #157                // String  of table:
      51: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: aload_0
      55: getfield      #33                 // Field snapshotTable:Lorg/apache/hadoop/hbase/TableName;
      58: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      61: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      64: invokeinterface #80,  2           // InterfaceMethod org/apache/hadoop/hbase/monitoring/MonitoredTask.setStatus:(Ljava/lang/String;)V
      69: return

  public void cancel(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #152                // Field finished:Z
       4: ifeq          8
       7: return
       8: aload_0
       9: iconst_1
      10: putfield      #152                // Field finished:Z
      13: getstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
      16: new           #21                 // class java/lang/StringBuilder
      19: dup
      20: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      23: ldc           #158                // String Stop taking snapshot=
      25: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_0
      29: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
      32: invokestatic  #131                // Method org/apache/hadoop/hbase/snapshot/ClientSnapshotDescriptionUtils.toString:(Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;)Ljava/lang/String;
      35: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: ldc           #159                // String  because:
      40: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: aload_1
      44: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      47: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      50: invokeinterface #79,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      55: new           #160                // class java/util/concurrent/CancellationException
      58: dup
      59: aload_1
      60: invokespecial #161                // Method java/util/concurrent/CancellationException."<init>":(Ljava/lang/String;)V
      63: astore_2
      64: aload_0
      65: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
      68: new           #134                // class org/apache/hadoop/hbase/errorhandling/ForeignException
      71: dup
      72: aload_0
      73: getfield      #11                 // Field master:Lorg/apache/hadoop/hbase/master/MasterServices;
      76: invokeinterface #162,  1          // InterfaceMethod org/apache/hadoop/hbase/master/MasterServices.getServerName:()Lorg/apache/hadoop/hbase/ServerName;
      81: invokevirtual #107                // Method org/apache/hadoop/hbase/ServerName.toString:()Ljava/lang/String;
      84: aload_2
      85: invokespecial #135                // Method org/apache/hadoop/hbase/errorhandling/ForeignException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      88: invokevirtual #136                // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.receive:(Lorg/apache/hadoop/hbase/errorhandling/ForeignException;)V
      91: return

  public boolean isFinished();
    Code:
       0: aload_0
       1: getfield      #152                // Field finished:Z
       4: ireturn

  public long getCompletionTimestamp();
    Code:
       0: aload_0
       1: getfield      #61                 // Field status:Lorg/apache/hadoop/hbase/monitoring/MonitoredTask;
       4: invokeinterface #118,  1          // InterfaceMethod org/apache/hadoop/hbase/monitoring/MonitoredTask.getCompletionTimestamp:()J
       9: lreturn

  public org.apache.hadoop.hbase.shaded.protobuf.generated.SnapshotProtos$SnapshotDescription getSnapshot();
    Code:
       0: aload_0
       1: getfield      #29                 // Field snapshot:Lorg/apache/hadoop/hbase/shaded/protobuf/generated/SnapshotProtos$SnapshotDescription;
       4: areturn

  public org.apache.hadoop.hbase.errorhandling.ForeignException getExceptionIfFailed();
    Code:
       0: aload_0
       1: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
       4: invokevirtual #163                // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.getException:()Lorg/apache/hadoop/hbase/errorhandling/ForeignException;
       7: areturn

  public void rethrowExceptionIfFailed() throws org.apache.hadoop.hbase.errorhandling.ForeignException;
    Code:
       0: aload_0
       1: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
       4: invokevirtual #85                 // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.rethrowException:()V
       7: return

  public void rethrowException() throws org.apache.hadoop.hbase.errorhandling.ForeignException;
    Code:
       0: aload_0
       1: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
       4: invokevirtual #85                 // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.rethrowException:()V
       7: return

  public boolean hasException();
    Code:
       0: aload_0
       1: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
       4: invokevirtual #164                // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.hasException:()Z
       7: ireturn

  public org.apache.hadoop.hbase.errorhandling.ForeignException getException();
    Code:
       0: aload_0
       1: getfield      #43                 // Field monitor:Lorg/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher;
       4: invokevirtual #163                // Method org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.getException:()Lorg/apache/hadoop/hbase/errorhandling/ForeignException;
       7: areturn

  public org.apache.hadoop.hbase.executor.EventHandler prepare() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #165                // Method prepare:()Lorg/apache/hadoop/hbase/master/snapshot/TakeSnapshotHandler;
       4: areturn

  static {};
    Code:
       0: ldc           #166                // class org/apache/hadoop/hbase/master/snapshot/TakeSnapshotHandler
       2: invokevirtual #167                // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #6                  // Field $assertionsDisabled:Z
      16: ldc           #166                // class org/apache/hadoop/hbase/master/snapshot/TakeSnapshotHandler
      18: invokestatic  #168                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      21: putstatic     #78                 // Field LOG:Lorg/slf4j/Logger;
      24: return
}
