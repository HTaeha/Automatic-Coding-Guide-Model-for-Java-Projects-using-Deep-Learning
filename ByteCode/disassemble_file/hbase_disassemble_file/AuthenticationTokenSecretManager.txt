Compiled from "AuthenticationTokenSecretManager.java"
public class org.apache.hadoop.hbase.security.token.AuthenticationTokenSecretManager extends org.apache.hadoop.security.token.SecretManager<org.apache.hadoop.hbase.security.token.AuthenticationTokenIdentifier> {
  static final java.lang.String NAME_PREFIX;

  public org.apache.hadoop.hbase.security.token.AuthenticationTokenSecretManager(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.zookeeper.ZKWatcher, java.lang.String, long, long);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method org/apache/hadoop/security/token/SecretManager."<init>":()V
       4: aload_0
       5: new           #5                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #6                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #7                  // Field allKeys:Ljava/util/Map;
      15: aload_0
      16: new           #8                  // class java/util/concurrent/atomic/AtomicLong
      19: dup
      20: invokespecial #9                  // Method java/util/concurrent/atomic/AtomicLong."<init>":()V
      23: putfield      #10                 // Field tokenSeq:Ljava/util/concurrent/atomic/AtomicLong;
      26: aload_0
      27: new           #11                 // class org/apache/hadoop/hbase/security/token/ZKSecretWatcher
      30: dup
      31: aload_1
      32: aload_2
      33: aload_0
      34: invokespecial #12                 // Method org/apache/hadoop/hbase/security/token/ZKSecretWatcher."<init>":(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hbase/zookeeper/ZKWatcher;Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager;)V
      37: putfield      #3                  // Field zkWatcher:Lorg/apache/hadoop/hbase/security/token/ZKSecretWatcher;
      40: aload_0
      41: lload         4
      43: putfield      #1                  // Field keyUpdateInterval:J
      46: aload_0
      47: lload         6
      49: putfield      #13                 // Field tokenMaxLifetime:J
      52: aload_0
      53: new           #14                 // class org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector
      56: dup
      57: aload_0
      58: aload_2
      59: aload_3
      60: invokespecial #15                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector."<init>":(Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager;Lorg/apache/hadoop/hbase/zookeeper/ZKWatcher;Ljava/lang/String;)V
      63: putfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
      66: aload_0
      67: new           #17                 // class java/lang/StringBuilder
      70: dup
      71: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      74: ldc           #20                 // String SecretManager-
      76: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: aload_3
      80: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      83: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      86: putfield      #23                 // Field name:Ljava/lang/String;
      89: aload_0
      90: new           #24                 // class org/apache/hadoop/hbase/zookeeper/ZKClusterId
      93: dup
      94: aload_2
      95: aload_2
      96: invokespecial #25                 // Method org/apache/hadoop/hbase/zookeeper/ZKClusterId."<init>":(Lorg/apache/hadoop/hbase/zookeeper/ZKWatcher;Lorg/apache/hadoop/hbase/Abortable;)V
      99: putfield      #26                 // Field clusterId:Lorg/apache/hadoop/hbase/zookeeper/ZKClusterId;
     102: return

  public void start();
    Code:
       0: aload_0
       1: getfield      #3                  // Field zkWatcher:Lorg/apache/hadoop/hbase/security/token/ZKSecretWatcher;
       4: invokevirtual #27                 // Method org/apache/hadoop/hbase/security/token/ZKSecretWatcher.start:()V
       7: aload_0
       8: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
      11: invokevirtual #28                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.start:()V
      14: goto          29
      17: astore_1
      18: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      21: ldc           #30                 // String ZooKeeper initialization failed
      23: aload_1
      24: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      29: return
    Exception table:
       from    to  target type
           0    14    17   Class org/apache/zookeeper/KeeperException

  public void stop();
    Code:
       0: aload_0
       1: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
       4: ldc           #32                 // String SecretManager stopping
       6: invokevirtual #33                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.stop:(Ljava/lang/String;)V
       9: return

  public boolean isMaster();
    Code:
       0: aload_0
       1: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
       4: invokevirtual #34                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.isMaster:()Z
       7: ireturn

  public java.lang.String getName();
    Code:
       0: aload_0
       1: getfield      #23                 // Field name:Ljava/lang/String;
       4: areturn

  protected synchronized byte[] createPassword(org.apache.hadoop.hbase.security.token.AuthenticationTokenIdentifier);
    Code:
       0: invokestatic  #35                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
       3: lstore_2
       4: aload_0
       5: getfield      #36                 // Field currentKey:Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;
       8: astore        4
      10: aload_1
      11: aload         4
      13: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
      16: invokevirtual #38                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier.setKeyId:(I)V
      19: aload_1
      20: lload_2
      21: invokevirtual #39                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier.setIssueDate:(J)V
      24: aload_1
      25: lload_2
      26: aload_0
      27: getfield      #13                 // Field tokenMaxLifetime:J
      30: ladd
      31: invokevirtual #40                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier.setExpirationDate:(J)V
      34: aload_1
      35: aload_0
      36: getfield      #10                 // Field tokenSeq:Ljava/util/concurrent/atomic/AtomicLong;
      39: invokevirtual #41                 // Method java/util/concurrent/atomic/AtomicLong.getAndIncrement:()J
      42: invokevirtual #42                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier.setSequenceNumber:(J)V
      45: aload_1
      46: invokevirtual #43                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier.getBytes:()[B
      49: aload         4
      51: invokevirtual #44                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKey:()Ljavax/crypto/SecretKey;
      54: invokestatic  #45                 // Method createPassword:([BLjavax/crypto/SecretKey;)[B
      57: areturn

  public byte[] retrievePassword(org.apache.hadoop.hbase.security.token.AuthenticationTokenIdentifier) throws org.apache.hadoop.security.token.SecretManager$InvalidToken;
    Code:
       0: invokestatic  #35                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
       3: lstore_2
       4: aload_1
       5: invokevirtual #46                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier.getExpirationDate:()J
       8: lload_2
       9: lcmp
      10: ifge          23
      13: new           #47                 // class org/apache/hadoop/security/token/SecretManager$InvalidToken
      16: dup
      17: ldc           #48                 // String Token has expired
      19: invokespecial #49                 // Method org/apache/hadoop/security/token/SecretManager$InvalidToken."<init>":(Ljava/lang/String;)V
      22: athrow
      23: aload_0
      24: getfield      #7                  // Field allKeys:Ljava/util/Map;
      27: aload_1
      28: invokevirtual #50                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier.getKeyId:()I
      31: invokestatic  #51                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      34: invokeinterface #52,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      39: checkcast     #53                 // class org/apache/hadoop/hbase/security/token/AuthenticationKey
      42: astore        4
      44: aload         4
      46: ifnonnull     283
      49: aload_0
      50: getfield      #3                  // Field zkWatcher:Lorg/apache/hadoop/hbase/security/token/ZKSecretWatcher;
      53: invokevirtual #54                 // Method org/apache/hadoop/hbase/security/token/ZKSecretWatcher.getWatcher:()Lorg/apache/hadoop/hbase/zookeeper/ZKWatcher;
      56: invokevirtual #55                 // Method org/apache/hadoop/hbase/zookeeper/ZKWatcher.isAborted:()Z
      59: ifeq          82
      62: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      65: ldc           #56                 // String ZKWatcher is abort
      67: invokeinterface #57,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      72: new           #47                 // class org/apache/hadoop/security/token/SecretManager$InvalidToken
      75: dup
      76: ldc           #58                 // String Token keys could not be sync from zookeeper because of ZKWatcher abort
      78: invokespecial #49                 // Method org/apache/hadoop/security/token/SecretManager$InvalidToken."<init>":(Ljava/lang/String;)V
      81: athrow
      82: aload_0
      83: dup
      84: astore        5
      86: monitorenter
      87: aload_0
      88: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
      91: invokevirtual #59                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.isAlive:()Z
      94: ifeq          107
      97: aload_0
      98: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
     101: invokevirtual #60                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.isStopped:()Z
     104: ifeq          220
     107: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     110: new           #17                 // class java/lang/StringBuilder
     113: dup
     114: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     117: ldc           #61                 // String Thread leaderElector[
     119: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     122: aload_0
     123: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
     126: invokevirtual #62                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.getName:()Ljava/lang/String;
     129: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     132: ldc           #63                 // String :
     134: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     137: aload_0
     138: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
     141: invokevirtual #64                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.getId:()J
     144: invokevirtual #65                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     147: ldc           #66                 // String ] is stopped or not alive
     149: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     152: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     155: invokeinterface #67,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     160: aload_0
     161: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
     164: invokevirtual #28                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.start:()V
     167: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     170: new           #17                 // class java/lang/StringBuilder
     173: dup
     174: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     177: ldc           #68                 // String Thread leaderElector [
     179: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: aload_0
     183: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
     186: invokevirtual #62                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.getName:()Ljava/lang/String;
     189: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     192: ldc           #63                 // String :
     194: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     197: aload_0
     198: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
     201: invokevirtual #64                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.getId:()J
     204: invokevirtual #65                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     207: ldc           #69                 // String ] is started
     209: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     212: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     215: invokeinterface #70,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     220: aload         5
     222: monitorexit
     223: goto          234
     226: astore        6
     228: aload         5
     230: monitorexit
     231: aload         6
     233: athrow
     234: aload_0
     235: getfield      #3                  // Field zkWatcher:Lorg/apache/hadoop/hbase/security/token/ZKSecretWatcher;
     238: invokevirtual #71                 // Method org/apache/hadoop/hbase/security/token/ZKSecretWatcher.refreshKeys:()V
     241: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     244: invokeinterface #72,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     249: ifeq          262
     252: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     255: ldc           #73                 // String Sync token keys from zookeeper
     257: invokeinterface #74,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     262: aload_0
     263: getfield      #7                  // Field allKeys:Ljava/util/Map;
     266: aload_1
     267: invokevirtual #50                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier.getKeyId:()I
     270: invokestatic  #51                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     273: invokeinterface #52,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     278: checkcast     #53                 // class org/apache/hadoop/hbase/security/token/AuthenticationKey
     281: astore        4
     283: aload         4
     285: ifnonnull     323
     288: new           #47                 // class org/apache/hadoop/security/token/SecretManager$InvalidToken
     291: dup
     292: new           #17                 // class java/lang/StringBuilder
     295: dup
     296: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     299: ldc           #75                 // String Unknown master key for token (id=
     301: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     304: aload_1
     305: invokevirtual #50                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier.getKeyId:()I
     308: invokevirtual #76                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     311: ldc           #77                 // String )
     313: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     316: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     319: invokespecial #49                 // Method org/apache/hadoop/security/token/SecretManager$InvalidToken."<init>":(Ljava/lang/String;)V
     322: athrow
     323: aload_1
     324: invokevirtual #43                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier.getBytes:()[B
     327: aload         4
     329: invokevirtual #44                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKey:()Ljavax/crypto/SecretKey;
     332: invokestatic  #45                 // Method createPassword:([BLjavax/crypto/SecretKey;)[B
     335: areturn
    Exception table:
       from    to  target type
          87   223   226   any
         226   231   226   any

  public org.apache.hadoop.hbase.security.token.AuthenticationTokenIdentifier createIdentifier();
    Code:
       0: new           #78                 // class org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier
       3: dup
       4: invokespecial #79                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier."<init>":()V
       7: areturn

  public org.apache.hadoop.security.token.Token<org.apache.hadoop.hbase.security.token.AuthenticationTokenIdentifier> generateToken(java.lang.String);
    Code:
       0: new           #78                 // class org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier
       3: dup
       4: aload_1
       5: invokespecial #80                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier."<init>":(Ljava/lang/String;)V
       8: astore_2
       9: new           #81                 // class org/apache/hadoop/security/token/Token
      12: dup
      13: aload_2
      14: aload_0
      15: invokespecial #82                 // Method org/apache/hadoop/security/token/Token."<init>":(Lorg/apache/hadoop/security/token/TokenIdentifier;Lorg/apache/hadoop/security/token/SecretManager;)V
      18: astore_3
      19: aload_0
      20: getfield      #26                 // Field clusterId:Lorg/apache/hadoop/hbase/zookeeper/ZKClusterId;
      23: invokevirtual #83                 // Method org/apache/hadoop/hbase/zookeeper/ZKClusterId.hasId:()Z
      26: ifeq          47
      29: aload_3
      30: new           #84                 // class org/apache/hadoop/io/Text
      33: dup
      34: aload_0
      35: getfield      #26                 // Field clusterId:Lorg/apache/hadoop/hbase/zookeeper/ZKClusterId;
      38: invokevirtual #85                 // Method org/apache/hadoop/hbase/zookeeper/ZKClusterId.getId:()Ljava/lang/String;
      41: invokespecial #86                 // Method org/apache/hadoop/io/Text."<init>":(Ljava/lang/String;)V
      44: invokevirtual #87                 // Method org/apache/hadoop/security/token/Token.setService:(Lorg/apache/hadoop/io/Text;)V
      47: aload_3
      48: areturn

  public synchronized void addKey(org.apache.hadoop.hbase.security.token.AuthenticationKey) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
       4: invokevirtual #34                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.isMaster:()Z
       7: ifeq          52
      10: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      13: invokeinterface #72,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      18: ifeq          51
      21: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      24: new           #17                 // class java/lang/StringBuilder
      27: dup
      28: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      31: ldc           #88                 // String Running as master, ignoring new key
      33: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: aload_1
      37: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
      40: invokevirtual #76                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      43: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      46: invokeinterface #74,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      51: return
      52: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      55: invokeinterface #72,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      60: ifeq          93
      63: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      66: new           #17                 // class java/lang/StringBuilder
      69: dup
      70: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      73: ldc           #89                 // String Adding key
      75: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      78: aload_1
      79: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
      82: invokevirtual #76                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      85: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      88: invokeinterface #74,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      93: aload_0
      94: getfield      #7                  // Field allKeys:Ljava/util/Map;
      97: aload_1
      98: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
     101: invokestatic  #51                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     104: aload_1
     105: invokeinterface #90,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     110: pop
     111: aload_0
     112: getfield      #36                 // Field currentKey:Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;
     115: ifnull        132
     118: aload_1
     119: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
     122: aload_0
     123: getfield      #36                 // Field currentKey:Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;
     126: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
     129: if_icmple     137
     132: aload_0
     133: aload_1
     134: putfield      #36                 // Field currentKey:Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;
     137: aload_1
     138: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
     141: aload_0
     142: getfield      #91                 // Field idSeq:I
     145: if_icmple     156
     148: aload_0
     149: aload_1
     150: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
     153: putfield      #91                 // Field idSeq:I
     156: return

  synchronized boolean removeKey(java.lang.Integer);
    Code:
       0: aload_0
       1: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
       4: invokevirtual #34                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.isMaster:()Z
       7: ifeq          50
      10: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      13: invokeinterface #72,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      18: ifeq          48
      21: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      24: new           #17                 // class java/lang/StringBuilder
      27: dup
      28: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      31: ldc           #92                 // String Running as master, ignoring removed key
      33: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: aload_1
      37: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      40: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      43: invokeinterface #74,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      48: iconst_0
      49: ireturn
      50: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      53: invokeinterface #72,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      58: ifeq          88
      61: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      64: new           #17                 // class java/lang/StringBuilder
      67: dup
      68: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      71: ldc           #94                 // String Removing key
      73: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: aload_1
      77: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      80: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      83: invokeinterface #74,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      88: aload_0
      89: getfield      #7                  // Field allKeys:Ljava/util/Map;
      92: aload_1
      93: invokeinterface #95,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      98: pop
      99: iconst_1
     100: ireturn

  synchronized org.apache.hadoop.hbase.security.token.AuthenticationKey getCurrentKey();
    Code:
       0: aload_0
       1: getfield      #36                 // Field currentKey:Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;
       4: areturn

  org.apache.hadoop.hbase.security.token.AuthenticationKey getKey(int);
    Code:
       0: aload_0
       1: getfield      #7                  // Field allKeys:Ljava/util/Map;
       4: iload_1
       5: invokestatic  #51                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       8: invokeinterface #52,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #53                 // class org/apache/hadoop/hbase/security/token/AuthenticationKey
      16: areturn

  synchronized void removeExpiredKeys();
    Code:
       0: aload_0
       1: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
       4: invokevirtual #34                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.isMaster:()Z
       7: ifne          21
      10: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      13: ldc           #96                 // String Skipping removeExpiredKeys() because not running as master.
      15: invokeinterface #70,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      20: return
      21: invokestatic  #35                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
      24: lstore_1
      25: aload_0
      26: getfield      #7                  // Field allKeys:Ljava/util/Map;
      29: invokeinterface #97,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      34: invokeinterface #98,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      39: astore_3
      40: aload_3
      41: invokeinterface #99,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      46: ifeq          130
      49: aload_3
      50: invokeinterface #100,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      55: checkcast     #53                 // class org/apache/hadoop/hbase/security/token/AuthenticationKey
      58: astore        4
      60: aload         4
      62: invokevirtual #101                // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getExpiration:()J
      65: lload_1
      66: lcmp
      67: ifge          127
      70: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      73: invokeinterface #72,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      78: ifeq          112
      81: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      84: new           #17                 // class java/lang/StringBuilder
      87: dup
      88: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
      91: ldc           #102                // String Removing expired key
      93: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      96: aload         4
      98: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
     101: invokevirtual #76                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     104: invokevirtual #22                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     107: invokeinterface #74,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     112: aload_3
     113: invokeinterface #103,  1          // InterfaceMethod java/util/Iterator.remove:()V
     118: aload_0
     119: getfield      #3                  // Field zkWatcher:Lorg/apache/hadoop/hbase/security/token/ZKSecretWatcher;
     122: aload         4
     124: invokevirtual #104                // Method org/apache/hadoop/hbase/security/token/ZKSecretWatcher.removeKeyFromZK:(Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;)V
     127: goto          40
     130: return

  synchronized boolean isCurrentKeyRolled();
    Code:
       0: aload_0
       1: getfield      #36                 // Field currentKey:Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;
       4: ifnull        11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ireturn

  synchronized void rollCurrentKey();
    Code:
       0: aload_0
       1: getfield      #16                 // Field leaderElector:Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector;
       4: invokevirtual #34                 // Method org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager$LeaderElector.isMaster:()Z
       7: ifne          21
      10: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      13: ldc           #105                // String Skipping rollCurrentKey() because not running as master.
      15: invokeinterface #70,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      20: return
      21: invokestatic  #35                 // Method org/apache/hadoop/hbase/util/EnvironmentEdgeManager.currentTime:()J
      24: lstore_1
      25: aload_0
      26: getfield      #36                 // Field currentKey:Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;
      29: astore_3
      30: new           #53                 // class org/apache/hadoop/hbase/security/token/AuthenticationKey
      33: dup
      34: aload_0
      35: dup
      36: getfield      #91                 // Field idSeq:I
      39: iconst_1
      40: iadd
      41: dup_x1
      42: putfield      #91                 // Field idSeq:I
      45: ldc2_w        #107                // long 9223372036854775807l
      48: aload_0
      49: invokevirtual #109                // Method generateSecret:()Ljavax/crypto/SecretKey;
      52: invokespecial #110                // Method org/apache/hadoop/hbase/security/token/AuthenticationKey."<init>":(IJLjavax/crypto/SecretKey;)V
      55: astore        4
      57: aload_0
      58: getfield      #7                  // Field allKeys:Ljava/util/Map;
      61: aload         4
      63: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
      66: invokestatic  #51                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      69: aload         4
      71: invokeinterface #90,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      76: pop
      77: aload_0
      78: aload         4
      80: putfield      #36                 // Field currentKey:Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;
      83: aload_0
      84: getfield      #3                  // Field zkWatcher:Lorg/apache/hadoop/hbase/security/token/ZKSecretWatcher;
      87: aload         4
      89: invokevirtual #111                // Method org/apache/hadoop/hbase/security/token/ZKSecretWatcher.addKeyToZK:(Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;)V
      92: aload_0
      93: lload_1
      94: putfield      #112                // Field lastKeyUpdate:J
      97: aload_3
      98: ifnull        137
     101: aload_3
     102: lload_1
     103: aload_0
     104: getfield      #13                 // Field tokenMaxLifetime:J
     107: ladd
     108: invokevirtual #113                // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.setExpiration:(J)V
     111: aload_0
     112: getfield      #7                  // Field allKeys:Ljava/util/Map;
     115: aload_3
     116: invokevirtual #37                 // Method org/apache/hadoop/hbase/security/token/AuthenticationKey.getKeyId:()I
     119: invokestatic  #51                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     122: aload_3
     123: invokeinterface #90,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     128: pop
     129: aload_0
     130: getfield      #3                  // Field zkWatcher:Lorg/apache/hadoop/hbase/security/token/ZKSecretWatcher;
     133: aload_3
     134: invokevirtual #114                // Method org/apache/hadoop/hbase/security/token/ZKSecretWatcher.updateKeyInZK:(Lorg/apache/hadoop/hbase/security/token/AuthenticationKey;)V
     137: return

  synchronized long getLastKeyUpdate();
    Code:
       0: aload_0
       1: getfield      #112                // Field lastKeyUpdate:J
       4: lreturn

  public static javax.crypto.SecretKey createSecretKey(byte[]);
    Code:
       0: aload_0
       1: invokestatic  #115                // Method org/apache/hadoop/security/token/SecretManager.createSecretKey:([B)Ljavax/crypto/SecretKey;
       4: areturn

  public org.apache.hadoop.security.token.TokenIdentifier createIdentifier();
    Code:
       0: aload_0
       1: invokevirtual #116                // Method createIdentifier:()Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier;
       4: areturn

  public byte[] retrievePassword(org.apache.hadoop.security.token.TokenIdentifier) throws org.apache.hadoop.security.token.SecretManager$InvalidToken;
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #78                 // class org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier
       5: invokevirtual #117                // Method retrievePassword:(Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier;)[B
       8: areturn

  protected byte[] createPassword(org.apache.hadoop.security.token.TokenIdentifier);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #78                 // class org/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier
       5: invokevirtual #118                // Method createPassword:(Lorg/apache/hadoop/hbase/security/token/AuthenticationTokenIdentifier;)[B
       8: areturn

  static org.apache.hadoop.hbase.security.token.ZKSecretWatcher access$000(org.apache.hadoop.hbase.security.token.AuthenticationTokenSecretManager);
    Code:
       0: aload_0
       1: getfield      #3                  // Field zkWatcher:Lorg/apache/hadoop/hbase/security/token/ZKSecretWatcher;
       4: areturn

  static org.slf4j.Logger access$100();
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static long access$200(org.apache.hadoop.hbase.security.token.AuthenticationTokenSecretManager);
    Code:
       0: aload_0
       1: getfield      #1                  // Field keyUpdateInterval:J
       4: lreturn

  static {};
    Code:
       0: ldc           #19                 // class org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager
       2: invokestatic  #119                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       8: return
}
